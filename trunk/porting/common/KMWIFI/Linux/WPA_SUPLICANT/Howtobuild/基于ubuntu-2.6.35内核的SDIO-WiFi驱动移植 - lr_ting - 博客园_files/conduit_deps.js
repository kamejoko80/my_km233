(function(a,b){function c(a){var b=p[a]={},c,d,a=a.split(/\s+/);c=0;for(d=a.length;c<d;c++)b[a[c]]=!0;return b}function d(a,c,d){if(d===b&&1===a.nodeType)if(d="data-"+c.replace(K,"-$1").toLowerCase(),d=a.getAttribute(d),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:h.isNumeric(d)?parseFloat(d):t.test(d)?h.parseJSON(d):d}catch(e){}h.data(a,c,d)}else d=b;return d}function e(a){for(var b in a)if(!("data"===b&&h.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function g(a,
b,c){var d=b+"defer",e=b+"queue",g=b+"mark",l=h._data(a,d);l&&("queue"===c||!h._data(a,e))&&("mark"===c||!h._data(a,g))&&setTimeout(function(){!h._data(a,e)&&!h._data(a,g)&&(h.removeData(a,d,!0),l.fire())},0)}function k(){return!1}function m(){return!0}function o(a,b,c){b=b||0;if(h.isFunction(b))return h.grep(a,function(a,q){return!!b.call(a,q,a)===c});if(b.nodeType)return h.grep(a,function(a){return a===b===c});if("string"===typeof b){var d=h.grep(a,function(a){return 1===a.nodeType});if(Ta.test(b))return h.filter(b,
d,!c);b=h.filter(b,d)}return h.grep(a,function(a){return 0<=h.inArray(a,b)===c})}function r(a){var b=sa.split("|"),a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function v(a,b){if(1===b.nodeType&&h.hasData(a)){var c,d,e;d=h._data(a);var g=h._data(b,d),l=d.events;if(l)for(c in delete g.handle,g.events={},l){d=0;for(e=l[c].length;d<e;d++)h.event.add(b,c+(l[c][d].namespace?".":"")+l[c][d].namespace,l[c][d],l[c][d].data)}g.data&&(g.data=h.extend({},g.data))}}
function s(a,b){var c;if(1===b.nodeType){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);c=b.nodeName.toLowerCase();if("object"===c)b.outerHTML=a.outerHTML;else if("input"===c&&("checkbox"===a.type||"radio"===a.type)){if(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value)b.value=a.value}else if("option"===c)b.selected=a.defaultSelected;else if("input"===c||"textarea"===c)b.defaultValue=a.defaultValue;b.removeAttribute(h.expando)}}function w(a){return"undefined"!==
typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function C(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function B(a){var b=(a.nodeName||"").toLowerCase();"input"===b?C(a):"script"!==b&&"undefined"!==typeof a.getElementsByTagName&&h.grep(a.getElementsByTagName("input"),C)}function z(a,b){b.src?h.ajax({url:b.src,async:!1,dataType:"script"}):h.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Ua,
"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}function G(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e="width"===b?Va:Wa,g=0,l=e.length;if(0<d){if("border"!==c)for(;g<l;g++)c||(d-=parseFloat(h.css(a,"padding"+e[g]))||0),d="margin"===c?d+(parseFloat(h.css(a,c+e[g]))||0):d-(parseFloat(h.css(a,"border"+e[g]+"Width"))||0);return d+"px"}d=Z(a,b,b);if(0>d||null==d)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<l;g++)d+=parseFloat(h.css(a,"padding"+e[g]))||0,"padding"!==c&&(d+=parseFloat(h.css(a,
"border"+e[g]+"Width"))||0),"margin"===c&&(d+=parseFloat(h.css(a,c+e[g]))||0);return d+"px"}function D(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");if(h.isFunction(c))for(var d=b.toLowerCase().split(ta),e=0,g=d.length,l,p;e<g;e++)l=d[e],(p=/^\+/.test(l))&&(l=l.substr(1)||"*"),l=a[l]=a[l]||[],l[p?"unshift":"push"](c)}}function I(a,c,d,h,e,g){e=e||c.dataTypes[0];g=g||{};g[e]=!0;for(var e=a[e],l=0,p=e?e.length:0,n=a===ja,k;l<p&&(n||!k);l++)k=e[l](c,d,h),"string"===typeof k&&(!n||g[k]?k=b:
(c.dataTypes.unshift(k),k=I(a,c,d,h,k,g)));if((n||!k)&&!g["*"])k=I(a,c,d,h,"*",g);return k}function L(a,c){var d,e,g=h.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&h.extend(!0,a,e)}function n(a,b,c,d){if(h.isArray(b))h.each(b,function(b,H){c||Xa.test(a)?d(a,H):n(a+"["+("object"===typeof H||h.isArray(H)?b:"")+"]",H,c,d)});else if(!c&&null!=b&&"object"===typeof b)for(var e in b)n(a+"["+e+"]",b[e],c,d);else d(a,b)}function l(){try{return new a.XMLHttpRequest}catch(b){}}
function A(){setTimeout(O,0);return fa=h.now()}function O(){fa=b}function E(a,b){var c={};h.each(ua.concat.apply([],ua.slice(0,b)),function(){c[this]=a});return c}function S(a){if(!ka[a]){var b=u.body,c=h("<"+a+">").appendTo(b),d=c.css("display");c.remove();if("none"===d||""===d){R||(R=u.createElement("iframe"),R.frameBorder=R.width=R.height=0);b.appendChild(R);if(!aa||!R.createElement)aa=(R.contentWindow||R.contentDocument).document,aa.write(("CSS1Compat"===u.compatMode?"<!doctype html>":"")+"<html><body>"),
aa.close();c=aa.createElement(a);aa.body.appendChild(c);d=h.css(c,"display");b.removeChild(R)}ka[a]=d}return ka[a]}function N(a){return h.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var u=a.document,P=a.navigator,da=a.location,h=function(){function c(){if(!d.isReady){try{u.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,g)},h=a.jQuery,e=a.$,g,l=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,p=/\S/,k=/^\s+/,n=/\s+$/,
m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,y=/^[\],:{}\s]*$/,A=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,t=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,K=/(webkit)[ \/]([\w.]+)/,B=/(opera)(?:.*version)?[ \/]([\w.]+)/,s=/(msie) ([\w.]+)/,r=/(mozilla)(?:.*? rv:([\w.]+))?/,O=/-([a-z]|[0-9])/ig,E=/^-ms-/,v=function(a,b){return(b+"").toUpperCase()},z=P.userAgent,ga,ba,Za=Object.prototype.toString,la=Object.prototype.hasOwnProperty,ma=Array.prototype.push,ea=Array.prototype.slice,
Q=String.prototype.trim,va=Array.prototype.indexOf,w={};d.fn=d.prototype={constructor:d,init:function(a,c,q){var h;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!c&&u.body)return this.context=u,this[0]=u.body,this.selector=a,this.length=1,this;if("string"===typeof a){if((h="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:l.exec(a))&&(h[1]||!c)){if(h[1])return q=(c=c instanceof d?c[0]:c)?c.ownerDocument||c:u,(a=m.exec(a))?d.isPlainObject(c)?
(a=[u.createElement(a[1])],d.fn.attr.call(a,c,!0)):a=[q.createElement(a[1])]:(a=d.buildFragment([h[1]],[q]),a=(a.cacheable?d.clone(a.fragment):a.fragment).childNodes),d.merge(this,a);if((c=u.getElementById(h[2]))&&c.parentNode){if(c.id!==h[2])return q.find(a);this.length=1;this[0]=c}this.context=u;this.selector=a;return this}return!c||c.jquery?(c||q).find(a):this.constructor(c).find(a)}if(d.isFunction(a))return q.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return d.makeArray(a,
this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return ea.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var q=this.constructor();d.isArray(a)?ma.apply(q,a):d.merge(q,a);q.prevObject=this;q.context=this.context;"find"===b?q.selector=this.selector+(this.selector?" ":"")+c:b&&(q.selector=this.selector+"."+b+"("+c+")");return q},each:function(a,b){return d.each(this,a,b)},ready:function(a){d.bindReady();
ga.add(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ea.apply(this,arguments),"slice",ea.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ma,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var a,
c,q,h,e,F=arguments[0]||{},J=1,g=arguments.length,l=!1;"boolean"===typeof F&&(l=F,F=arguments[1]||{},J=2);"object"!==typeof F&&!d.isFunction(F)&&(F={});g===J&&(F=this,--J);for(;J<g;J++)if(null!=(a=arguments[J]))for(c in a)q=F[c],h=a[c],F!==h&&(l&&h&&(d.isPlainObject(h)||(e=d.isArray(h)))?(e?(e=!1,q=q&&d.isArray(q)?q:[]):q=q&&d.isPlainObject(q)?q:{},F[c]=d.extend(l,q,h)):h!==b&&(F[c]=h));return F};d.extend({noConflict:function(b){a.$===d&&(a.$=e);b&&a.jQuery===d&&(a.jQuery=h);return d},isReady:!1,
readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(!0===a&&!--d.readyWait||!0!==a&&!d.isReady){if(!u.body)return setTimeout(d.ready,1);d.isReady=!0;!0!==a&&0<--d.readyWait||(ga.fireWith(u,[d]),d.fn.trigger&&d(u).trigger("ready").off("ready"))}},bindReady:function(){if(!ga){ga=d.Callbacks("once memory");if("complete"===u.readyState)return setTimeout(d.ready,1);if(u.addEventListener)u.addEventListener("DOMContentLoaded",ba,!1),a.addEventListener("load",d.ready,!1);else if(u.attachEvent){u.attachEvent("onreadystatechange",
ba);a.attachEvent("onload",d.ready);var b=!1;try{b=null==a.frameElement}catch(h){}u.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return"function"===d.type(a)},isArray:Array.isArray||function(a){return"array"===d.type(a)},isWindow:function(a){return a&&"object"===typeof a&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?""+a:w[Za.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==d.type(a)||a.nodeType||d.isWindow(a))return!1;
try{if(a.constructor&&!la.call(a,"constructor")&&!la.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var q in a);return q===b||la.call(a,q)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseJSON:function(b){if("string"!==typeof b||!b)return null;b=d.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(y.test(b.replace(A,"@").replace(t,"]").replace(o,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+
b)},parseXML:function(c){var q,h;try{a.DOMParser?(h=new DOMParser,q=h.parseFromString(c,"text/xml")):(q=new ActiveXObject("Microsoft.XMLDOM"),q.async="false",q.loadXML(c))}catch(e){q=b}(!q||!q.documentElement||q.getElementsByTagName("parsererror").length)&&d.error("Invalid XML: "+c);return q},noop:function(){},globalEval:function(b){b&&p.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(E,"ms-").replace(O,v)},nodeName:function(a,b){return a.nodeName&&
a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,q){var h,e=0,F=a.length,J=F===b||d.isFunction(a);if(q)if(J)for(h in a){if(!1===c.apply(a[h],q))break}else for(;e<F&&!1!==c.apply(a[e++],q););else if(J)for(h in a){if(!1===c.call(a[h],h,a[h]))break}else for(;e<F&&!1!==c.call(a[e],e,a[e++]););return a},trim:Q?function(a){return null==a?"":Q.call(a)}:function(a){return null==a?"":a.toString().replace(k,"").replace(n,"")},makeArray:function(a,b){var c=b||[];if(null!=a){var q=d.type(a);null==
a.length||"string"===q||"function"===q||"regexp"===q||d.isWindow(a)?ma.call(c,a):d.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(va)return va.call(b,a,c);d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,q=0;if("number"===typeof c.length)for(var H=c.length;q<H;q++)a[d++]=c[q];else for(;c[q]!==b;)a[d++]=c[q++];a.length=d;return a},grep:function(a,b,c){for(var d=[],q,c=!!c,H=0,h=a.length;H<h;H++)q=!!b(a[H],H),c!==
q&&d.push(a[H]);return d},map:function(a,c,q){var h,e,F=[],J=0,g=a.length;if(a instanceof d||g!==b&&"number"===typeof g&&(0<g&&a[0]&&a[g-1]||0===g||d.isArray(a)))for(;J<g;J++)h=c(a[J],J,q),null!=h&&(F[F.length]=h);else for(e in a)h=c(a[e],e,q),null!=h&&(F[F.length]=h);return F.concat.apply([],F)},guid:1,proxy:function(a,c){if("string"===typeof c)var q=a[c],c=a,a=q;if(!d.isFunction(a))return b;var h=ea.call(arguments,2),q=function(){return a.apply(c,h.concat(ea.call(arguments)))};q.guid=a.guid=a.guid||
q.guid||d.guid++;return q},access:function(a,c,q,h,e,F){var J=a.length;if("object"===typeof c){for(var g in c)d.access(a,g,c[g],h,e,q);return a}if(q!==b){h=!F&&h&&d.isFunction(q);for(g=0;g<J;g++)e(a[g],c,h?q.call(a[g],g,e(a[g],c)):q,F);return a}return J?e(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=K.exec(a)||B.exec(a)||s.exec(a)||0>a.indexOf("compatible")&&r.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,
c)}d.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,q){q&&q instanceof d&&!(q instanceof a)&&(q=a(q));return d.fn.init.call(this,c,q,b)};a.fn.init.prototype=a.fn;var b=a(u);return a},browser:{}});d.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(a,b){w["[object "+b+"]"]=b.toLowerCase()});z=d.uaMatch(z);z.browser&&(d.browser[z.browser]=!0,d.browser.version=z.version);d.browser.webkit&&(d.browser.safari=
!0);p.test("\u00a0")&&(k=/^[\s\xA0]+/,n=/[\s\xA0]+$/);g=d(u);u.addEventListener?ba=function(){u.removeEventListener("DOMContentLoaded",ba,false);d.ready()}:u.attachEvent&&(ba=function(){if(u.readyState==="complete"){u.detachEvent("onreadystatechange",ba);d.ready()}});return d}(),p={};h.Callbacks=function(a){var a=a?p[a]||c(a):{},d=[],e=[],g,l,k,n,m,y=function(b){var c,e,F,g;c=0;for(e=b.length;c<e;c++)F=b[c],g=h.type(F),"array"===g?y(F):"function"===g&&(!a.unique||!t.has(F))&&d.push(F)},A=function(b,
c){c=c||[];g=!a.memory||[b,c];l=!0;m=k||0;k=0;for(n=d.length;d&&m<n;m++)if(!1===d[m].apply(b,c)&&a.stopOnFalse){g=!0;break}l=!1;d&&(a.once?!0===g?t.disable():d=[]:e&&e.length&&(g=e.shift(),t.fireWith(g[0],g[1])))},t={add:function(){if(d){var a=d.length;y(arguments);l?n=d.length:g&&!0!==g&&(k=a,A(g[0],g[1]))}return this},remove:function(){if(d)for(var b=arguments,c=0,h=b.length;c<h;c++)for(var e=0;e<d.length&&!(b[c]===d[e]&&(l&&e<=n&&(n--,e<=m&&m--),d.splice(e--,1),a.unique));e++);return this},has:function(a){if(d)for(var b=
0,c=d.length;b<c;b++)if(a===d[b])return!0;return!1},empty:function(){d=[];return this},disable:function(){d=e=g=b;return this},disabled:function(){return!d},lock:function(){e=b;(!g||!0===g)&&t.disable();return this},locked:function(){return!e},fireWith:function(b,c){e&&(l?a.once||e.push([b,c]):(!a.once||!g)&&A(b,c));return this},fire:function(){t.fireWith(this,arguments);return this},fired:function(){return!!g}};return t};var y=[].slice;h.extend({Deferred:function(a){var b=h.Callbacks("once memory"),
c=h.Callbacks("once memory"),d=h.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},l={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){p.done(a).fail(b).progress(c);return this},always:function(){p.done.apply(p,arguments).fail.apply(p,arguments);return this},pipe:function(a,b,c){return h.Deferred(function(d){h.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],q=b[1],H;if(h.isFunction(c))p[a](function(){if((H=
c.apply(this,arguments))&&h.isFunction(H.promise))H.promise().then(d.resolve,d.reject,d.notify);else d[q+"With"](this===p?d:this,[H])});else p[a](d[q])})}).promise()},promise:function(a){if(null==a)a=l;else for(var b in l)a[b]=l[b];return a}},p=l.promise({}),k;for(k in g)p[k]=g[k].fire,p[k+"With"]=g[k].fireWith;p.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock);a&&a.call(p,p);return p},when:function(a){function b(a){return function(b){d[a]=1<arguments.length?
y.call(arguments,0):b;--p||k.resolveWith(k,d)}}function c(a){return function(b){l[a]=1<arguments.length?y.call(arguments,0):b;k.notifyWith(n,l)}}var d=y.call(arguments,0),e=0,g=d.length,l=Array(g),p=g,k=1>=g&&a&&h.isFunction(a.promise)?a:h.Deferred(),n=k.promise();if(1<g){for(;e<g;e++)d[e]&&d[e].promise&&h.isFunction(d[e].promise)?d[e].promise().then(b(e),k.reject,c(e)):--p;p||k.resolveWith(k,d)}else k!==a&&k.resolveWith(k,g?[a]:[]);return n}});h.support=function(){var b,c,d,e,g,l,p,k,n=u.createElement("div");
n.setAttribute("className","t");n.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";c=n.getElementsByTagName("*");d=n.getElementsByTagName("a")[0];if(!c||!c.length||!d)return{};e=u.createElement("select");g=e.appendChild(u.createElement("option"));c=n.getElementsByTagName("input")[0];b={leadingWhitespace:3===n.firstChild.nodeType,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,
style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===c.value,optSelected:g.selected,getSetAttribute:"t"!==n.className,enctype:!!u.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==u.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};
c.checked=!0;b.noCloneChecked=c.cloneNode(!0).checked;e.disabled=!0;b.optDisabled=!g.disabled;try{delete n.test}catch(m){b.deleteExpando=!1}!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"));c=u.createElement("input");c.value="t";c.setAttribute("type","radio");b.radioValue="t"===c.value;c.setAttribute("checked","checked");n.appendChild(c);d=u.createDocumentFragment();d.appendChild(n.lastChild);b.checkClone=
d.cloneNode(!0).cloneNode(!0).lastChild.checked;b.appendChecked=c.checked;d.removeChild(c);d.appendChild(n);n.innerHTML="";a.getComputedStyle&&(c=u.createElement("div"),c.style.width="0",c.style.marginRight="0",n.style.width="2px",n.appendChild(c),b.reliableMarginRight=0===(parseInt((a.getComputedStyle(c,null)||{marginRight:0}).marginRight,10)||0));if(n.attachEvent)for(p in{submit:1,change:1,focusin:1})c="on"+p,k=c in n,k||(n.setAttribute(c,"return;"),k="function"===typeof n[c]),b[p+"Bubbles"]=k;
d.removeChild(n);d=e=g=c=n=c=null;h(function(){var a,c,d,H,e=u.getElementsByTagName("body")[0];if(e){a=u.createElement("div");a.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";e.insertBefore(a,e.firstChild);n=u.createElement("div");a.appendChild(n);n.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";l=n.getElementsByTagName("td");k=l[0].offsetHeight===0;l[0].style.display="";l[1].style.display="none";b.reliableHiddenOffsets=
k&&l[0].offsetHeight===0;n.innerHTML="";n.style.width=n.style.paddingLeft="1px";h.boxModel=b.boxModel=n.offsetWidth===2;if(typeof n.style.zoom!=="undefined"){n.style.display="inline";n.style.zoom=1;b.inlineBlockNeedsLayout=n.offsetWidth===2;n.style.display="";n.innerHTML="<div style='width:4px;'></div>";b.shrinkWrapBlocks=n.offsetWidth!==2}n.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;";n.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
c=n.firstChild;d=c.firstChild;H={doesNotAddBorder:d.offsetTop!==5,doesAddBorderForTableAndCells:c.nextSibling.firstChild.firstChild.offsetTop===5};d.style.position="fixed";d.style.top="20px";H.fixedPosition=d.offsetTop===20||d.offsetTop===15;d.style.position=d.style.top="";c.style.overflow="hidden";c.style.position="relative";H.subtractsBorderForOverflowNotVisible=d.offsetTop===-5;H.doesNotIncludeMarginInBodyOffset=e.offsetTop!==1;e.removeChild(a);n=null;h.extend(b,H)}});return b}();var t=/^(?:\{.*\}|\[.*\])$/,
K=/([A-Z])/g;h.extend({cache:{},uuid:0,expando:"jQuery"+(h.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?h.cache[a[h.expando]]:a[h.expando];return!!a&&!e(a)},data:function(a,c,d,e){if(h.acceptData(a)){var g;g=h.expando;var l="string"===typeof c,n=a.nodeType,p=n?h.cache:a,k=n?a[g]:a[g]&&g,m="events"===c;if(k&&p[k]&&(m||e||p[k].data)||!(l&&d===b)){k||(n?a[g]=k=++h.uuid:k=g);p[k]||(p[k]={},n||
(p[k].toJSON=h.noop));if("object"===typeof c||"function"===typeof c)e?p[k]=h.extend(p[k],c):p[k].data=h.extend(p[k].data,c);g=a=p[k];e||(a.data||(a.data={}),a=a.data);d!==b&&(a[h.camelCase(c)]=d);if(m&&!a[c])return g.events;l?(d=a[c],null==d&&(d=a[h.camelCase(c)])):d=a;return d}}},removeData:function(a,b,c){if(h.acceptData(a)){var d,g,l,n=h.expando,k=a.nodeType,p=k?h.cache:a,m=k?a[n]:n;if(p[m]){if(b&&(d=c?p[m]:p[m].data)){h.isArray(b)||(b in d?b=[b]:(b=h.camelCase(b),b=b in d?[b]:b.split(" ")));g=
0;for(l=b.length;g<l;g++)delete d[b[g]];if(!(c?e:h.isEmptyObject)(d))return}if(!c&&(delete p[m].data,!e(p[m])))return;h.support.deleteExpando||!p.setInterval?delete p[m]:p[m]=null;k&&(h.support.deleteExpando?delete a[n]:a.removeAttribute?a.removeAttribute(n):a[n]=null)}}},_data:function(a,b,c){return h.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=h.noData[a.nodeName.toLowerCase()];if(b)return!(!0===b||a.getAttribute("classid")!==b)}return!0}});h.fn.extend({data:function(a,c){var e,
g,l,n=null;if("undefined"===typeof a){if(this.length&&(n=h.data(this[0]),1===this[0].nodeType&&!h._data(this[0],"parsedAttrs"))){g=this[0].attributes;for(var p=0,k=g.length;p<k;p++)l=g[p].name,0===l.indexOf("data-")&&(l=h.camelCase(l.substring(5)),d(this[0],l,n[l]));h._data(this[0],"parsedAttrs",!0)}return n}if("object"===typeof a)return this.each(function(){h.data(this,a)});e=a.split(".");e[1]=e[1]?"."+e[1]:"";return c===b?(n=this.triggerHandler("getData"+e[1]+"!",[e[0]]),n===b&&this.length&&(n=
h.data(this[0],a),n=d(this[0],a,n)),n===b&&e[1]?this.data(e[0]):n):this.each(function(){var b=h(this),d=[e[0],c];b.triggerHandler("setData"+e[1]+"!",d);h.data(this,a,c);b.triggerHandler("changeData"+e[1]+"!",d)})},removeData:function(a){return this.each(function(){h.removeData(this,a)})}});h.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",h._data(a,b,(h._data(a,b)||0)+1))},_unmark:function(a,b,c){!0!==a&&(c=b,b=a,a=!1);if(b){var c=c||"fx",d=c+"mark";(a=a?0:(h._data(b,d)||1)-1)?h._data(b,d,a):(h.removeData(b,
d,!0),g(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=h._data(a,b),c&&(!d||h.isArray(c)?d=h._data(a,b,h.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){var b=b||"fx",c=h.queue(a,b),d=c.shift(),e={};"inprogress"===d&&(d=c.shift());d&&("fx"===b&&c.unshift("inprogress"),h._data(a,b+".run",e),d.call(a,function(){h.dequeue(a,b)},e));c.length||(h.removeData(a,b+"queue "+b+".run",!0),g(a,b,"queue"))}});h.fn.extend({queue:function(a,c){"string"!==typeof a&&(c=a,a="fx");
return c===b?h.queue(this[0],a):this.each(function(){var b=h.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&h.dequeue(this,a)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},delay:function(a,b){a=h.fx?h.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a){function c(){--l||d.resolveWith(e,[e])}"string"!==typeof a&&(a=b);for(var a=a||"fx",
d=h.Deferred(),e=this,g=e.length,l=1,n=a+"defer",p=a+"queue",a=a+"mark",k;g--;)if(k=h.data(e[g],n,b,!0)||(h.data(e[g],p,b,!0)||h.data(e[g],a,b,!0))&&h.data(e[g],n,h.Callbacks("once memory"),!0))l++,k.add(c);c();return d.promise()}});var Q=/[\n\t\r]/g,W=/\s+/,na=/\r/g,$a=/^(?:button|input)$/i,ab=/^(?:button|input|object|select|textarea)$/i,bb=/^a(?:rea)?$/i,wa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,xa=h.support.getSetAttribute,
T,ya,za;h.fn.extend({attr:function(a,b){return h.access(this,a,b,!0,h.attr)},removeAttr:function(a){return this.each(function(){h.removeAttr(this,a)})},prop:function(a,b){return h.access(this,a,b,!0,h.prop)},removeProp:function(a){a=h.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,l,n;if(h.isFunction(a))return this.each(function(b){h(this).addClass(a.call(this,b,this.className))});if(a&&"string"===typeof a){b=a.split(W);c=0;
for(d=this.length;c<d;c++)if(e=this[c],1===e.nodeType)if(!e.className&&1===b.length)e.className=a;else{g=" "+e.className+" ";l=0;for(n=b.length;l<n;l++)~g.indexOf(" "+b[l]+" ")||(g+=b[l]+" ");e.className=h.trim(g)}}return this},removeClass:function(a){var c,d,e,g,l,n,p;if(h.isFunction(a))return this.each(function(b){h(this).removeClass(a.call(this,b,this.className))});if(a&&"string"===typeof a||a===b){c=(a||"").split(W);d=0;for(e=this.length;d<e;d++)if(g=this[d],1===g.nodeType&&g.className)if(a){l=
(" "+g.className+" ").replace(Q," ");n=0;for(p=c.length;n<p;n++)l=l.replace(" "+c[n]+" "," ");g.className=h.trim(l)}else g.className=""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"===typeof b;return h.isFunction(a)?this.each(function(c){h(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,g=0,l=h(this),n=b,p=a.split(W);e=p[g++];)n=d?n:!l.hasClass(e),l[n?"addClass":"removeClass"](e);else if("undefined"===c||"boolean"===c)this.className&&
h._data(this,"__className__",this.className),this.className=this.className||!1===a?"":h._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(Q," ").indexOf(a))return!0;return!1},val:function(a){var c,d,e,g=this[0];if(arguments.length)return e=h.isFunction(a),this.each(function(d){var g=h(this);if(1===this.nodeType&&(d=e?a.call(this,d,g.val()):a,null==d?d="":"number"===typeof d?d+="":h.isArray(d)&&
(d=h.map(d,function(a){return a==null?"":a+""})),c=h.valHooks[this.nodeName.toLowerCase()]||h.valHooks[this.type],!c||!("set"in c)||c.set(this,d,"value")===b))this.value=d});if(g){if((c=h.valHooks[g.nodeName.toLowerCase()]||h.valHooks[g.type])&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return"string"===typeof d?d.replace(na,""):null==d?"":d}}});h.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d=
a.selectedIndex,e=[],g=a.options,l="select-one"===a.type;if(0>d)return null;a=l?d:0;for(c=l?d+1:g.length;a<c;a++)if(b=g[a],b.selected&&(h.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!h.nodeName(b.parentNode,"optgroup"))){b=h(b).val();if(l)return b;e.push(b)}return l&&!e.length&&g.length?h(g[d]).val():e},set:function(a,b){var c=h.makeArray(b);h(a).find("option").each(function(){this.selected=0<=h.inArray(h(this).val(),c)});c.length||(a.selectedIndex=
-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,l,n=a.nodeType;if(a&&!(3===n||8===n||2===n)){if(e&&c in h.attrFn)return h(a)[c](d);if("undefined"===typeof a.getAttribute)return h.prop(a,c,d);if(e=1!==n||!h.isXMLDoc(a))c=c.toLowerCase(),l=h.attrHooks[c]||(wa.test(c)?ya:T);if(d!==b)if(null===d)h.removeAttr(a,c);else{if(l&&"set"in l&&e&&(g=l.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}else{if(l&&"get"in l&&e&&null!==
(g=l.get(a,c)))return g;g=a.getAttribute(c);return null===g?b:g}}},removeAttr:function(a,b){var c,d,e,g,l=0;if(b&&1===a.nodeType){d=b.toLowerCase().split(W);for(g=d.length;l<g;l++)if(e=d[l])c=h.propFix[e]||e,h.attr(a,e,""),a.removeAttribute(xa?e:c),wa.test(e)&&c in a&&(a[c]=!1)}},attrHooks:{type:{set:function(a,b){if($a.test(a.nodeName)&&a.parentNode)h.error("type property can't be changed");else if(!h.support.radioValue&&"radio"===b&&h.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);
c&&(a.value=c);return b}}},value:{get:function(a,b){return T&&h.nodeName(a,"button")?T.get(a,b):b in a?a.value:null},set:function(a,b,c){if(T&&h.nodeName(a,"button"))return T.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,l=
a.nodeType;if(a&&!(3===l||8===l||2===l)){if(1!==l||!h.isXMLDoc(a))c=h.propFix[c]||c,g=h.propHooks[c];return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&null!==(e=g.get(a,c))?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):ab.test(a.nodeName)||bb.test(a.nodeName)&&a.href?0:b}}}});h.attrHooks.tabindex=h.propHooks.tabIndex;ya={get:function(a,c){var d,e=h.prop(a,c);return!0===e||"boolean"!==typeof e&&(d=
a.getAttributeNode(c))&&!1!==d.nodeValue?c.toLowerCase():b},set:function(a,b,c){!1===b?h.removeAttr(a,c):(b=h.propFix[c]||c,b in a&&(a[b]=!0),a.setAttribute(c,c.toLowerCase()));return c}};xa||(za={name:!0,id:!0},T=h.valHooks.button={get:function(a,c){var d;return(d=a.getAttributeNode(c))&&(za[c]?""!==d.nodeValue:d.specified)?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);d||(d=u.createAttribute(c),a.setAttributeNode(d));return d.nodeValue=b+""}},h.attrHooks.tabindex.set=T.set,h.each(["width",
"height"],function(a,b){h.attrHooks[b]=h.extend(h.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),h.attrHooks.contenteditable={get:T.get,set:function(a,b,c){""===b&&(b="false");T.set(a,b,c)}});h.support.hrefNormalized||h.each(["href","src","width","height"],function(a,c){h.attrHooks[c]=h.extend(h.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return a===null?b:a}})});h.support.style||(h.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},
set:function(a,b){return a.style.cssText=""+b}});h.support.optSelected||(h.propHooks.selected=h.extend(h.propHooks.selected,{get:function(a){if(a=a.parentNode){a.selectedIndex;a.parentNode&&a.parentNode.selectedIndex}return null}}));h.support.enctype||(h.propFix.enctype="encoding");h.support.checkOn||h.each(["radio","checkbox"],function(){h.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}});h.each(["radio","checkbox"],function(){h.valHooks[this]=h.extend(h.valHooks[this],
{set:function(a,b){if(h.isArray(b))return a.checked=h.inArray(h(a).val(),b)>=0}})});var oa=/^(?:textarea|input|select)$/i,Aa=/^([^\.]*)?(?:\.(.+))?$/,cb=/\bhover(\.\S+)?\b/,db=/^key/,eb=/^(?:mouse|contextmenu)|click/,Ba=/^(?:focusinfocus|focusoutblur)$/,fb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,gb=function(a){if(a=fb.exec(a)){a[1]=(a[1]||"").toLowerCase();a[3]=a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)")}return a},Ca=function(a){return h.event.special.hover?a:a.replace(cb,"mouseenter$1 mouseleave$1")};
h.event={add:function(a,c,d,e,g){var l,n,p,k,m,y,t,A,o;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(l=h._data(a)))){if(d.handler){t=d;d=t.handler}if(!d.guid)d.guid=h.guid++;p=l.events;if(!p)l.events=p={};n=l.handle;if(!n){l.handle=n=function(a){return typeof h!=="undefined"&&(!a||h.event.triggered!==a.type)?h.event.dispatch.apply(n.elem,arguments):b};n.elem=a}c=h.trim(Ca(c)).split(" ");for(l=0;l<c.length;l++){k=Aa.exec(c[l])||[];m=k[1];y=(k[2]||"").split(".").sort();o=h.event.special[m]||{};m=(g?
o.delegateType:o.bindType)||m;o=h.event.special[m]||{};k=h.extend({type:m,origType:k[1],data:e,handler:d,guid:d.guid,selector:g,quick:gb(g),namespace:y.join(".")},t);A=p[m];if(!A){A=p[m]=[];A.delegateCount=0;if(!o.setup||o.setup.call(a,e,y,n)===false)a.addEventListener?a.addEventListener(m,n,false):a.attachEvent&&a.attachEvent("on"+m,n)}if(o.add){o.add.call(a,k);if(!k.handler.guid)k.handler.guid=d.guid}g?A.splice(A.delegateCount++,0,k):A.push(k);h.event.global[m]=true}a=null}},global:{},remove:function(a,
b,c,d,e){var g=h.hasData(a)&&h._data(a),l,n,p,k,m,y,A,t,o,K;if(g&&(A=g.events)){b=h.trim(Ca(b||"")).split(" ");for(l=0;l<b.length;l++){n=Aa.exec(b[l])||[];p=k=n[1];n=n[2];if(p){t=h.event.special[p]||{};p=(d?t.delegateType:t.bindType)||p;o=A[p]||[];m=o.length;n=n?RegExp("(^|\\.)"+n.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(y=0;y<o.length;y++){K=o[y];if((e||k===K.origType)&&(!c||c.guid===K.guid)&&(!n||n.test(K.namespace))&&(!d||d===K.selector||d==="**"&&K.selector)){o.splice(y--,1);
K.selector&&o.delegateCount--;t.remove&&t.remove.call(a,K)}}if(o.length===0&&m!==o.length){(!t.teardown||t.teardown.call(a,n)===false)&&h.removeEvent(a,p,g.handle);delete A[p]}}else for(p in A)h.event.remove(a,p+b[l],c,d,true)}if(h.isEmptyObject(A)){if(b=g.handle)b.elem=null;h.removeData(a,["events","handle"],true)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||!(e.nodeType===3||e.nodeType===8)){var l=c.type||c,n=[],p,k,m,y,t;if(!Ba.test(l+h.event.triggered)){if(l.indexOf("!")>=
0){l=l.slice(0,-1);p=true}if(l.indexOf(".")>=0){n=l.split(".");l=n.shift();n.sort()}if(e&&!h.event.customEvent[l]||h.event.global[l]){c=typeof c==="object"?c[h.expando]?c:new h.Event(l,c):new h.Event(l);c.type=l;c.isTrigger=true;c.exclusive=p;c.namespace=n.join(".");c.namespace_re=c.namespace?RegExp("(^|\\.)"+n.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;p=l.indexOf(":")<0?"on"+l:"";if(e){c.result=b;if(!c.target)c.target=e;d=d!=null?h.makeArray(d):[];d.unshift(c);m=h.event.special[l]||{};if(!(m.trigger&&
m.trigger.apply(e,d)===false)){t=[[e,m.bindType||l]];if(!g&&!m.noBubble&&!h.isWindow(e)){y=m.delegateType||l;n=Ba.test(y+l)?e:e.parentNode;for(k=null;n;n=n.parentNode){t.push([n,y]);k=n}k&&k===e.ownerDocument&&t.push([k.defaultView||k.parentWindow||a,y])}for(k=0;k<t.length&&!c.isPropagationStopped();k++){n=t[k][0];c.type=t[k][1];(y=(h._data(n,"events")||{})[c.type]&&h._data(n,"handle"))&&y.apply(n,d);(y=p&&n[p])&&h.acceptData(n)&&y.apply(n,d)===false&&c.preventDefault()}c.type=l;if(!g&&!c.isDefaultPrevented()&&
(!m._default||m._default.apply(e.ownerDocument,d)===false)&&!(l==="click"&&h.nodeName(e,"a"))&&h.acceptData(e))if(p&&e[l]&&(l!=="focus"&&l!=="blur"||c.target.offsetWidth!==0)&&!h.isWindow(e)){(k=e[p])&&(e[p]=null);h.event.triggered=l;e[l]();h.event.triggered=b;k&&(e[p]=k)}return c.result}}else{e=h.cache;for(k in e)e[k].events&&e[k].events[l]&&h.event.trigger(c,d,e[k].handle.elem,true)}}}}},dispatch:function(c){var c=h.event.fix(c||a.event),d=(h._data(this,"events")||{})[c.type]||[],e=d.delegateCount,
g=[].slice.call(arguments,0),l=!c.exclusive&&!c.namespace,n=[],p,k,m,y,t,A,o;g[0]=c;c.delegateTarget=this;if(e&&!c.target.disabled&&!(c.button&&c.type==="click")){m=h(this);m.context=this.ownerDocument||this;for(k=c.target;k!=this;k=k.parentNode||this){t={};A=[];m[0]=k;for(p=0;p<e;p++){y=d[p];o=y.selector;if(t[o]===b){var K=t,B=o,s;if(y.quick){s=y.quick;var r=k.attributes||{};s=(!s[1]||k.nodeName.toLowerCase()===s[1])&&(!s[2]||(r.id||{}).value===s[2])&&(!s[3]||s[3].test((r["class"]||{}).value))}else s=
m.is(o);K[B]=s}t[o]&&A.push(y)}A.length&&n.push({elem:k,matches:A})}}d.length>e&&n.push({elem:this,matches:d.slice(e)});for(p=0;p<n.length&&!c.isPropagationStopped();p++){e=n[p];c.currentTarget=e.elem;for(d=0;d<e.matches.length&&!c.isImmediatePropagationStopped();d++){y=e.matches[d];if(l||!c.namespace&&!y.namespace||c.namespace_re&&c.namespace_re.test(y.namespace)){c.data=y.data;c.handleObj=y;y=((h.event.special[y.origType]||{}).handle||y.handler).apply(e.elem,g);if(y!==b){c.result=y;if(y===false){c.preventDefault();
c.stopPropagation()}}}}}return c.result},props:"attrChange,attrName,relatedNode,srcElement,altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,relatedTarget,shiftKey,target,timeStamp,view,which".split(","),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){if(a.which==null)a.which=b.charCode!=null?b.charCode:b.keyCode;return a}},mouseHooks:{props:"button,buttons,clientX,clientY,fromElement,offsetX,offsetY,pageX,pageY,screenX,screenY,toElement".split(","),
filter:function(a,c){var d,e,h=c.button,g=c.fromElement;if(a.pageX==null&&c.clientX!=null){d=a.target.ownerDocument||u;e=d.documentElement;d=d.body;a.pageX=c.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&e.clientLeft||d&&d.clientLeft||0);a.pageY=c.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0)}if(!a.relatedTarget&&g)a.relatedTarget=g===a.target?c.toElement:g;if(!a.which&&h!==b)a.which=h&1?1:h&2?3:h&4?2:0;return a}},fix:function(a){if(a[h.expando])return a;var c,
d,e=a,g=h.event.fixHooks[a.type]||{},l=g.props?this.props.concat(g.props):this.props,a=h.Event(e);for(c=l.length;c;){d=l[--c];a[d]=e[d]}if(!a.target)a.target=e.srcElement||u;if(a.target.nodeType===3)a.target=a.target.parentNode;if(a.metaKey===b)a.metaKey=a.ctrlKey;return g.filter?g.filter(a,e):a},special:{ready:{setup:h.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){if(h.isWindow(this))this.onbeforeunload=c},teardown:function(a,
b){if(this.onbeforeunload===b)this.onbeforeunload=null}}},simulate:function(a,b,c,d){a=h.extend(new h.Event,c,{type:a,isSimulated:true,originalEvent:{}});d?h.event.trigger(a,null,b):h.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};h.event.handle=h.event.dispatch;h.removeEvent=u.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,false)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};h.Event=function(a,b){if(!(this instanceof h.Event))return new h.Event(a,
b);if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?m:k}else this.type=a;b&&h.extend(this,b);this.timeStamp=a&&a.timeStamp||h.now();this[h.expando]=true};h.Event.prototype={preventDefault:function(){this.isDefaultPrevented=m;var a=this.originalEvent;if(a)a.preventDefault?a.preventDefault():a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=m;var a=this.originalEvent;
if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m;this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k};h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){h.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=a.relatedTarget,d=a.handleObj,e;if(!c||c!==this&&!h.contains(this,c)){a.type=d.origType;e=d.handler.apply(this,arguments);
a.type=b}return e}}});h.support.submitBubbles||(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return false;h.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=h.nodeName(a,"input")||h.nodeName(a,"button")?a.form:b)&&!a._submit_attached){h.event.add(a,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&h.event.simulate("submit",this.parentNode,a,true)});a._submit_attached=true}})},teardown:function(){if(h.nodeName(this,"form"))return false;h.event.remove(this,
"._submit")}});h.support.changeBubbles||(h.event.special.change={setup:function(){if(oa.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){h.event.add(this,"propertychange._change",function(a){if(a.originalEvent.propertyName==="checked")this._just_changed=true});h.event.add(this,"click._change",function(a){if(this._just_changed&&!a.isTrigger){this._just_changed=false;h.event.simulate("change",this,a,true)}})}return false}h.event.add(this,"beforeactivate._change",function(a){a=a.target;
if(oa.test(a.nodeName)&&!a._change_attached){h.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&h.event.simulate("change",this.parentNode,a,true)});a._change_attached=true}})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){h.event.remove(this,"._change");return oa.test(this.nodeName)}});h.support.focusinBubbles||h.each({focus:"focusin",
blur:"focusout"},function(a,b){var c=0,d=function(a){h.event.simulate(b,a.target,h.event.fix(a),true)};h.event.special[b]={setup:function(){c++===0&&u.addEventListener(a,d,true)},teardown:function(){--c===0&&u.removeEventListener(a,d,true)}}});h.fn.extend({on:function(a,c,d,e,g){var l,n;if(typeof a==="object"){if(typeof c!=="string"){d=c;c=b}for(n in a)this.on(n,c,d,a[n],g);return this}if(d==null&&e==null){e=c;d=c=b}else if(e==null)if(typeof c==="string"){e=d;d=b}else{e=d;d=c;c=b}if(e===false)e=k;
else if(!e)return this;if(g===1){l=e;e=function(a){h().off(a);return l.apply(this,arguments)};e.guid=l.guid||(l.guid=h.guid++)}return this.each(function(){h.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;h(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a==="object"){for(e in a)this.off(e,c,a[e]);return this}if(c===false||typeof c===
"function"){d=c;c=b}d===false&&(d=k);return this.each(function(){h.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){h(this.context).on(a,this.selector,b,c);return this},die:function(a,b){h(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,
b){return this.each(function(){h.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return h.event.trigger(a,b,this[0],true)},toggle:function(a){var b=arguments,c=a.guid||h.guid++,d=0,e=function(c){var e=(h._data(this,"lastToggle"+a.guid)||0)%d;h._data(this,"lastToggle"+a.guid,e+1);c.preventDefault();return b[e].apply(this,arguments)||false};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});h.each("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","),
function(a,b){h.fn[b]=function(a,c){if(c==null){c=a;a=null}return arguments.length>0?this.on(b,null,a,c):this.trigger(b)};h.attrFn&&(h.attrFn[b]=true);if(db.test(b))h.event.fixHooks[b]=h.event.keyHooks;if(eb.test(b))h.event.fixHooks[b]=h.event.mouseHooks});(function(){function a(b,c,d,h,g,q){for(var g=0,l=h.length;g<l;g++){var n=h[g];if(n){for(var k=false,n=n[b];n;){if(n[e]===d){k=h[n.sizset];break}if(n.nodeType===1&&!q){n[e]=d;n.sizset=g}if(n.nodeName.toLowerCase()===c){k=n;break}n=n[b]}h[g]=k}}}
function c(a,b,d,h,g,q){for(var g=0,l=h.length;g<l;g++){var n=h[g];if(n){for(var k=false,n=n[a];n;){if(n[e]===d){k=h[n.sizset];break}if(n.nodeType===1){if(!q){n[e]=d;n.sizset=g}if(typeof b!=="string"){if(n===b){k=true;break}}else if(t.filter(b,[n]).length>0){k=n;break}}n=n[a]}h[g]=k}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),g=0,l=Object.prototype.toString,
n=false,p=true,k=/\\/g,m=/\r\n/g,y=/\W/;[0,0].sort(function(){p=false;return 0});var t=function(a,b,c,e){var c=c||[],h=b=b||u;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return c;var g,q,n,k,p,H=true,J=t.isXML(b),m=[],y=a;do{d.exec("");if(g=d.exec(y)){y=g[3];m.push(g[1]);if(g[2]){k=g[3];break}}}while(g);if(m.length>1&&K.exec(a))if(m.length===2&&o.relative[m[0]])q=v(m[0]+m[1],b,e);else for(q=o.relative[m[0]]?[b]:t(m.shift(),b);m.length;){a=m.shift();o.relative[a]&&(a=a+m.shift());
q=v(a,q,e)}else{if(!e&&m.length>1&&b.nodeType===9&&!J&&o.match.ID.test(m[0])&&!o.match.ID.test(m[m.length-1])){g=t.find(m.shift(),b,J);b=g.expr?t.filter(g.expr,g.set)[0]:g.set[0]}if(b){g=e?{expr:m.pop(),set:r(e)}:t.find(m.pop(),m.length===1&&(m[0]==="~"||m[0]==="+")&&b.parentNode?b.parentNode:b,J);q=g.expr?t.filter(g.expr,g.set):g.set;for(m.length>0?n=r(q):H=false;m.length;){g=p=m.pop();o.relative[p]?g=m.pop():p="";g==null&&(g=b);o.relative[p](n,g,J)}}else n=[]}n||(n=q);n||t.error(p||a);if(l.call(n)===
"[object Array]")if(H)if(b&&b.nodeType===1)for(a=0;n[a]!=null;a++)n[a]&&(n[a]===true||n[a].nodeType===1&&t.contains(b,n[a]))&&c.push(q[a]);else for(a=0;n[a]!=null;a++)n[a]&&n[a].nodeType===1&&c.push(q[a]);else c.push.apply(c,n);else r(n,c);if(k){t(k,h,c,e);t.uniqueSort(c)}return c};t.uniqueSort=function(a){if(E){n=p;a.sort(E);if(n)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};t.matches=function(a,b){return t(a,null,null,b)};t.matchesSelector=function(a,b){return t(b,null,null,
[a]).length>0};t.find=function(a,b,c){var d,e,h,g,q,l;if(!a)return[];e=0;for(h=o.order.length;e<h;e++){q=o.order[e];if(g=o.leftMatch[q].exec(a)){l=g[1];g.splice(1,1);if(l.substr(l.length-1)!=="\\"){g[1]=(g[1]||"").replace(k,"");d=o.find[q](g,b,c);if(d!=null){a=a.replace(o.match[q],"");break}}}}d||(d=typeof b.getElementsByTagName!=="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}};t.filter=function(a,c,d,e){for(var h,g,q,l,n,k,p,H,J=a,m=[],F=c,y=c&&c[0]&&t.isXML(c[0]);a&&c.length;){for(q in o.filter)if((h=
o.leftMatch[q].exec(a))!=null&&h[2]){k=o.filter[q];n=h[1];g=false;h.splice(1,1);if(n.substr(n.length-1)!=="\\"){F===m&&(m=[]);if(o.preFilter[q])if(h=o.preFilter[q](h,F,d,m,e,y)){if(h===true)continue}else g=l=true;if(h)for(p=0;(n=F[p])!=null;p++)if(n){l=k(n,h,p,F);H=e^l;if(d&&l!=null)H?g=true:F[p]=false;else if(H){m.push(n);g=true}}if(l!==b){d||(F=m);a=a.replace(o.match[q],"");if(!g)return[];break}}}if(a===J)if(g==null)t.error(a);else break;J=a}return F};t.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};var A=t.getText=function(a){var b,c;b=a.nodeType;var d="";if(b)if(b===1||b===9){if(typeof a.textContent==="string")return a.textContent;if(typeof a.innerText==="string")return a.innerText.replace(m,"");for(a=a.firstChild;a;a=a.nextSibling)d=d+A(a)}else{if(b===3||b===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(d=d+A(c));return d},o=t.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},
type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b==="string",d=c&&!y.test(b),c=c&&!d;d&&(b=b.toLowerCase());for(var d=0,e=a.length,h;d<e;d++)if(h=a[d]){for(;(h=h.previousSibling)&&h.nodeType!==1;);a[d]=c||h&&h.nodeName.toLowerCase()===b?h||false:h===b}c&&t.filter(b,a,true)},">":function(a,b){var c,d=typeof b==="string",e=0,h=a.length;if(d&&!y.test(b))for(b=b.toLowerCase();e<h;e++){if(c=a[e]){c=c.parentNode;a[e]=c.nodeName.toLowerCase()===b?c:false}}else{for(;e<
h;e++)(c=a[e])&&(a[e]=d?c.parentNode:c.parentNode===b);d&&t.filter(b,a,true)}},"":function(b,d,e){var h,l=g++,n=c;if(typeof d==="string"&&!y.test(d)){h=d=d.toLowerCase();n=a}n("parentNode",d,l,b,h,e)},"~":function(b,d,e){var h,l=g++,n=c;if(typeof d==="string"&&!y.test(d)){h=d=d.toLowerCase();n=a}n("previousSibling",d,l,b,h,e)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!==
"undefined"){for(var c=[],d=b.getElementsByName(a[1]),e=0,h=d.length;e<h;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!=="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,h){a=" "+a[1].replace(k,"")+" ";if(h)return a;for(var h=0,g;(g=b[h])!=null;h++)g&&(e^(g.className&&(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(g):c&&(b[h]=false));return false},ID:function(a){return a[1].replace(k,
"")},TAG:function(a){return a[1].replace(k,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||t.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&t.error(a[0]);a[0]=g++;return a},ATTR:function(a,b,c,d,e,h){b=a[1]=a[1].replace(k,"");!h&&o.attrMap[b]&&(a[1]=o.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(k,"");a[2]==="~="&&(a[4]=" "+a[4]+
" ");return a},PSEUDO:function(a,b,c,e,h){if(a[1]==="not")if((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=t(a[3],null,null,b);else{a=t.filter(a[3],b,c,1^h);c||e.push.apply(e,a);return false}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!t(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&
"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();
return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,
b,c,d){var e=b[1],h=o.filters[e];if(h)return h(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||A([a])||"").indexOf(b[3])>=0;if(e==="not"){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return false;return true}t.error(e)},CHILD:function(a,b){var c,d,h,g,q,l;c=b[1];l=a;switch(c){case "only":case "first":for(;l=l.previousSibling;)if(l.nodeType===1)return false;if(c==="first")return true;l=a;case "last":for(;l=l.nextSibling;)if(l.nodeType===1)return false;return true;case "nth":c=b[2];d=
b[3];if(c===1&&d===0)return true;h=b[0];if((g=a.parentNode)&&(g[e]!==h||!a.nodeIndex)){q=0;for(l=g.firstChild;l;l=l.nextSibling)if(l.nodeType===1)l.nodeIndex=++q;g[e]=h}l=a.nodeIndex-d;return c===0?l===0:l%c===0&&l/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],
c=t.attr?t.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),d=c+"",e=b[2],h=b[4];return c==null?e==="!=":!e&&t.attr?c!=null:e==="="?d===h:e==="*="?d.indexOf(h)>=0:e==="~="?(" "+d+" ").indexOf(h)>=0:!h?d&&c!==false:e==="!="?d!==h:e==="^="?d.indexOf(h)===0:e==="$="?d.substr(d.length-h.length)===h:e==="|="?d===h||d.substr(0,h.length+1)===h+"-":false},POS:function(a,b,c,d){var e=o.setFilters[b[2]];if(e)return e(a,c,b,d)}}},K=o.match.POS,s=function(a,b){return"\\"+(b-0+1)},
B;for(B in o.match){o.match[B]=RegExp(o.match[B].source+/(?![^\[]*\])(?![^\(]*\))/.source);o.leftMatch[B]=RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[B].source.replace(/\\(\d+)/g,s))}var r=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(u.documentElement.childNodes,0)[0].nodeType}catch(O){r=function(a,b){var c=0,d=b||[];if(l.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length==="number")for(var e=
a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var E,z;if(u.documentElement.compareDocumentPosition)E=function(a,b){if(a===b){n=true;return 0}return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1};else{E=function(a,b){if(a===b){n=true;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],h=[];c=a.parentNode;d=b.parentNode;var g=c;if(c===d)return z(a,b);if(c){if(!d)return 1}else return-1;
for(;g;){e.unshift(g);g=g.parentNode}for(g=d;g;){h.unshift(g);g=g.parentNode}c=e.length;d=h.length;for(g=0;g<c&&g<d;g++)if(e[g]!==h[g])return z(e[g],h[g]);return g===c?z(a,h[g],-1):z(e[g],b,1)};z=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}}(function(){var a=u.createElement("div"),c="script"+(new Date).getTime(),d=u.documentElement;a.innerHTML="<a name='"+c+"'/>";d.insertBefore(a,d.firstChild);if(u.getElementById(c)){o.find.ID=function(a,c,
d){if(typeof c.getElementById!=="undefined"&&!d)return(c=c.getElementById(a[1]))?c.id===a[1]||typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id").nodeValue===a[1]?[c]:b:[]};o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}}d.removeChild(a);d=a=null})();(function(){var a=u.createElement("div");a.appendChild(u.createComment(""));if(a.getElementsByTagName("*").length>0)o.find.TAG=function(a,b){var c=
b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var d=[],e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")o.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();u.querySelectorAll&&function(){var a=t,b=u.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){t=function(b,
c,d,e){c=c||u;if(!e&&!t.isXML(c)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(c.nodeType===1||c.nodeType===9)){if(h[1])return r(c.getElementsByTagName(b),d);if(h[2]&&o.find.CLASS&&c.getElementsByClassName)return r(c.getElementsByClassName(h[2]),d)}if(c.nodeType===9){if(b==="body"&&c.body)return r([c.body],d);if(h&&h[3]){var g=c.getElementById(h[3]);if(g&&g.parentNode){if(g.id===h[3])return r([g],d)}else return r([],d)}try{return r(c.querySelectorAll(b),d)}catch(q){}}else if(c.nodeType===
1&&c.nodeName.toLowerCase()!=="object"){var h=c,l=(g=c.getAttribute("id"))||"__sizzle__",n=c.parentNode,k=/^\s*[+~]/.test(b);g?l=l.replace(/'/g,"\\$&"):c.setAttribute("id",l);if(k&&n)c=c.parentNode;try{if(!k||n)return r(c.querySelectorAll("[id='"+l+"'] "+b),d)}catch(p){}finally{g||h.removeAttribute("id")}}}return a(b,c,d,e)};for(var c in a)t[c]=a[c];b=null}}();(function(){var a=u.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(u.createElement("div"),
"div"),d=false;try{b.call(u.documentElement,"[test!='']:sizzle")}catch(e){d=true}t.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!t.isXML(a))try{if(d||!o.match.PSEUDO.test(e)&&!/!=/.test(e)){var h=b.call(a,e);if(h||!c||a.document&&a.document.nodeType!==11)return h}}catch(g){}return t(e,null,null,[a]).length>0}}})();(function(){var a=u.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==
0){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){o.order.splice(1,0,"CLASS");o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=="undefined"&&!c)return b.getElementsByClassName(a[1])};a=null}}})();t.contains=u.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):true)}:u.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return false};t.isXML=function(a){return(a=(a?a.ownerDocument||
a:0).documentElement)?a.nodeName!=="HTML":false};var v=function(a,b,c){for(var d,e=[],h="",b=b.nodeType?[b]:b;d=o.match.PSEUDO.exec(a);){h=h+d[0];a=a.replace(o.match.PSEUDO,"")}a=o.relative[a]?a+"*":a;d=0;for(var g=b.length;d<g;d++)t(a,b[d],e,c);return t.filter(h,e)};t.attr=h.attr;t.selectors.attrMap={};h.find=t;h.expr=t.selectors;h.expr[":"]=h.expr.filters;h.unique=t.uniqueSort;h.text=t.getText;h.isXMLDoc=t.isXML;h.contains=t.contains})();var hb=/Until$/,ib=/^(?:parents|prevUntil|prevAll)/,jb=/,/,
Ta=/^.[^:#\[\.,]*$/,kb=Array.prototype.slice,Da=h.expr.match.POS,lb={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({find:function(a){var b=this,c,d;if(typeof a!=="string")return h(a).filter(function(){c=0;for(d=b.length;c<d;c++)if(h.contains(b[c],this))return true});var e=this.pushStack("","find",a),g,l,n;c=0;for(d=this.length;c<d;c++){g=e.length;h.find(a,this[c],e);if(c>0)for(l=g;l<e.length;l++)for(n=0;n<g;n++)if(e[n]===e[l]){e.splice(l--,1);break}}return e},has:function(a){var b=h(a);return this.filter(function(){for(var a=
0,c=b.length;a<c;a++)if(h.contains(this,b[a]))return true})},not:function(a){return this.pushStack(o(this,a,false),"not",a)},filter:function(a){return this.pushStack(o(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?Da.test(a)?h(a,this.context).index(this[0])>=0:h.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(h.isArray(a)){for(e=1;g&&g.ownerDocument&&g!==b;){for(d=0;d<a.length;d++)h(g).is(a[d])&&c.push({selector:a[d],elem:g,
level:e});g=g.parentNode;e++}return c}var l=Da.test(a)||typeof a!=="string"?h(a,b||this.context):0;d=0;for(e=this.length;d<e;d++)for(g=this[d];g;)if(l?l.index(g)>-1:h.find.matchesSelector(g,a)){c.push(g);break}else{g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}c=c.length>1?h.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:typeof a==="string"?h.inArray(this[0],h(a)):h.inArray(a.jquery?a[0]:a,this)},
add:function(a,b){var c=typeof a==="string"?h(a,b):h.makeArray(a&&a.nodeType?[a]:a),d=h.merge(this.get(),c);return this.pushStack(!c[0]||!c[0].parentNode||c[0].parentNode.nodeType===11||!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11?d:h.unique(d))},andSelf:function(){return this.add(this.prevObject)}});h.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return h.dir(a,"parentNode")},parentsUntil:function(a,b,c){return h.dir(a,"parentNode",c)},next:function(a){return h.nth(a,
2,"nextSibling")},prev:function(a){return h.nth(a,2,"previousSibling")},nextAll:function(a){return h.dir(a,"nextSibling")},prevAll:function(a){return h.dir(a,"previousSibling")},nextUntil:function(a,b,c){return h.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return h.dir(a,"previousSibling",c)},siblings:function(a){return h.sibling(a.parentNode.firstChild,a)},children:function(a){return h.sibling(a.firstChild)},contents:function(a){return h.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:
h.makeArray(a.childNodes)}},function(a,b){h.fn[a]=function(c,d){var e=h.map(this,b,c);hb.test(a)||(d=c);d&&typeof d==="string"&&(e=h.filter(d,e));e=this.length>1&&!lb[a]?h.unique(e):e;if((this.length>1||jb.test(d))&&ib.test(a))e=e.reverse();return this.pushStack(e,a,kb.call(arguments).join(","))}});h.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?h.find.matchesSelector(b[0],a)?[b[0]]:[]:h.find.matches(a,b)},dir:function(a,c,d){for(var e=[],a=a[c];a&&a.nodeType!==9&&(d===b||
a.nodeType!==1||!h(a).is(d));){a.nodeType===1&&e.push(a);a=a[c]}return e},nth:function(a,b,c){for(var b=b||1,d=0;a;a=a[c])if(a.nodeType===1&&++d===b)break;return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var sa="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",mb=/ jQuery\d+="(?:\d+|null)"/g,pa=/^\s+/,Ea=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
Fa=/<([\w:]+)/,nb=/<tbody/i,ob=/<|&#?\w+;/,pb=/<(?:script|style)/i,qb=/<(?:script|object|embed|option|style)/i,Ga=RegExp("<(?:"+sa+")","i"),Ha=/checked\s*(?:[^=]|=\s*.checked.)/i,rb=/\/(java|ecma)script/i,Ua=/^\s*<!(?:\[CDATA\[|\-\-)/,M={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],
area:[1,"<map>","</map>"],_default:[0,"",""]},Ia=r(u);M.optgroup=M.option;M.tbody=M.tfoot=M.colgroup=M.caption=M.thead;M.th=M.td;h.support.htmlSerialize||(M._default=[1,"div<div>","</div>"]);h.fn.extend({text:function(a){return h.isFunction(a)?this.each(function(b){var c=h(this);c.text(a.call(this,b,c.text()))}):typeof a!=="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(a)):h.text(this)},wrapAll:function(a){if(h.isFunction(a))return this.each(function(b){h(this).wrapAll(a.call(this,
b))});if(this[0]){var b=h(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return h.isFunction(a)?this.each(function(b){h(this).wrapInner(a.call(this,b))}):this.each(function(){var b=h(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=h.isFunction(a);return this.each(function(c){h(this).wrapAll(b?
a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,
this)});if(arguments.length){var a=h.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,h.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||h.filter(a,[d]).length){if(!b&&d.nodeType===1){h.cleanData(d.getElementsByTagName("*"));
h.cleanData([d])}d.parentNode&&d.parentNode.removeChild(d)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&h.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return h.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(mb,""):null;if(typeof a==="string"&&!pb.test(a)&&(h.support.leadingWhitespace||
!pa.test(a))&&!M[(Fa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ea,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)if(this[c].nodeType===1){h.cleanData(this[c].getElementsByTagName("*"));this[c].innerHTML=a}}catch(e){this.empty().append(a)}}else h.isFunction(a)?this.each(function(b){var c=h(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(h.isFunction(a))return this.each(function(b){var c=h(this),d=c.html();
c.replaceWith(a.call(this,b,d))});typeof a!=="string"&&(a=h(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;h(this).remove();b?h(b).before(a):h(c).append(a)})}return this.length?this.pushStack(h(h.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,c,d){var e,g,l,n=a[0],k=[];if(!h.support.checkClone&&arguments.length===3&&typeof n==="string"&&Ha.test(n))return this.each(function(){h(this).domManip(a,c,d,true)});
if(h.isFunction(n))return this.each(function(e){var g=h(this);a[0]=n.call(this,e,c?g.html():b);g.domManip(a,c,d)});if(this[0]){e=n&&n.parentNode;e=h.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:h.buildFragment(a,this,k);l=e.fragment;if(g=l.childNodes.length===1?l=l.firstChild:l.firstChild){c=c&&h.nodeName(g,"tr");g=0;for(var p=this.length,m=p-1;g<p;g++)d.call(c?h.nodeName(this[g],"table")?this[g].getElementsByTagName("tbody")[0]||this[g].appendChild(this[g].ownerDocument.createElement("tbody")):
this[g]:this[g],e.cacheable||p>1&&g<m?h.clone(l,true,true):l)}k.length&&h.each(k,z)}return this}});h.buildFragment=function(a,b,c){var d,e,g,l,n=a[0];b&&b[0]&&(l=b[0].ownerDocument||b[0]);l.createDocumentFragment||(l=u);if(a.length===1&&typeof n==="string"&&n.length<512&&l===u&&n.charAt(0)==="<"&&!qb.test(n)&&(h.support.checkClone||!Ha.test(n))&&(h.support.html5Clone||!Ga.test(n))){e=true;(g=h.fragments[n])&&g!==1&&(d=g)}if(!d){d=l.createDocumentFragment();h.clean(a,l,d,c)}e&&(h.fragments[n]=g?d:
1);return{fragment:d,cacheable:e}};h.fragments={};h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){h.fn[a]=function(c){var d=[],c=h(c),e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===1&&c.length===1){c[b](this[0]);return this}for(var e=0,g=c.length;e<g;e++){var l=(e>0?this.clone(true):this).get();h(c[e])[b](l);d=d.concat(l)}return this.pushStack(d,a,c.selector)}});h.extend({clone:function(a,
b,c){var d,e,g;if(h.support.html5Clone||!Ga.test("<"+a.nodeName))d=a.cloneNode(true);else{d=u.createElement("div");Ia.appendChild(d);d.innerHTML=a.outerHTML;d=d.firstChild}var l=d;if((!h.support.noCloneEvent||!h.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!h.isXMLDoc(a)){s(a,l);d=w(a);e=w(l);for(g=0;d[g];++g)e[g]&&s(d[g],e[g])}if(b){v(a,l);if(c){d=w(a);e=w(l);for(g=0;d[g];++g)v(d[g],e[g])}}return l},clean:function(a,b,c,d){b=b||u;typeof b.createElement==="undefined"&&(b=b.ownerDocument||
b[0]&&b[0].ownerDocument||u);for(var e=[],g,l=0,n;(n=a[l])!=null;l++){typeof n==="number"&&(n=n+"");if(n){if(typeof n==="string")if(ob.test(n)){n=n.replace(Ea,"<$1></$2>");g=(Fa.exec(n)||["",""])[1].toLowerCase();var k=M[g]||M._default,p=k[0],m=b.createElement("div");b===u?Ia.appendChild(m):r(b).appendChild(m);for(m.innerHTML=k[1]+n+k[2];p--;)m=m.lastChild;if(!h.support.tbody){p=nb.test(n);k=g==="table"&&!p?m.firstChild&&m.firstChild.childNodes:k[1]==="<table>"&&!p?m.childNodes:[];for(g=k.length-
1;g>=0;--g)h.nodeName(k[g],"tbody")&&!k[g].childNodes.length&&k[g].parentNode.removeChild(k[g])}!h.support.leadingWhitespace&&pa.test(n)&&m.insertBefore(b.createTextNode(pa.exec(n)[0]),m.firstChild);n=m.childNodes}else n=b.createTextNode(n);var y;if(!h.support.appendChecked)if(n[0]&&typeof(y=n.length)==="number")for(g=0;g<y;g++)B(n[g]);else B(n);n.nodeType?e.push(n):e=h.merge(e,n)}}if(c){a=function(a){return!a.type||rb.test(a.type)};for(l=0;e[l];l++)if(d&&h.nodeName(e[l],"script")&&(!e[l].type||e[l].type.toLowerCase()===
"text/javascript"))d.push(e[l].parentNode?e[l].parentNode.removeChild(e[l]):e[l]);else{if(e[l].nodeType===1){b=h.grep(e[l].getElementsByTagName("script"),a);e.splice.apply(e,[l+1,0].concat(b))}c.appendChild(e[l])}}return e},cleanData:function(a){for(var b,c,d=h.cache,e=h.event.special,g=h.support.deleteExpando,l=0,n;(n=a[l])!=null;l++)if(!n.nodeName||!h.noData[n.nodeName.toLowerCase()])if(c=n[h.expando]){if((b=d[c])&&b.events){for(var k in b.events)e[k]?h.event.remove(n,k):h.removeEvent(n,k,b.handle);
if(b.handle)b.handle.elem=null}g?delete n[h.expando]:n.removeAttribute&&n.removeAttribute(h.expando);delete d[c]}}});var qa=/alpha\([^)]*\)/i,sb=/opacity=([^)]*)/,tb=/([A-Z]|^ms)/g,Ja=/^-?\d+(?:px)?$/i,ub=/^-?\d/,vb=/^([\-+])=([\-+.\de]+)/,wb={position:"absolute",visibility:"hidden",display:"block"},Va=["Left","Right"],Wa=["Top","Bottom"],Z,Ka,La;h.fn.css=function(a,c){return arguments.length===2&&c===b?this:h.access(this,a,c,true,function(a,c,d){return d!==b?h.style(a,c,d):h.css(a,c)})};h.extend({cssHooks:{opacity:{get:function(a,
b){if(b){var c=Z(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":h.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var g,l=h.camelCase(c),n=a.style,k=h.cssHooks[l],c=h.cssProps[l]||l;if(d!==b){e=typeof d;if(e==="string"&&(g=vb.exec(d))){d=+(g[1]+1)*+g[2]+parseFloat(h.css(a,c));e="number"}if(!(d==
null||e==="number"&&isNaN(d))){e==="number"&&!h.cssNumber[l]&&(d=d+"px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{n[c]=d}catch(p){}}}else return k&&"get"in k&&(g=k.get(a,false,e))!==b?g:n[c]}},css:function(a,c,d){var e,g,c=h.camelCase(c);g=h.cssHooks[c];c=h.cssProps[c]||c;c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,true,d))!==b)return e;if(Z)return Z(a,c)},swap:function(a,b,c){var d={},e;for(e in b){d[e]=a.style[e];a.style[e]=b[e]}c.call(a);for(e in b)a.style[e]=d[e]}});h.curCSS=h.css;
h.each(["height","width"],function(a,b){h.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0)return G(a,b,d);h.swap(a,wb,function(){e=G(a,b,d)});return e}},set:function(a,b){if(Ja.test(b)){b=parseFloat(b);if(b>=0)return b+"px"}else return b}}});h.support.opacity||(h.cssHooks.opacity={get:function(a,b){return sb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=h.isNumeric(b)?"alpha(opacity="+
b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&h.trim(g.replace(qa,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=qa.test(g)?g.replace(qa,e):g+" "+e}});h(function(){if(!h.support.reliableMarginRight)h.cssHooks.marginRight={get:function(a,b){var c;h.swap(a,{display:"inline-block"},function(){c=b?Z(a,"margin-right","marginRight"):a.style.marginRight});return c}}});u.defaultView&&u.defaultView.getComputedStyle&&(Ka=function(a,b){var c,d,e,b=b.replace(tb,"-$1").toLowerCase();
if((d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))){c=e.getPropertyValue(b);c===""&&!h.contains(a.ownerDocument.documentElement,a)&&(c=h.style(a,b))}return c});u.documentElement.currentStyle&&(La=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],g=a.style;if(e===null&&g&&(c=g[b]))e=c;if(!Ja.test(e)&&ub.test(e)){c=g.left;if(d=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;g.left=b==="fontSize"?"1em":e||0;e=g.pixelLeft+"px";g.left=c;if(d)a.runtimeStyle.left=
d}return e===""?"auto":e});Z=Ka||La;h.expr&&h.expr.filters&&(h.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!h.support.reliableHiddenOffsets&&(a.style&&a.style.display||h.css(a,"display"))==="none"},h.expr.filters.visible=function(a){return!h.expr.filters.hidden(a)});var xb=/%20/g,Xa=/\[\]$/,Ma=/\r?\n/g,yb=/#.*$/,zb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Ab=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Bb=/^(?:GET|HEAD)$/,Cb=/^\/\//,Na=/\?/,Db=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Eb=/^(?:select|textarea)/i,ta=/\s+/,Fb=/([?&])_=[^&]*/,Oa=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Pa=h.fn.load,ja={},Qa={},X,Y,Ra=["*/"]+["*"];try{X=da.href}catch(Lb){X=u.createElement("a"),X.href="",X=X.href}Y=Oa.exec(X.toLowerCase())||[];h.fn.extend({load:function(a,c,d){if(typeof a!=="string"&&Pa)return Pa.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0)var g=
a.slice(e,a.length),a=a.slice(0,e);e="GET";if(c)if(h.isFunction(c)){d=c;c=b}else if(typeof c==="object"){c=h.param(c,h.ajaxSettings.traditional);e="POST"}var l=this;h.ajax({url:a,type:e,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText;if(a.isResolved()){a.done(function(a){c=a});l.html(g?h("<div>").append(c.replace(Db,"")).find(g):c)}d&&l.each(d,[c,b,a])}});return this},serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
h.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Eb.test(this.nodeName)||Ab.test(this.type))}).map(function(a,b){var c=h(this).val();return c==null?null:h.isArray(c)?h.map(c,function(a){return{name:b.name,value:a.replace(Ma,"\r\n")}}):{name:b.name,value:c.replace(Ma,"\r\n")}}).get()}});h.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(a,b){h.fn[b]=function(a){return this.on(b,a)}});h.each(["get","post"],
function(a,c){h[c]=function(a,d,e,g){if(h.isFunction(d)){g=g||e;e=d;d=b}return h.ajax({type:c,url:a,data:d,success:e,dataType:g})}});h.extend({getScript:function(a,c){return h.get(a,b,c,"script")},getJSON:function(a,b,c){return h.get(a,b,c,"json")},ajaxSetup:function(a,b){if(b)L(a,h.ajaxSettings);else{b=a;a=h.ajaxSettings}L(a,b);return a},ajaxSettings:{url:X,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Y[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",
processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Ra},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:D(ja),ajaxTransport:D(Qa),ajax:function(a,c){function d(a,c,q,y){if(r!==2){r=2;B&&clearTimeout(B);K=b;o=y||"";E.readyState=
a>0?4:0;var t,H,A,y=c;if(q){var F=e,s=E,z=F.contents,v=F.dataTypes,Q=F.responseFields,u,w,D,W;for(w in Q)w in q&&(s[Q[w]]=q[w]);for(;v[0]==="*";){v.shift();u===b&&(u=F.mimeType||s.getResponseHeader("content-type"))}if(u)for(w in z)if(z[w]&&z[w].test(u)){v.unshift(w);break}if(v[0]in q)D=v[0];else{for(w in q){if(!v[0]||F.converters[w+" "+v[0]]){D=w;break}W||(W=w)}D=D||W}if(D){D!==v[0]&&v.unshift(D);q=q[D]}else q=void 0}else q=b;if(a>=200&&a<300||a===304){if(e.ifModified){if(u=E.getResponseHeader("Last-Modified"))h.lastModified[m]=
u;if(u=E.getResponseHeader("Etag"))h.etag[m]=u}if(a===304){y="notmodified";t=true}else try{u=e;u.dataFilter&&(q=u.dataFilter(q,u.dataType));var G=u.dataTypes;w={};var C,S,na=G.length,I,U=G[0],N,P,V,L,M;for(C=1;C<na;C++){if(C===1)for(S in u.converters)typeof S==="string"&&(w[S.toLowerCase()]=u.converters[S]);N=U;U=G[C];if(U==="*")U=N;else if(N!=="*"&&N!==U){P=N+" "+U;V=w[P]||w["* "+U];if(!V){M=b;for(L in w){I=L.split(" ");if(I[0]===N||I[0]==="*")if(M=w[I[1]+" "+U]){L=w[L];L===true?V=M:M===true&&(V=
L);break}}}!V&&!M&&h.error("No conversion from "+P.replace(" "," to "));V!==true&&(q=V?V(q):M(L(q)))}}H=q;y="success";t=true}catch(Ya){y="parsererror";A=Ya}}else{A=y;if(!y||a){y="error";a<0&&(a=0)}}E.status=a;E.statusText=""+(c||y);t?n.resolveWith(g,[H,y,E]):n.rejectWith(g,[E,y,A]);E.statusCode(p);p=b;O&&l.trigger("ajax"+(t?"Success":"Error"),[E,e,t?H:A]);k.fireWith(g,[E,y]);if(O){l.trigger("ajaxComplete",[E,e]);--h.active||h.event.trigger("ajaxStop")}}}if(typeof a==="object"){c=a;a=b}var c=c||{},
e=h.ajaxSetup({},c),g=e.context||e,l=g!==e&&(g.nodeType||g instanceof h)?h(g):h.event,n=h.Deferred(),k=h.Callbacks("once memory"),p=e.statusCode||{},m,y={},t={},o,A,K,B,s,r=0,O,z,E={readyState:0,setRequestHeader:function(a,b){if(!r){var c=a.toLowerCase(),a=t[c]=t[c]||a;y[a]=b}return this},getAllResponseHeaders:function(){return r===2?o:null},getResponseHeader:function(a){var c;if(r===2){if(!A)for(A={};c=zb.exec(o);)A[c[1].toLowerCase()]=c[2];c=A[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){if(!r)e.mimeType=
a;return this},abort:function(a){a=a||"abort";K&&K.abort(a);d(0,a);return this}};n.promise(E);E.success=E.done;E.error=E.fail;E.complete=k.add;E.statusCode=function(a){if(a){var b;if(r<2)for(b in a)p[b]=[p[b],a[b]];else{b=a[E.status];E.then(b,b)}}return this};e.url=((a||e.url)+"").replace(yb,"").replace(Cb,Y[1]+"//");e.dataTypes=h.trim(e.dataType||"*").toLowerCase().split(ta);if(e.crossDomain==null){s=Oa.exec(e.url.toLowerCase());e.crossDomain=!(!s||!(s[1]!=Y[1]||s[2]!=Y[2]||(s[3]||(s[1]==="http:"?
80:443))!=(Y[3]||(Y[1]==="http:"?80:443))))}if(e.data&&e.processData&&typeof e.data!=="string")e.data=h.param(e.data,e.traditional);I(ja,e,c,E);if(r===2)return false;O=e.global;e.type=e.type.toUpperCase();e.hasContent=!Bb.test(e.type);O&&h.active++===0&&h.event.trigger("ajaxStart");if(!e.hasContent){if(e.data){e.url=e.url+((Na.test(e.url)?"&":"?")+e.data);delete e.data}m=e.url;if(e.cache===false){s=h.now();var v=e.url.replace(Fb,"$1_="+s);e.url=v+(v===e.url?(Na.test(e.url)?"&":"?")+"_="+s:"")}}(e.data&&
e.hasContent&&e.contentType!==false||c.contentType)&&E.setRequestHeader("Content-Type",e.contentType);if(e.ifModified){m=m||e.url;h.lastModified[m]&&E.setRequestHeader("If-Modified-Since",h.lastModified[m]);h.etag[m]&&E.setRequestHeader("If-None-Match",h.etag[m])}E.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+Ra+"; q=0.01":""):e.accepts["*"]);for(z in e.headers)E.setRequestHeader(z,e.headers[z]);if(e.beforeSend&&(e.beforeSend.call(g,
E,e)===false||r===2)){E.abort();return false}for(z in{success:1,error:1,complete:1})E[z](e[z]);if(K=I(Qa,e,c,E)){E.readyState=1;O&&l.trigger("ajaxSend",[E,e]);e.async&&e.timeout>0&&(B=setTimeout(function(){E.abort("timeout")},e.timeout));try{r=1;K.send(y,d)}catch(Q){if(r<2)d(-1,Q);else throw Q;}}else d(-1,"No Transport");return E},param:function(a,c){var d=[],e=function(a,b){b=h.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b)c=h.ajaxSettings.traditional;
if(h.isArray(a)||a.jquery&&!h.isPlainObject(a))h.each(a,function(){e(this.name,this.value)});else for(var g in a)n(g,a[g],c,e);return d.join("&").replace(xb,"+")}});h.extend({active:0,lastModified:{},etag:{}});var Gb=h.now(),ha=/(\=)\?(&|$)|\?\?/i;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return h.expando+"_"+Gb++}});h.ajaxPrefilter("json jsonp",function(b,c,d){c=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data==="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==false&&
(ha.test(b.url)||c&&ha.test(b.data))){var e,g=b.jsonpCallback=h.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l=a[g],n=b.url,k=b.data,p="$1"+g+"$2";if(b.jsonp!==false){n=n.replace(ha,p);if(b.url===n){c&&(k=k.replace(ha,p));b.data===k&&(n=n+((/\?/.test(n)?"&":"?")+b.jsonp+"="+g))}}b.url=n;b.data=k;a[g]=function(a){e=[a]};d.always(function(){a[g]=l;if(e&&h.isFunction(l))a[g](e[0])});b.converters["script json"]=function(){e||h.error(g+" was not called");return e[0]};b.dataTypes[0]="json";
return"script"}});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){h.globalEval(a);return a}}});h.ajaxPrefilter("script",function(a){if(a.cache===b)a.cache=false;if(a.crossDomain){a.type="GET";a.global=false}});h.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=u.head||u.getElementsByTagName("head")[0]||u.documentElement;return{send:function(e,
g){c=u.createElement("script");c.async="async";if(a.scriptCharset)c.charset=a.scriptCharset;c.src=a.url;c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState)){c.onload=c.onreadystatechange=null;d&&c.parentNode&&d.removeChild(c);c=b;e||g(200,"success")}};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var ra=a.ActiveXObject?function(){for(var a in ca)ca[a](0,1)}:!1,Hb=0,ca;h.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=
!this.isLocal&&l()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:l;(function(a){h.extend(h.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(h.ajaxSettings.xhr());h.support.ajax&&h.ajaxTransport(function(c){if(!c.crossDomain||h.support.cors){var d;return{send:function(e,g){var l=c.xhr(),n,k;c.username?l.open(c.type,c.url,c.async,c.username,c.password):l.open(c.type,c.url,c.async);if(c.xhrFields)for(k in c.xhrFields)l[k]=c.xhrFields[k];c.mimeType&&l.overrideMimeType&&
l.overrideMimeType(c.mimeType);!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(k in e)l.setRequestHeader(k,e[k])}catch(p){}l.send(c.hasContent&&c.data||null);d=function(a,e){var k,p,m,y,t;try{if(d&&(e||l.readyState===4)){d=b;if(n){l.onreadystatechange=h.noop;ra&&delete ca[n]}if(e)l.readyState!==4&&l.abort();else{k=l.status;m=l.getAllResponseHeaders();y={};if((t=l.responseXML)&&t.documentElement)y.xml=t;y.text=l.responseText;try{p=l.statusText}catch(o){p=""}!k&&
c.isLocal&&!c.crossDomain?k=y.text?200:404:k===1223&&(k=204)}}}catch(A){e||g(-1,A)}y&&g(k,p,y,m)};if(!c.async||l.readyState===4)d();else{n=++Hb;if(ra){if(!ca){ca={};h(a).unload(ra)}ca[n]=d}l.onreadystatechange=d}},abort:function(){d&&d(0,1)}}}});var ka={},R,aa,Ib=/^(?:toggle|show|hide)$/,Jb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ia,ua=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],fa;h.fn.extend({show:function(a,
b,c){if(a||a===0)return this.animate(E("show",3),a,b,c);for(var c=0,d=this.length;c<d;c++){a=this[c];if(a.style){b=a.style.display;if(!h._data(a,"olddisplay")&&b==="none")b=a.style.display="";b===""&&h.css(a,"display")==="none"&&h._data(a,"olddisplay",S(a.nodeName))}}for(c=0;c<d;c++){a=this[c];if(a.style){b=a.style.display;if(b===""||b==="none")a.style.display=h._data(a,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(E("hide",3),a,b,c);for(var c=0,d=this.length;c<
d;c++){a=this[c];if(a.style){b=h.css(a,"display");b!=="none"&&!h._data(a,"olddisplay")&&h._data(a,"olddisplay",b)}}for(c=0;c<d;c++)if(this[c].style)this[c].style.display="none";return this},_toggle:h.fn.toggle,toggle:function(a,b,c){var d=typeof a==="boolean";h.isFunction(a)&&h.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:h(this).is(":hidden");h(this)[b?"show":"hide"]()}):this.animate(E("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",
0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function e(){g.queue===false&&h._mark(this);var b=h.extend({},g),c=this.nodeType===1,d=c&&h(this).is(":hidden"),l,n,k,p,m;b.animatedProperties={};for(k in a){l=h.camelCase(k);if(k!==l){a[l]=a[k];delete a[k]}n=a[l];if(h.isArray(n)){b.animatedProperties[l]=n[1];n=a[l]=n[0]}else b.animatedProperties[l]=b.specialEasing&&b.specialEasing[l]||b.easing||"swing";if(n==="hide"&&d||n==="show"&&!d)return b.complete.call(this);if(c&&(l==="height"||
l==="width")){b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(h.css(this,"display")==="inline"&&h.css(this,"float")==="none")!h.support.inlineBlockNeedsLayout||S(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1}}if(b.overflow!=null)this.style.overflow="hidden";for(k in a){c=new h.fx(this,b,k);n=a[k];if(Ib.test(n))if(l=h._data(this,"toggle"+k)||(n==="toggle"?d?"show":"hide":0)){h._data(this,"toggle"+k,l==="show"?"hide":"show");c[l]()}else c[n]();
else{l=Jb.exec(n);p=c.cur();if(l){n=parseFloat(l[2]);m=l[3]||(h.cssNumber[k]?"":"px");if(m!=="px"){h.style(this,k,(n||1)+m);p=(n||1)/c.cur()*p;h.style(this,k,p+m)}l[1]&&(n=(l[1]==="-="?-1:1)*n+p);c.custom(p,n,m)}else c.custom(p,n,"")}}return true}var g=h.speed(b,c,d);if(h.isEmptyObject(a))return this.each(g.complete,[false]);a=h.extend({},a);return g.queue===false?this.each(e):this.queue(g.queue,e)},stop:function(a,c,d){if(typeof a!=="string"){d=c;c=a;a=b}c&&a!==false&&this.queue(a||"fx",[]);return this.each(function(){var b,
c=false,e=h.timers,g=h._data(this);d||h._unmark(true,this);if(a==null)for(b in g){if(g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4){var l=g[b];h.removeData(this,b,true);l.stop(d)}}else if(g[b=a+".run"]&&g[b].stop){g=g[b];h.removeData(this,b,true);g.stop(d)}for(b=e.length;b--;)if(e[b].elem===this&&(a==null||e[b].queue===a)){if(d)e[b](true);else e[b].saveState();c=true;e.splice(b,1)}(!d||!c)&&h.dequeue(this,a)})}});h.each({slideDown:E("show",1),slideUp:E("hide",1),slideToggle:E("toggle",1),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){h.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});h.extend({speed:function(a,b,c){var d=a&&typeof a==="object"?h.extend({},a):{complete:c||!c&&b||h.isFunction(a)&&a,duration:a,easing:c&&b||b&&!h.isFunction(b)&&b};d.duration=h.fx.off?0:typeof d.duration==="number"?d.duration:d.duration in h.fx.speeds?h.fx.speeds[d.duration]:h.fx.speeds._default;if(d.queue==null||d.queue===true)d.queue="fx";d.old=d.complete;d.complete=function(a){h.isFunction(d.old)&&
d.old.call(this);d.queue?h.dequeue(this,d.queue):a!==false&&h._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+0.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});h.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(h.fx.step[this.prop]||h.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||
this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=h.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function e(a){return g.step(a)}var g=this,l=h.fx;this.startTime=fa||A();this.end=c;this.now=this.start=a;this.pos=this.state=0;this.unit=d||this.unit||(h.cssNumber[this.prop]?"":"px");e.queue=this.options.queue;e.elem=this.elem;e.saveState=function(){g.options.hide&&h._data(g.elem,"fxshow"+g.prop)===b&&h._data(g.elem,"fxshow"+g.prop,
g.start)};e()&&h.timers.push(e)&&!ia&&(ia=setInterval(l.tick,l.interval))},show:function(){var a=h._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||h.style(this.elem,this.prop);this.options.show=true;a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());h(this.elem).show()},hide:function(){this.options.orig[this.prop]=h._data(this.elem,"fxshow"+this.prop)||h.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),
0)},step:function(a){var b,c=fa||A(),d=true,e=this.elem,g=this.options;if(a||c>=g.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();g.animatedProperties[this.prop]=true;for(b in g.animatedProperties)g.animatedProperties[b]!==true&&(d=false);if(d){g.overflow!=null&&!h.support.shrinkWrapBlocks&&h.each(["","X","Y"],function(a,b){e.style["overflow"+b]=g.overflow[a]});g.hide&&h(e).hide();if(g.hide||g.show)for(b in g.animatedProperties){h.style(e,b,g.orig[b]);h.removeData(e,
"fxshow"+b,true);h.removeData(e,"toggle"+b,true)}if(a=g.complete){g.complete=false;a.call(e)}}return false}if(g.duration==Infinity)this.now=c;else{a=c-this.startTime;this.state=a/g.duration;this.pos=h.easing[g.animatedProperties[this.prop]](this.state,a,0,1,g.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update();return true}};h.extend(h.fx,{tick:function(){for(var a,b=h.timers,c=0;c<b.length;c++){a=b[c];!a()&&b[c]===a&&b.splice(c--,1)}b.length||h.fx.stop()},interval:13,stop:function(){clearInterval(ia);
ia=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){h.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});h.each(["width","height"],function(a,b){h.fx.step[b]=function(a){h.style(a.elem,b,Math.max(0,a.now)+a.unit)}});h.expr&&h.expr.filters&&(h.expr.filters.animated=function(a){return h.grep(h.timers,function(b){return a===b.elem}).length});var Kb=/^t(?:able|d|h)$/i,Sa=/^(?:body|html)$/i;
h.fn.offset="getBoundingClientRect"in u.documentElement?function(a){var b=this[0],c;if(a)return this.each(function(b){h.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return h.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!h.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};b=e.body;e=N(e);return{top:c.top+(e.pageYOffset||h.support.boxModel&&g.scrollTop||b.scrollTop)-(g.clientTop||
b.clientTop||0),left:c.left+(e.pageXOffset||h.support.boxModel&&g.scrollLeft||b.scrollLeft)-(g.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(b){h.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return h.offset.bodyOffset(b);var c,d=b.offsetParent,e=b.ownerDocument,g=e.documentElement,l=e.body;c=(e=e.defaultView)?e.getComputedStyle(b,null):b.currentStyle;for(var n=b.offsetTop,k=b.offsetLeft;(b=b.parentNode)&&b!==
l&&b!==g;){if(h.support.fixedPosition&&c.position==="fixed")break;c=e?e.getComputedStyle(b,null):b.currentStyle;n=n-b.scrollTop;k=k-b.scrollLeft;if(b===d){n=n+b.offsetTop;k=k+b.offsetLeft;if(h.support.doesNotAddBorder&&(!h.support.doesAddBorderForTableAndCells||!Kb.test(b.nodeName))){n=n+(parseFloat(c.borderTopWidth)||0);k=k+(parseFloat(c.borderLeftWidth)||0)}d=b.offsetParent}if(h.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"){n=n+(parseFloat(c.borderTopWidth)||0);k=k+(parseFloat(c.borderLeftWidth)||
0)}}if(c.position==="relative"||c.position==="static"){n=n+l.offsetTop;k=k+l.offsetLeft}if(h.support.fixedPosition&&c.position==="fixed"){n=n+Math.max(g.scrollTop,l.scrollTop);k=k+Math.max(g.scrollLeft,l.scrollLeft)}return{top:n,left:k}};h.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;if(h.support.doesNotIncludeMarginInBodyOffset){b=b+(parseFloat(h.css(a,"marginTop"))||0);c=c+(parseFloat(h.css(a,"marginLeft"))||0)}return{top:b,left:c}},setOffset:function(a,b,c){var d=h.css(a,"position");
if(d==="static")a.style.position="relative";var e=h(a),g=e.offset(),l=h.css(a,"top"),n=h.css(a,"left"),k={},p={};if((d==="absolute"||d==="fixed")&&h.inArray("auto",[l,n])>-1){p=e.position();d=p.top;n=p.left}else{d=parseFloat(l)||0;n=parseFloat(n)||0}h.isFunction(b)&&(b=b.call(a,c,g));if(b.top!=null)k.top=b.top-g.top+d;if(b.left!=null)k.left=b.left-g.left+n;"using"in b?b.using.call(a,k):e.css(k)}};h.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),
d=Sa.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top=c.top-(parseFloat(h.css(a,"marginTop"))||0);c.left=c.left-(parseFloat(h.css(a,"marginLeft"))||0);d.top=d.top+(parseFloat(h.css(b[0],"borderTopWidth"))||0);d.left=d.left+(parseFloat(h.css(b[0],"borderLeftWidth"))||0);return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||u.body;a&&!Sa.test(a.nodeName)&&h.css(a,"position")==="static";)a=a.offsetParent;return a})}});h.each(["Left",
"Top"],function(a,c){var d="scroll"+c;h.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e)return null;return(g=N(e))?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:h.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){(g=N(this))?g.scrollTo(!a?c:h(g).scrollLeft(),a?c:h(g).scrollTop()):this[d]=c})}});h.each(["Height","Width"],function(a,c){var d=c.toLowerCase();h.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(h.css(a,d,"padding")):
this[d]():null};h.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(h.css(b,d,a?"margin":"border")):this[d]():null};h.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(h.isFunction(a))return this.each(function(b){var c=h(this);c[d](a.call(this,b,c[d]()))});if(h.isWindow(e)){var g=e.document.documentElement["client"+c],l=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||l&&l["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+
c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){e=h.css(e,d);g=parseFloat(e);return h.isNumeric(g)?g:e}return this.css(d,typeof a==="string"?a:a+"px")}});a.jQuery=a.$=h;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return h})})(window);var JSON;JSON||(JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=m[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var e,m,C,B,z=g,G,D=d[a];D&&"object"===typeof D&&"function"===typeof D.toJSON&&(D=D.toJSON(a));"function"===typeof o&&(D=o.call(d,a,D));switch(typeof D){case "string":return b(D);case "number":return isFinite(D)?""+D:"null";case "boolean":case "null":return""+D;
case "object":if(!D)return"null";g+=k;G=[];if("[object Array]"===Object.prototype.toString.apply(D)){B=D.length;for(e=0;e<B;e+=1)G[e]=c(e,D)||"null";C=0===G.length?"[]":g?"[\n"+g+G.join(",\n"+g)+"\n"+z+"]":"["+G.join(",")+"]";g=z;return C}if(o&&"object"===typeof o){B=o.length;for(e=0;e<B;e+=1)"string"===typeof o[e]&&(m=o[e],(C=c(m,D))&&G.push(b(m)+(g?": ":":")+C))}else for(m in D)Object.prototype.hasOwnProperty.call(D,m)&&(C=c(m,D))&&G.push(b(m)+(g?": ":":")+C);C=0===G.length?"{}":g?"{\n"+g+G.join(",\n"+
g)+"\n"+z+"}":"{"+G.join(",")+"}";g=z;return C}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,k,m={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var e;k=g="";if(typeof d==="number")for(e=0;e<d;e=e+1)k=k+" ";else typeof d==="string"&&(k=d);if((o=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return c("",
{"":a})});"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var e,g,k=a[d];if(k&&typeof k==="object")for(e in k)if(Object.prototype.hasOwnProperty.call(k,e)){g=c(k,e);g!==void 0?k[e]=g:delete k[e]}return b.call(a,d,k)}var e,a=""+a;d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){e=eval("("+a+")");return typeof b==="function"?c({"":e},""):e}throw new SyntaxError("JSON.parse");})})();var MD5Hash={hex_chr:"0123456789abcdef",rhex:function(a){str="";for(j=0;3>=j;j++)str+=this.hex_chr.charAt(a>>8*j+4&15)+this.hex_chr.charAt(a>>8*j&15);return str},str2blks_MD5:function(a){nblk=(a.length+8>>6)+1;blks=Array(16*nblk);for(i=0;i<16*nblk;i++)blks[i]=0;for(i=0;i<a.length;i++)blks[i>>2]|=a.charCodeAt(i)<<8*(i%4);blks[i>>2]|=128<<8*(i%4);blks[16*nblk-2]=8*a.length;return blks},add:function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},rol:function(a,b){return a<<
b|a>>>32-b},cmn:function(a,b,c,d,e,g){return this.add(this.rol(this.add(this.add(b,a),this.add(d,g)),e),c)},ff:function(a,b,c,d,e,g,k){return this.cmn(b&c|~b&d,a,b,e,g,k)},gg:function(a,b,c,d,e,g,k){return this.cmn(b&d|c&~d,a,b,e,g,k)},hh:function(a,b,c,d,e,g,k){return this.cmn(b^c^d,a,b,e,g,k)},ii:function(a,b,c,d,e,g,k){return this.cmn(c^(b|~d),a,b,e,g,k)},MD5:function(a){x=this.str2blks_MD5(a);var a=1732584193,b=-271733879,c=-1732584194,d=271733878;for(i=0;i<x.length;i+=16)var e=a,g=b,k=c,m=d,
a=this.ff(a,b,c,d,x[i+0],7,-680876936),d=this.ff(d,a,b,c,x[i+1],12,-389564586),c=this.ff(c,d,a,b,x[i+2],17,606105819),b=this.ff(b,c,d,a,x[i+3],22,-1044525330),a=this.ff(a,b,c,d,x[i+4],7,-176418897),d=this.ff(d,a,b,c,x[i+5],12,1200080426),c=this.ff(c,d,a,b,x[i+6],17,-1473231341),b=this.ff(b,c,d,a,x[i+7],22,-45705983),a=this.ff(a,b,c,d,x[i+8],7,1770035416),d=this.ff(d,a,b,c,x[i+9],12,-1958414417),c=this.ff(c,d,a,b,x[i+10],17,-42063),b=this.ff(b,c,d,a,x[i+11],22,-1990404162),a=this.ff(a,b,c,d,x[i+12],
7,1804603682),d=this.ff(d,a,b,c,x[i+13],12,-40341101),c=this.ff(c,d,a,b,x[i+14],17,-1502002290),b=this.ff(b,c,d,a,x[i+15],22,1236535329),a=this.gg(a,b,c,d,x[i+1],5,-165796510),d=this.gg(d,a,b,c,x[i+6],9,-1069501632),c=this.gg(c,d,a,b,x[i+11],14,643717713),b=this.gg(b,c,d,a,x[i+0],20,-373897302),a=this.gg(a,b,c,d,x[i+5],5,-701558691),d=this.gg(d,a,b,c,x[i+10],9,38016083),c=this.gg(c,d,a,b,x[i+15],14,-660478335),b=this.gg(b,c,d,a,x[i+4],20,-405537848),a=this.gg(a,b,c,d,x[i+9],5,568446438),d=this.gg(d,
a,b,c,x[i+14],9,-1019803690),c=this.gg(c,d,a,b,x[i+3],14,-187363961),b=this.gg(b,c,d,a,x[i+8],20,1163531501),a=this.gg(a,b,c,d,x[i+13],5,-1444681467),d=this.gg(d,a,b,c,x[i+2],9,-51403784),c=this.gg(c,d,a,b,x[i+7],14,1735328473),b=this.gg(b,c,d,a,x[i+12],20,-1926607734),a=this.hh(a,b,c,d,x[i+5],4,-378558),d=this.hh(d,a,b,c,x[i+8],11,-2022574463),c=this.hh(c,d,a,b,x[i+11],16,1839030562),b=this.hh(b,c,d,a,x[i+14],23,-35309556),a=this.hh(a,b,c,d,x[i+1],4,-1530992060),d=this.hh(d,a,b,c,x[i+4],11,1272893353),
c=this.hh(c,d,a,b,x[i+7],16,-155497632),b=this.hh(b,c,d,a,x[i+10],23,-1094730640),a=this.hh(a,b,c,d,x[i+13],4,681279174),d=this.hh(d,a,b,c,x[i+0],11,-358537222),c=this.hh(c,d,a,b,x[i+3],16,-722521979),b=this.hh(b,c,d,a,x[i+6],23,76029189),a=this.hh(a,b,c,d,x[i+9],4,-640364487),d=this.hh(d,a,b,c,x[i+12],11,-421815835),c=this.hh(c,d,a,b,x[i+15],16,530742520),b=this.hh(b,c,d,a,x[i+2],23,-995338651),a=this.ii(a,b,c,d,x[i+0],6,-198630844),d=this.ii(d,a,b,c,x[i+7],10,1126891415),c=this.ii(c,d,a,b,x[i+14],
15,-1416354905),b=this.ii(b,c,d,a,x[i+5],21,-57434055),a=this.ii(a,b,c,d,x[i+12],6,1700485571),d=this.ii(d,a,b,c,x[i+3],10,-1894986606),c=this.ii(c,d,a,b,x[i+10],15,-1051523),b=this.ii(b,c,d,a,x[i+1],21,-2054922799),a=this.ii(a,b,c,d,x[i+8],6,1873313359),d=this.ii(d,a,b,c,x[i+15],10,-30611744),c=this.ii(c,d,a,b,x[i+6],15,-1560198380),b=this.ii(b,c,d,a,x[i+13],21,1309151649),a=this.ii(a,b,c,d,x[i+4],6,-145523070),d=this.ii(d,a,b,c,x[i+11],10,-1120210379),c=this.ii(c,d,a,b,x[i+2],15,718787259),b=this.ii(b,
c,d,a,x[i+9],21,-343485551),a=this.add(a,e),b=this.add(b,g),c=this.add(c,k),d=this.add(d,m);return this.rhex(a)+this.rhex(b)+this.rhex(c)+this.rhex(d)}};(function(a){function b(){if(k.jStorage)try{g=v(""+k.jStorage)}catch(a){k.jStorage="{}"}else k.jStorage="{}";o=k.jStorage?(""+k.jStorage).length:0}function c(){try{k.jStorage=r(g),m&&(m.setAttribute("jStorage",k.jStorage),m.save("jStorage")),o=k.jStorage?(""+k.jStorage).length:0}catch(a){}}function d(a){if(!a||"string"!=typeof a&&"number"!=typeof a)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==a)throw new TypeError("Reserved key name");return!0}function e(){var a,
b,d,k=Infinity,m=!1;clearTimeout(w);if(g.__jstorage_meta&&"object"==typeof g.__jstorage_meta.TTL){a=+new Date;d=g.__jstorage_meta.TTL;for(b in d)d.hasOwnProperty(b)&&(d[b]<=a?(delete d[b],delete g[b],m=!0):d[b]<k&&(k=d[b]));Infinity!=k&&(w=setTimeout(e,k-a));m&&c()}}if(!a||!a.toJSON&&!Object.toJSON&&!window.JSON)throw Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");var g={},k={jStorage:"{}"},m=null,o=0,r=a.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),
v=a.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(a){return(""+a).evalJSON()},s=!1,w,C={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(c){}}return!1},decode:function(a){var b="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async=
"false";b.loadXML(a);return b};if(!b)return!1;a=b.call("DOMParser"in window&&new DOMParser||window,a,"text/xml");return this.isXML(a)?a:!1}};a.jStorage={version:"0.1.7.0",set:function(a,b,e){d(a);e=e||{};C.isXML(b)?b={_is_xml:!0,xml:C.encode(b)}:"function"==typeof b?b=null:b&&"object"==typeof b&&(b=v(r(b)));g[a]=b;isNaN(e.TTL)?c():this.setTTL(a,e.TTL);return b},on:function(a,b){function c(d){var e;d||(d=window.event);if("jStorage"===d.key&&(e=v(d.newValue),d=v(d.oldValue),a in e||a in d))e=e[a],d=
d[a],e!==d&&b(e,d)}d(a);if(!b||"function"!==typeof b)throw new TypeError("Callback must be a function");window.addEventListener?window.addEventListener("storage",c,!1):window.attachEvent("onstorage",c);return!0},get:function(a,b){d(a);return a in g?g[a]&&"object"==typeof g[a]&&g[a]._is_xml&&g[a]._is_xml?C.decode(g[a].xml):g[a]:"undefined"==typeof b?null:b},deleteKey:function(a){d(a);return a in g?(delete g[a],g.__jstorage_meta&&"object"==typeof g.__jstorage_meta.TTL&&a in g.__jstorage_meta.TTL&&delete g.__jstorage_meta.TTL[a],
c(),!0):!1},setTTL:function(a,b){var k=+new Date;d(a);b=Number(b)||0;return a in g?(g.__jstorage_meta||(g.__jstorage_meta={}),g.__jstorage_meta.TTL||(g.__jstorage_meta.TTL={}),0<b?g.__jstorage_meta.TTL[a]=k+b:delete g.__jstorage_meta.TTL[a],c(),e(),!0):!1},flush:function(){g={};c();return!0},storageObj:function(){function a(){}a.prototype=g;return new a},index:function(){var a=[],b;for(b in g)g.hasOwnProperty(b)&&"__jstorage_meta"!=b&&a.push(b);return a},storageSize:function(){return o},currentBackend:function(){return s},
storageAvailable:function(){return!!s},reInit:function(){var a;if(m&&m.addBehavior){a=document.createElement("link");m.parentNode.replaceChild(a,m);m=a;m.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(m);m.load("jStorage");a="{}";try{a=m.getAttribute("jStorage")}catch(c){}k.jStorage=a;s="userDataBehavior"}b()}};(function(){var a=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),a=!0,window.localStorage.removeItem("_tmptest")}catch(c){}if(a)try{window.localStorage&&
(k=window.localStorage,s="localStorage")}catch(d){}else if("globalStorage"in window)try{window.globalStorage&&(k=window.globalStorage[window.location.hostname],s="globalStorage")}catch(g){}else if(m=document.createElement("link"),m.addBehavior){m.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(m);m.load("jStorage");a="{}";try{a=m.getAttribute("jStorage")}catch(o){}k.jStorage=a;s="userDataBehavior"}else{m=null;return}b();e()})()})(window.$||window.jQuery);(function(){function a(b,c,d){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b._chain&&(b=b._wrapped);c._chain&&(c=c._wrapped);if(b.isEqual&&l.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&l.isFunction(c.isEqual))return c.isEqual(b);var e=o.call(b);if(e!=o.call(c))return!1;switch(e){case "[object String]":return b==""+c;case "[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case "[object Date]":case "[object Boolean]":return+b==+c;case "[object RegExp]":return b.source==
c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var g=d.length;g--;)if(d[g]==b)return!0;d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=b.length,h=g==c.length)for(;g--&&(h=g in b==g in c&&a(b[g],c[g],d)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var n in b)if(l.has(b,n)&&(g++,!(h=l.has(c,n)&&a(b[n],c[n],d))))break;if(h){for(n in c)if(l.has(c,n)&&!g--)break;
h=!g}}d.pop();return h}var b=this,c=b._,d={},e=Array.prototype,g=Object.prototype,k=e.slice,m=e.unshift,o=g.toString,r=g.hasOwnProperty,v=e.forEach,s=e.map,w=e.reduce,C=e.reduceRight,B=e.filter,z=e.every,G=e.some,D=e.indexOf,I=e.lastIndexOf,g=Array.isArray,L=Object.keys,n=Function.prototype.bind,l=function(a){return new P(a)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=l),exports._=l):b._=l;l.VERSION="1.3.1";var A=l.each=l.forEach=function(a,
b,c){if(a!=null)if(v&&a.forEach===v)a.forEach(b,c);else if(a.length===+a.length)for(var e=0,g=a.length;e<g;e++){if(e in a&&b.call(c,a[e],e,a)===d)break}else for(e in a)if(l.has(a,e)&&b.call(c,a[e],e,a)===d)break};l.map=l.collect=function(a,b,c){var d=[];if(a==null)return d;if(s&&a.map===s)return a.map(b,c);A(a,function(a,e,g){d[d.length]=b.call(c,a,e,g)});if(a.length===+a.length)d.length=a.length;return d};l.reduce=l.foldl=l.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(w&&
a.reduce===w){d&&(b=l.bind(b,d));return e?a.reduce(b,c):a.reduce(b)}A(a,function(a,g,h){if(e)c=b.call(d,c,a,g,h);else{c=a;e=true}});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};l.reduceRight=l.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(C&&a.reduceRight===C){d&&(b=l.bind(b,d));return e?a.reduceRight(b,c):a.reduceRight(b)}var g=l.toArray(a).reverse();d&&!e&&(b=l.bind(b,d));return e?l.reduce(g,b,c,d):l.reduce(g,b)};l.find=l.detect=function(a,
b,c){var d;O(a,function(a,e,g){if(b.call(c,a,e,g)){d=a;return true}});return d};l.filter=l.select=function(a,b,c){var d=[];if(a==null)return d;if(B&&a.filter===B)return a.filter(b,c);A(a,function(a,e,g){b.call(c,a,e,g)&&(d[d.length]=a)});return d};l.reject=function(a,b,c){var d=[];if(a==null)return d;A(a,function(a,e,g){b.call(c,a,e,g)||(d[d.length]=a)});return d};l.every=l.all=function(a,b,c){var e=true;if(a==null)return e;if(z&&a.every===z)return a.every(b,c);A(a,function(a,g,h){if(!(e=e&&b.call(c,
a,g,h)))return d});return!!e};var O=l.some=l.any=function(a,b,c){b||(b=l.identity);var e=false;if(a==null)return e;if(G&&a.some===G)return a.some(b,c);A(a,function(a,g,h){if(e||(e=b.call(c,a,g,h)))return d});return!!e};l.include=l.contains=function(a,b){var c=false;if(a==null)return c;if(D&&a.indexOf===D)return a.indexOf(b)!=-1;return c=O(a,function(a){return a===b})};l.invoke=function(a,b){var c=k.call(arguments,2);return l.map(a,function(a){return(l.isFunction(b)?b||a:a[b]).apply(a,c)})};l.pluck=
function(a,b){return l.map(a,function(a){return a[b]})};l.max=function(a,b,c){if(!b&&l.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&l.isEmpty(a))return-Infinity;var d={computed:-Infinity};A(a,function(a,e,g){e=b?b.call(c,a,e,g):a;e>=d.computed&&(d={value:a,computed:e})});return d.value};l.min=function(a,b,c){if(!b&&l.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&l.isEmpty(a))return Infinity;var d={computed:Infinity};A(a,function(a,e,g){e=b?b.call(c,a,e,g):a;e<d.computed&&
(d={value:a,computed:e})});return d.value};l.shuffle=function(a){var b=[],c;A(a,function(a,d){if(d==0)b[0]=a;else{c=Math.floor(Math.random()*(d+1));b[d]=b[c];b[c]=a}});return b};l.sortBy=function(a,b,c){return l.pluck(l.map(a,function(a,d,e){return{value:a,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")};l.groupBy=function(a,b){var c={},d=l.isFunction(b)?b:function(a){return a[b]};A(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)});
return c};l.sortedIndex=function(a,b,c){c||(c=l.identity);for(var d=0,e=a.length;d<e;){var g=d+e>>1;c(a[g])<c(b)?d=g+1:e=g}return d};l.toArray=function(a){return!a?[]:a.toArray?a.toArray():l.isArray(a)||l.isArguments(a)?k.call(a):l.values(a)};l.size=function(a){return l.toArray(a).length};l.first=l.head=function(a,b,c){return b!=null&&!c?k.call(a,0,b):a[0]};l.initial=function(a,b,c){return k.call(a,0,a.length-(b==null||c?1:b))};l.last=function(a,b,c){return b!=null&&!c?k.call(a,Math.max(a.length-
b,0)):a[a.length-1]};l.rest=l.tail=function(a,b,c){return k.call(a,b==null||c?1:b)};l.compact=function(a){return l.filter(a,function(a){return!!a})};l.flatten=function(a,b){return l.reduce(a,function(a,c){if(l.isArray(c))return a.concat(b?c:l.flatten(c));a[a.length]=c;return a},[])};l.without=function(a){return l.difference(a,k.call(arguments,1))};l.uniq=l.unique=function(a,b,c){var c=c?l.map(a,c):a,d=[];a.length<3&&(b=true);l.reduce(c,function(c,e,g){if(b?l.last(c)!==e||!c.length:!l.include(c,e)){c.push(e);
d.push(a[g])}return c},[]);return d};l.union=function(){return l.uniq(l.flatten(arguments,true))};l.intersection=l.intersect=function(a){var b=k.call(arguments,1);return l.filter(l.uniq(a),function(a){return l.every(b,function(b){return l.indexOf(b,a)>=0})})};l.difference=function(a){var b=l.flatten(k.call(arguments,1),true);return l.filter(a,function(a){return!l.include(b,a)})};l.zip=function(){for(var a=k.call(arguments),b=l.max(l.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=l.pluck(a,""+d);return c};
l.indexOf=function(a,b,c){if(a==null)return-1;var d;if(c){c=l.sortedIndex(a,b);return a[c]===b?c:-1}if(D&&a.indexOf===D)return a.indexOf(b);c=0;for(d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1};l.lastIndexOf=function(a,b){if(a==null)return-1;if(I&&a.lastIndexOf===I)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1};l.range=function(a,b,c){if(arguments.length<=1){b=a||0;a=0}for(var c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/c),0),e=0,g=Array(d);e<d;){g[e++]=
a;a=a+c}return g};var E=function(){};l.bind=function(a,b){var c,d;if(a.bind===n&&n)return n.apply(a,k.call(arguments,1));if(!l.isFunction(a))throw new TypeError;d=k.call(arguments,2);return c=function(){if(!(this instanceof c))return a.apply(b,d.concat(k.call(arguments)));E.prototype=a.prototype;var e=new E,g=a.apply(e,d.concat(k.call(arguments)));return Object(g)===g?g:e}};l.bindAll=function(a){var b=k.call(arguments,1);b.length==0&&(b=l.functions(a));A(b,function(b){a[b]=l.bind(a[b],a)});return a};
l.memoize=function(a,b){var c={};b||(b=l.identity);return function(){var d=b.apply(this,arguments);return l.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};l.delay=function(a,b){var c=k.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)};l.defer=function(a){return l.delay.apply(l,[a,1].concat(k.call(arguments,1)))};l.throttle=function(a,b){var c,d,e,g,h,n=l.debounce(function(){h=g=false},b);return function(){c=this;d=arguments;e||(e=setTimeout(function(){e=null;h&&a.apply(c,d);n()},
b));g?h=true:a.apply(c,d);n();g=true}};l.debounce=function(a,b,c){var d;return function(){var e=this,g=arguments;c&&!d&&a.apply(e,g);clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(e,g)},b)}};l.once=function(a){var b=false,c;return function(){if(b)return c;b=true;return c=a.apply(this,arguments)}};l.wrap=function(a,b){return function(){var c=[a].concat(k.call(arguments,0));return b.apply(this,c)}};l.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=
0;c--)b=[a[c].apply(this,b)];return b[0]}};l.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}};l.keys=L||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)l.has(a,c)&&(b[b.length]=c);return b};l.values=function(a){return l.map(a,l.identity)};l.functions=l.methods=function(a){var b=[],c;for(c in a)l.isFunction(a[c])&&b.push(c);return b.sort()};l.extend=function(a){A(k.call(arguments,1),function(b){for(var c in b)a[c]=b[c]});
return a};l.defaults=function(a){A(k.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])});return a};l.clone=function(a){return!l.isObject(a)?a:l.isArray(a)?a.slice():l.extend({},a)};l.tap=function(a,b){b(a);return a};l.isEqual=function(b,c){return a(b,c,[])};l.isEmpty=function(a){if(a==null)return true;if(l.isArray(a)||l.isString(a))return a.length===0;for(var b in a)if(l.has(a,b))return false;return true};l.isElement=function(a){return!!(a&&a.nodeType==1)};l.isArray=g||function(a){return o.call(a)==
"[object Array]"};l.isObject=function(a){return a===Object(a)};l.isArguments=function(a){return o.call(a)=="[object Arguments]"};l.isArguments(arguments)||(l.isArguments=function(a){return!(!a||!l.has(a,"callee"))});l.isFunction=function(a){return o.call(a)=="[object Function]"};l.isString=function(a){return o.call(a)=="[object String]"};l.isNumber=function(a){return o.call(a)=="[object Number]"};l.isNaN=function(a){return a!==a};l.isBoolean=function(a){return a===true||a===false||o.call(a)=="[object Boolean]"};
l.isDate=function(a){return o.call(a)=="[object Date]"};l.isRegExp=function(a){return o.call(a)=="[object RegExp]"};l.isNull=function(a){return a===null};l.isUndefined=function(a){return a===void 0};l.has=function(a,b){return r.call(a,b)};l.noConflict=function(){b._=c;return this};l.identity=function(a){return a};l.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)};l.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,
"&#x27;").replace(/\//g,"&#x2F;")};l.mixin=function(a){A(l.functions(a),function(b){h(b,l[b]=a[b])})};var S=0;l.uniqueId=function(a){var b=S++;return a?a+b:b};l.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/.^/,u=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};l.template=function(a,b){var c=l.templateSettings,c="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,
"\\'").replace(c.escape||N,function(a,b){return"',_.escape("+u(b)+"),'"}).replace(c.interpolate||N,function(a,b){return"',"+u(b)+",'"}).replace(c.evaluate||N,function(a,b){return"');"+u(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",d=new Function("obj","_",c);return b?d(b,l):function(a){return d.call(this,a,l)}};l.chain=function(a){return l(a).chain()};var P=function(a){this._wrapped=a};l.prototype=P.prototype;
var da=function(a,b){return b?l(a).chain():a},h=function(a,b){P.prototype[a]=function(){var a=k.call(arguments);m.call(a,this._wrapped);return da(b.apply(l,a),this._chain)}};l.mixin(l);A("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var b=e[a];P.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;(a=="shift"||a=="splice")&&d===0&&delete c[0];return da(c,this._chain)}});A(["concat","join","slice"],function(a){var b=e[a];P.prototype[a]=function(){return da(b.apply(this._wrapped,
arguments),this._chain)}});P.prototype.chain=function(){this._chain=true;return this};P.prototype.value=function(){return this._wrapped}}).call(this);(function(){var a=this,b=a.Backbone,c=Array.prototype.slice,d=Array.prototype.splice,e;e="undefined"!==typeof exports?exports:a.Backbone={};e.VERSION="0.9.1";var g=a._;!g&&"undefined"!==typeof require&&(g=require("underscore"));var k=a.jQuery||a.Zepto||a.ender;e.setDomLibrary=function(a){k=a};e.noConflict=function(){a.Backbone=b;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={on:function(a,b,c){for(var d,a=a.split(/\s+/),e=this._callbacks||(this._callbacks={});d=a.shift();){d=e[d]||(e[d]=
{});var g=d.tail||(d.tail=d.next={});g.callback=b;g.context=c;d.tail=g.next={}}return this},off:function(a,b,c){var d,e,g;if(a){if(e=this._callbacks)for(a=a.split(/\s+/);d=a.shift();)if(g=e[d],delete e[d],b&&g)for(;(g=g.next)&&g.next;)if(!(g.callback===b&&(!c||g.context===c)))this.on(d,g.callback,g.context)}else delete this._callbacks;return this},trigger:function(a){var b,d,e,g;if(!(e=this._callbacks))return this;g=e.all;for((a=a.split(/\s+/)).push(null);b=a.shift();)g&&a.push({next:g.next,tail:g.tail,
event:b}),(d=e[b])&&a.push({next:d.next,tail:d.tail});for(g=c.call(arguments,1);d=a.pop();){b=d.tail;for(e=d.event?[d.event].concat(g):g;(d=d.next)!==b;)d.callback.apply(d.context||this,e)}return this}};e.Events.bind=e.Events.on;e.Events.unbind=e.Events.off;e.Model=function(a,b){var c;a||(a={});b&&b.parse&&(a=this.parse(a));if(c=I(this,"defaults"))a=g.extend({},c,a);b&&b.collection&&(this.collection=b.collection);this.attributes={};this._escapedAttributes={};this.cid=g.uniqueId("c");if(!this.set(a,
{silent:!0}))throw Error("Can't create an invalid model");delete this._changed;this._previousAttributes=g.clone(this.attributes);this.initialize.apply(this,arguments)};g.extend(e.Model.prototype,e.Events,{idAttribute:"id",initialize:function(){},toJSON:function(){return g.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=g.escape(null==b?"":""+b)},has:function(a){return null!=
this.attributes[a]},set:function(a,b,c){var d,k;g.isObject(a)||null==a?(d=a,c=b):(d={},d[a]=b);c||(c={});if(!d)return this;d instanceof e.Model&&(d=d.attributes);if(c.unset)for(k in d)d[k]=void 0;if(!this._validate(d,c))return!1;this.idAttribute in d&&(this.id=d[this.idAttribute]);var b=this.attributes,m=this._escapedAttributes,o=this._previousAttributes||{},r=this._setting;this._changed||(this._changed={});this._setting=!0;for(k in d)if(a=d[k],g.isEqual(b[k],a)||delete m[k],c.unset?delete b[k]:b[k]=
a,this._changing&&!g.isEqual(this._changed[k],a)&&(this.trigger("change:"+k,this,a,c),this._moreChanges=!0),delete this._changed[k],!g.isEqual(o[k],a)||g.has(b,k)!=g.has(o,k))this._changed[k]=a;r||(!c.silent&&this.hasChanged()&&this.change(c),this._setting=!1);return this},unset:function(a,b){(b||(b={})).unset=!0;return this.set(a,null,b)},clear:function(a){(a||(a={})).unset=!0;return this.set(g.clone(this.attributes),a)},fetch:function(a){var a=a?g.clone(a):{},b=this,c=a.success;a.success=function(d,
e,g){if(!b.set(b.parse(d,g),a))return!1;c&&c(b,d)};a.error=e.wrapError(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},save:function(a,b,c){var d,k;g.isObject(a)||null==a?(d=a,c=b):(d={},d[a]=b);c=c?g.clone(c):{};c.wait&&(k=g.clone(this.attributes));a=g.extend({},c,{silent:!0});if(d&&!this.set(d,c.wait?a:c))return!1;var m=this,o=c.success;c.success=function(a,b,e){b=m.parse(a,e);c.wait&&(b=g.extend(d||{},b));if(!m.set(b,c))return false;o?o(m,a):m.trigger("sync",m,a,c)};c.error=e.wrapError(c.error,
m,c);b=this.isNew()?"create":"update";b=(this.sync||e.sync).call(this,b,this,c);c.wait&&this.set(k,a);return b},destroy:function(a){var a=a?g.clone(a):{},b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(this.isNew())return d();a.success=function(e){a.wait&&d();c?c(b,e):b.trigger("sync",b,e,a)};a.error=e.wrapError(a.error,b,a);var k=(this.sync||e.sync).call(this,"delete",this,a);a.wait||d();return k},url:function(){var a=I(this.collection,"url")||I(this,"urlRoot")||L();return this.isNew()?
a:a+("/"==a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(a){if(this._changing||!this.hasChanged())return this;this._moreChanges=this._changing=!0;for(var b in this._changed)this.trigger("change:"+b,this,this._changed[b],a);for(;this._moreChanges;)this._moreChanges=!1,this.trigger("change",this,a);this._previousAttributes=g.clone(this.attributes);
delete this._changed;this._changing=!1;return this},hasChanged:function(a){return!arguments.length?!g.isEmpty(this._changed):this._changed&&g.has(this._changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?g.clone(this._changed):!1;var b,c=!1,d=this._previousAttributes,e;for(e in a)if(!g.isEqual(d[e],b=a[e]))(c||(c={}))[e]=b;return c},previous:function(a){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return g.clone(this._previousAttributes)},
isValid:function(){return!this.validate(this.attributes)},_validate:function(a,b){if(b.silent||!this.validate)return!0;var a=g.extend({},this.attributes,a),c=this.validate(a,b);if(!c)return!0;b&&b.error?b.error(this,c,b):this.trigger("error",this,c,b);return!1}});e.Collection=function(a,b){b||(b={});b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,{silent:!0,parse:b.parse})};g.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},
toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){var c,e,k,m,o,r={},s={};b||(b={});a=g.isArray(a)?a.slice():[a];c=0;for(e=a.length;c<e;c++){if(!(k=a[c]=this._prepareModel(a[c],b)))throw Error("Can't add an invalid model to a collection");if(r[m=k.cid]||this._byCid[m]||null!=(o=k.id)&&(s[o]||this._byId[o]))throw Error("Can't add the same model to a collection twice");r[m]=s[o]=k}for(c=0;c<e;c++)(k=a[c]).on("all",this._onModelEvent,this),this._byCid[k.cid]=k,null!=
k.id&&(this._byId[k.id]=k);this.length+=e;d.apply(this.models,[null!=b.at?b.at:this.models.length,0].concat(a));this.comparator&&this.sort({silent:!0});if(b.silent)return this;c=0;for(e=this.models.length;c<e;c++)if(r[(k=this.models[c]).cid])b.index=c,k.trigger("add",k,this,b);return this},remove:function(a,b){var c,d,e,k;b||(b={});a=g.isArray(a)?a.slice():[a];c=0;for(d=a.length;c<d;c++)if(k=this.getByCid(a[c])||this.get(a[c]))delete this._byId[k.id],delete this._byCid[k.cid],e=this.indexOf(k),this.models.splice(e,
1),this.length--,b.silent||(b.index=e,k.trigger("remove",k,this,b)),this._removeReference(k);return this},get:function(a){return null==a?null:this._byId[null!=a.id?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");var b=g.bind(this.comparator,this);1==this.comparator.length?this.models=this.sortBy(b):this.models.sort(b);a.silent||this.trigger("reset",
this,a);return this},pluck:function(a){return g.map(this.models,function(b){return b.get(a)})},reset:function(a,b){a||(a=[]);b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);this._reset();this.add(a,{silent:!0,parse:b.parse});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a=a?g.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d,e,g){b[a.add?"add":"reset"](b.parse(d,g),a);c&&c(b,d)};a.error=e.wrapError(a.error,
b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this,b=b?g.clone(b):{},a=this._prepareModel(a,b);if(!a)return!1;b.wait||c.add(a,b);var d=b.success;b.success=function(e,g){b.wait&&c.add(e,b);d?d(e,g):e.trigger("sync",a,g,b)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return g(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){a instanceof e.Model?a.collection||
(a.collection=this):(b.collection=this,a=new this.model(a,b),a._validate(a.attributes,b)||(a=!1));return a},_removeReference:function(a){this==a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"==a||"remove"==a)&&c!=this||("destroy"==a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});g.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,initial,rest,last,without,indexOf,shuffle,lastIndexOf,isEmpty,groupBy".split(","),
function(a){e.Collection.prototype[a]=function(){return g[a].apply(g,[this.models].concat(g.toArray(arguments)))}});e.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)};var m=/:\w+/g,o=/\*\w+/g,r=/[-[\]{}()+?.,\\^$|#\s]/g;g.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||(e.history=new e.History);g.isRegExp(a)||(a=this._routeToRegExp(a));c||(c=this[b]);e.history.route(a,g.bind(function(d){d=
this._extractParameters(a,d);c&&c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d));e.history.trigger("route",this,b,d)},this));return this},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(r,"\\$&").replace(m,"([^/]+)").replace(o,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,
b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];g.bindAll(this,"checkUrl")};var v=/^[#\/]/,s=/msie [\w.]+/,w=!1;g.extend(e.History.prototype,e.Events,{interval:50,getFragment:function(a,b){if(null==a)if(this._hasPushState||b){var a=window.location.pathname,c=window.location.search;c&&(a+=c)}else a=window.location.hash;a=decodeURIComponent(a);a.indexOf(this.options.root)||(a=a.substr(this.options.root.length));return a.replace(v,"")},start:function(a){if(w)throw Error("Backbone.history has already been started");
this.options=g.extend({},{root:"/"},this.options,a);this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var a=this.getFragment(),b=document.documentMode;if(b=s.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b))this.iframe=k('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?k(window).bind("popstate",
this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!b?k(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;w=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&b&&a.hash&&
(this.fragment=a.hash.replace(v,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){k(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);w=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location.hash));
if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return g.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!w)return!1;if(!b||!0===b)b={trigger:b};var c=(a||"").replace(v,"");this.fragment==c||this.fragment==decodeURIComponent(c)||(this._hasPushState?(0!=c.indexOf(this.options.root)&&(c=
this.options.root+c),this.fragment=c,window.history[b.replace?"replaceState":"pushState"]({},document.title,c)):this._wantsHashChange?(this.fragment=c,this._updateHash(window.location,c,b.replace),this.iframe&&c!=this.getFragment(this.iframe.location.hash)&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,c,b.replace))):window.location.assign(this.options.root+a),b.trigger&&this.loadUrl(a))},_updateHash:function(a,b,c){c?a.replace(a.toString().replace(/(javascript:|#).*$/,
"")+"#"+b):a.hash=b}});e.View=function(a){this.cid=g.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var C=/^(\S+)\s*(.*)$/,B="model,collection,el,id,attributes,className,tagName".split(",");g.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(a,b,c){a=document.createElement(a);
b&&k(a).attr(b);c&&k(a).html(c);return a},setElement:function(a,b){this.$el=k(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(a||(a=I(this,"events"))){this.undelegateEvents();for(var b in a){var c=a[b];g.isFunction(c)||(c=this[a[b]]);if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(C),e=d[1],d=d[2],c=g.bind(c,this),e=e+(".delegateEvents"+this.cid);""===d?this.$el.bind(e,c):this.$el.delegate(d,e,c)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+
this.cid)},_configure:function(a){this.options&&(a=g.extend({},this.options,a));for(var b=0,c=B.length;b<c;b++){var d=B[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var a=I(this,"attributes")||{};this.id&&(a.id=this.id);this.className&&(a["class"]=this.className);this.setElement(this.make(this.tagName,a),!1)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=D(this,a,b);c.extend=this.extend;return c};
var z={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=z[a],m={type:d,dataType:"json"};c.url||(m.url=I(b,"url")||L());if(!c.data&&b&&("create"==a||"update"==a))m.contentType="application/json",m.data=JSON.stringify(b.toJSON());e.emulateJSON&&(m.contentType="application/x-www-form-urlencoded",m.data=m.data?{model:m.data}:{});if(e.emulateHTTP&&("PUT"===d||"DELETE"===d))e.emulateJSON&&(m.data._method=d),m.type="POST",m.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",
d)};"GET"!==m.type&&!e.emulateJSON&&(m.processData=!1);return k.ajax(g.extend(m,c))};e.wrapError=function(a,b,c){return function(d,e){e=d===b?e:d;a?a(b,e,c):b.trigger("error",b,e,c)}};var G=function(){},D=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){a.apply(this,arguments)};g.extend(d,a);G.prototype=a.prototype;d.prototype=new G;b&&g.extend(d.prototype,b);c&&g.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},I=function(a,b){return!a||!a[b]?
null:g.isFunction(a[b])?a[b]():a[b]},L=function(){throw Error('A "url" property or function must be specified');}}).call(this);(function(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var b=this._,c=this.Backbone;c.LocalStorage=window.Store=function(a){this.name=a;this.records=(a=this.localStorage().getItem(this.name))&&a.split(",")||[]};b.extend(c.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(b){b.id||(b.id=a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a(),b.set(b.idAttribute,b.id));this.localStorage().setItem(this.name+"-"+
b.id,JSON.stringify(b));this.records.push(b.id.toString());this.save();return b.toJSON()},update:function(a){this.localStorage().setItem(this.name+"-"+a.id,JSON.stringify(a));b.include(this.records,a.id.toString())||this.records.push(a.id.toString());this.save();return a.toJSON()},find:function(a){return JSON.parse(this.localStorage().getItem(this.name+"-"+a.id))},findAll:function(){return b(this.records).chain().map(function(a){return JSON.parse(this.localStorage().getItem(this.name+"-"+a))},this).compact().value()},
destroy:function(a){this.localStorage().removeItem(this.name+"-"+a.id);this.records=b.reject(this.records,function(b){return b==a.id.toString()});this.save();return a},localStorage:function(){return localStorage}});c.LocalStorage.sync=window.Store.sync=c.localSync=function(a,b,c,k){var m=b.localStorage||b.collection.localStorage;"function"==typeof c&&(c={success:c,error:k});var o;switch(a){case "read":o=void 0!=b.id?m.find(b):m.findAll();break;case "create":o=m.create(b);break;case "update":o=m.update(b);
break;case "delete":o=m.destroy(b)}o?c.success(o):c.error("Record not found")};c.ajaxSync=c.sync;c.getSyncMethod=function(a){return a.localStorage||a.collection&&a.collection.localStorage?c.localSync:c.ajaxSync};c.sync=function(a,b,g,k){return c.getSyncMethod(b).apply(this,[a,b,g,k])}})();jQuery.cookie=function(a,b,c){if("undefined"!=typeof b){c=c||{};null===b&&(b="",c.expires=-1);var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString))"number"==typeof c.expires?(d=new Date,d.setTime(d.getTime()+864E5*c.expires)):d=c.expires,d="; expires="+d.toUTCString();var e=c.path?"; path="+c.path:"",g=c.domain?"; domain="+c.domain:"",c=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,e,g,c].join("")}else{b=null;if(document.cookie&&""!=document.cookie){c=
document.cookie.split(";");for(d=0;d<c.length;d++)if(e=jQuery.trim(c[d]),e.substring(0,a.length+1)==a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}return b}};function sha1Hash(a){for(var b=[1518500249,1859775393,2400959708,3395469782],a=a+String.fromCharCode(128),c=Math.ceil((a.length/4+2)/16),d=Array(c),e=0;e<c;e++){d[e]=Array(16);for(var g=0;16>g;g++)d[e][g]=a.charCodeAt(64*e+4*g)<<24|a.charCodeAt(64*e+4*g+1)<<16|a.charCodeAt(64*e+4*g+2)<<8|a.charCodeAt(64*e+4*g+3)}d[c-1][14]=8*(a.length-1)/Math.pow(2,32);d[c-1][14]=Math.floor(d[c-1][14]);d[c-1][15]=8*(a.length-1)&4294967295;for(var a=1732584193,g=4023233417,k=2562383102,m=271733878,o=3285377520,r=Array(80),
v,s,w,C,B,e=0;e<c;e++){for(var z=0;16>z;z++)r[z]=d[e][z];for(z=16;80>z;z++)r[z]=ROTL(r[z-3]^r[z-8]^r[z-14]^r[z-16],1);v=a;s=g;w=k;C=m;B=o;for(z=0;80>z;z++){var G=Math.floor(z/20),G=ROTL(v,5)+f(G,s,w,C)+B+b[G]+r[z]&4294967295;B=C;C=w;w=ROTL(s,30);s=v;v=G}a=a+v&4294967295;g=g+s&4294967295;k=k+w&4294967295;m=m+C&4294967295;o=o+B&4294967295}return a.toHexStr()+g.toHexStr()+k.toHexStr()+m.toHexStr()+o.toHexStr()}
function f(a,b,c,d){switch(a){case 0:return b&c^~b&d;case 1:return b^c^d;case 2:return b&c^b&d^c&d;case 3:return b^c^d}}function ROTL(a,b){return a<<b|a>>>32-b}Number.prototype.toHexStr=function(){for(var a="",b,c=7;0<=c;c--)b=this>>>4*c&15,a+=b.toString(16);return a};var dbits,canary=244837814094590,j_lm=15715070==(canary&16777215);function BigInteger(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function nbi(){return new BigInteger(null)}function am1(a,b,c,d,e,g){for(;0<=--g;){var k=b*this[a++]+c[d]+e,e=Math.floor(k/67108864);c[d++]=k&67108863}return e}
function am2(a,b,c,d,e,g){for(var k=b&32767,b=b>>15;0<=--g;){var m=this[a]&32767,o=this[a++]>>15,r=b*m+o*k,m=k*m+((r&32767)<<15)+c[d]+(e&1073741823),e=(m>>>30)+(r>>>15)+b*o+(e>>>30);c[d++]=m&1073741823}return e}function am3(a,b,c,d,e,g){for(var k=b&16383,b=b>>14;0<=--g;){var m=this[a]&16383,o=this[a++]>>14,r=b*m+o*k,m=k*m+((r&16383)<<14)+c[d]+e,e=(m>>28)+(r>>14)+b*o;c[d++]=m&268435455}return e}
j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28);BigInteger.prototype.DB=dbits;BigInteger.prototype.DM=(1<<dbits)-1;BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP);BigInteger.prototype.F1=BI_FP-dbits;BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=[],rr,vv;
rr=48;for(vv=0;9>=vv;++vv)BI_RC[rr++]=vv;rr=97;for(vv=10;36>vv;++vv)BI_RC[rr++]=vv;rr=65;for(vv=10;36>vv;++vv)BI_RC[rr++]=vv;function int2char(a){return BI_RM.charAt(a)}function intAt(a,b){var c=BI_RC[a.charCodeAt(b)];return c==null?-1:c}function bnpCopyTo(a){for(var b=this.t-1;b>=0;--b)a[b]=this[b];a.t=this.t;a.s=this.s}function bnpFromInt(a){this.t=1;this.s=a<0?-1:0;a>0?this[0]=a:a<-1?this[0]=a+DV:this.t=0}function nbv(a){var b=nbi();b.fromInt(a);return b}
function bnpFromString(a,b){var c;if(b==16)c=4;else if(b==8)c=3;else if(b==256)c=8;else if(b==2)c=1;else if(b==32)c=5;else if(b==4)c=2;else{this.fromRadix(a,b);return}this.s=this.t=0;for(var d=a.length,e=false,g=0;--d>=0;){var k=c==8?a[d]&255:intAt(a,d);if(k<0)a.charAt(d)=="-"&&(e=true);else{e=false;if(g==0)this[this.t++]=k;else if(g+c>this.DB){this[this.t-1]=this[this.t-1]|(k&(1<<this.DB-g)-1)<<g;this[this.t++]=k>>this.DB-g}else this[this.t-1]=this[this.t-1]|k<<g;g=g+c;g>=this.DB&&(g=g-this.DB)}}if(c==
8&&(a[0]&128)!=0){this.s=-1;g>0&&(this[this.t-1]=this[this.t-1]|(1<<this.DB-g)-1<<g)}this.clamp();e&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var a=this.s&this.DM;this.t>0&&this[this.t-1]==a;)--this.t}
function bnToString(a){if(this.s<0)return"-"+this.negate().toString(a);if(a==16)a=4;else if(a==8)a=3;else if(a==2)a=1;else if(a==32)a=5;else if(a==4)a=2;else return this.toRadix(a);var b=(1<<a)-1,c,d=false,e="",g=this.t,k=this.DB-g*this.DB%a;if(g-- >0){if(k<this.DB&&(c=this[g]>>k)>0){d=true;e=int2char(c)}for(;g>=0;){if(k<a){c=(this[g]&(1<<k)-1)<<a-k;c=c|this[--g]>>(k=k+(this.DB-a))}else{c=this[g]>>(k=k-a)&b;if(k<=0){k=k+this.DB;--g}}c>0&&(d=true);d&&(e=e+int2char(c))}}return d?e:"0"}
function bnNegate(){var a=nbi();BigInteger.ZERO.subTo(this,a);return a}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(a){var b=this.s-a.s;if(b!=0)return b;var c=this.t,b=c-a.t;if(b!=0)return b;for(;--c>=0;)if((b=this[c]-a[c])!=0)return b;return 0}function nbits(a){var b=1,c;if((c=a>>>16)!=0){a=c;b=b+16}if((c=a>>8)!=0){a=c;b=b+8}if((c=a>>4)!=0){a=c;b=b+4}if((c=a>>2)!=0){a=c;b=b+2}a>>1!=0&&(b=b+1);return b}
function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(a,b){var c;for(c=this.t-1;c>=0;--c)b[c+a]=this[c];for(c=a-1;c>=0;--c)b[c]=0;b.t=this.t+a;b.s=this.s}function bnpDRShiftTo(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0);b.s=this.s}
function bnpLShiftTo(a,b){var c=a%this.DB,d=this.DB-c,e=(1<<d)-1,g=Math.floor(a/this.DB),k=this.s<<c&this.DM,m;for(m=this.t-1;m>=0;--m){b[m+g+1]=this[m]>>d|k;k=(this[m]&e)<<c}for(m=g-1;m>=0;--m)b[m]=0;b[g]=k;b.t=this.t+g+1;b.s=this.s;b.clamp()}
function bnpRShiftTo(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)b.t=0;else{var d=a%this.DB,e=this.DB-d,g=(1<<d)-1;b[0]=this[c]>>d;for(var k=c+1;k<this.t;++k){b[k-c-1]=b[k-c-1]|(this[k]&g)<<e;b[k-c]=this[k]>>d}d>0&&(b[this.t-c-1]=b[this.t-c-1]|(this.s&g)<<e);b.t=this.t-c;b.clamp()}}
function bnpSubTo(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;){d=d+(this[c]-a[c]);b[c++]=d&this.DM;d=d>>this.DB}if(a.t<this.t){for(d=d-a.s;c<this.t;){d=d+this[c];b[c++]=d&this.DM;d=d>>this.DB}d=d+this.s}else{for(d=d+this.s;c<a.t;){d=d-a[c];b[c++]=d&this.DM;d=d>>this.DB}d=d-a.s}b.s=d<0?-1:0;d<-1?b[c++]=this.DV+d:d>0&&(b[c++]=d);b.t=c;b.clamp()}
function bnpMultiplyTo(a,b){var c=this.abs(),d=a.abs(),e=c.t;for(b.t=e+d.t;--e>=0;)b[e]=0;for(e=0;e<d.t;++e)b[e+c.t]=c.am(0,d[e],b,e,0,c.t);b.s=0;b.clamp();this.s!=a.s&&BigInteger.ZERO.subTo(b,b)}function bnpSquareTo(a){for(var b=this.abs(),c=a.t=2*b.t;--c>=0;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);if((a[c+b.t]=a[c+b.t]+b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b.DV){a[c+b.t]=a[c+b.t]-b.DV;a[c+b.t+1]=1}}a.t>0&&(a[a.t-1]=a[a.t-1]+b.am(c,b[c],a,2*c,0,1));a.s=0;a.clamp()}
function bnpDivRemTo(a,b,c){var d=a.abs();if(!(d.t<=0)){var e=this.abs();if(e.t<d.t){b!=null&&b.fromInt(0);c!=null&&this.copyTo(c)}else{c==null&&(c=nbi());var g=nbi(),k=this.s,a=a.s,m=this.DB-nbits(d[d.t-1]);if(m>0){d.lShiftTo(m,g);e.lShiftTo(m,c)}else{d.copyTo(g);e.copyTo(c)}d=g.t;e=g[d-1];if(e!=0){var o=e*(1<<this.F1)+(d>1?g[d-2]>>this.F2:0),r=this.FV/o,o=(1<<this.F1)/o,v=1<<this.F2,s=c.t,w=s-d,C=b==null?nbi():b;g.dlShiftTo(w,C);if(c.compareTo(C)>=0){c[c.t++]=1;c.subTo(C,c)}BigInteger.ONE.dlShiftTo(d,
C);for(C.subTo(g,g);g.t<d;)g[g.t++]=0;for(;--w>=0;){var B=c[--s]==e?this.DM:Math.floor(c[s]*r+(c[s-1]+v)*o);if((c[s]=c[s]+g.am(0,B,c,w,0,d))<B){g.dlShiftTo(w,C);for(c.subTo(C,c);c[s]<--B;)c.subTo(C,c)}}if(b!=null){c.drShiftTo(d,b);k!=a&&BigInteger.ZERO.subTo(b,b)}c.t=d;c.clamp();m>0&&c.rShiftTo(m,c);k<0&&BigInteger.ZERO.subTo(c,c)}}}}function bnMod(a){var b=nbi();this.abs().divRemTo(a,null,b);this.s<0&&b.compareTo(BigInteger.ZERO)>0&&a.subTo(b,b);return b}function Classic(a){this.m=a}
function cConvert(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a}function cRevert(a){return a}function cReduce(a){a.divRemTo(this.m,null,a)}function cMulTo(a,b,c){a.multiplyTo(b,c);this.reduce(c)}function cSqrTo(a,b){a.squareTo(b);this.reduce(b)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;
function bnpInvDigit(){if(this.t<1)return 0;var a=this[0];if((a&1)==0)return 0;var b=a&3,b=b*(2-(a&15)*b)&15,b=b*(2-(a&255)*b)&255,b=b*(2-((a&65535)*b&65535))&65535,b=b*(2-a*b%this.DV)%this.DV;return b>0?this.DV-b:-b}function Montgomery(a){this.m=a;this.mp=a.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<a.DB-15)-1;this.mt2=2*a.t}
function montConvert(a){var b=nbi();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);a.s<0&&b.compareTo(BigInteger.ZERO)>0&&this.m.subTo(b,b);return b}function montRevert(a){var b=nbi();a.copyTo(b);this.reduce(b);return b}
function montReduce(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=a[b]&32767,d=c*this.mpl+((c*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a.DM,c=b+this.m.t;for(a[c]=a[c]+this.m.am(0,d,a,b,0,this.m.t);a[c]>=a.DV;){a[c]=a[c]-a.DV;a[++c]++}}a.clamp();a.drShiftTo(this.m.t,a);a.compareTo(this.m)>=0&&a.subTo(this.m,a)}function montSqrTo(a,b){a.squareTo(b);this.reduce(b)}function montMulTo(a,b,c){a.multiplyTo(b,c);this.reduce(c)}Montgomery.prototype.convert=montConvert;
Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return(this.t>0?this[0]&1:this.s)==0}function bnpExp(a,b){if(a>4294967295||a<1)return BigInteger.ONE;var c=nbi(),d=nbi(),e=b.convert(this),g=nbits(a)-1;for(e.copyTo(c);--g>=0;){b.sqrTo(c,d);if((a&1<<g)>0)b.mulTo(d,e,c);else var k=c,c=d,d=k}return b.revert(c)}
function bnModPowInt(a,b){var c;c=a<256||b.isEven()?new Classic(b):new Montgomery(b);return this.exp(a,c)}BigInteger.prototype.copyTo=bnpCopyTo;BigInteger.prototype.fromInt=bnpFromInt;BigInteger.prototype.fromString=bnpFromString;BigInteger.prototype.clamp=bnpClamp;BigInteger.prototype.dlShiftTo=bnpDLShiftTo;BigInteger.prototype.drShiftTo=bnpDRShiftTo;BigInteger.prototype.lShiftTo=bnpLShiftTo;BigInteger.prototype.rShiftTo=bnpRShiftTo;BigInteger.prototype.subTo=bnpSubTo;
BigInteger.prototype.multiplyTo=bnpMultiplyTo;BigInteger.prototype.squareTo=bnpSquareTo;BigInteger.prototype.divRemTo=bnpDivRemTo;BigInteger.prototype.invDigit=bnpInvDigit;BigInteger.prototype.isEven=bnpIsEven;BigInteger.prototype.exp=bnpExp;BigInteger.prototype.toString=bnToString;BigInteger.prototype.negate=bnNegate;BigInteger.prototype.abs=bnAbs;BigInteger.prototype.compareTo=bnCompareTo;BigInteger.prototype.bitLength=bnBitLength;BigInteger.prototype.mod=bnMod;BigInteger.prototype.modPowInt=bnModPowInt;
BigInteger.ZERO=nbv(0);BigInteger.ONE=nbv(1);function bnClone(){var a=nbi();this.copyTo(a);return a}function bnIntValue(){if(0>this.s){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24}function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16}function bnpChunkSize(a){return Math.floor(Math.LN2*this.DB/Math.log(a))}
function bnSigNum(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this[0]?0:1}function bnpToRadix(a){null==a&&(a=10);if(0==this.signum()||2>a||36<a)return"0";var b=this.chunkSize(a),b=Math.pow(a,b),c=nbv(b),d=nbi(),e=nbi(),g="";for(this.divRemTo(c,d,e);0<d.signum();)g=(b+e.intValue()).toString(a).substr(1)+g,d.divRemTo(c,d,e);return e.intValue().toString(a)+g}
function bnpFromRadix(a,b){this.fromInt(0);null==b&&(b=10);for(var c=this.chunkSize(b),d=Math.pow(b,c),e=!1,g=0,k=0,m=0;m<a.length;++m){var o=intAt(a,m);0>o?"-"==a.charAt(m)&&0==this.signum()&&(e=!0):(k=b*k+o,++g>=c&&(this.dMultiply(d),this.dAddOffset(k,0),k=g=0))}0<g&&(this.dMultiply(Math.pow(b,g)),this.dAddOffset(k,0));e&&BigInteger.ZERO.subTo(this,this)}
function bnpFromNumber(a,b,c){if("number"==typeof b)if(2>a)this.fromInt(1);else{this.fromNumber(a,c);this.testBit(a-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this);for(this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(BigInteger.ONE.shiftLeft(a-1),this)}else{var c=[],d=a&7;c.length=(a>>3)+1;b.nextBytes(c);c[0]=0<d?c[0]&(1<<d)-1:0;this.fromString(c,256)}}
function bnToByteArray(){var a=this.t,b=[];b[0]=this.s;var c=this.DB-a*this.DB%8,d,e=0;if(0<a--){if(c<this.DB&&(d=this[a]>>c)!=(this.s&this.DM)>>c)b[e++]=d|this.s<<this.DB-c;for(;0<=a;)if(8>c?(d=(this[a]&(1<<c)-1)<<8-c,d|=this[--a]>>(c+=this.DB-8)):(d=this[a]>>(c-=8)&255,0>=c&&(c+=this.DB,--a)),0!=(d&128)&&(d|=-256),0==e&&(this.s&128)!=(d&128)&&++e,0<e||d!=this.s)b[e++]=d}return b}function bnEquals(a){return 0==this.compareTo(a)}function bnMin(a){return 0>this.compareTo(a)?this:a}
function bnMax(a){return 0<this.compareTo(a)?this:a}function bnpBitwiseTo(a,b,c){var d,e,g=Math.min(a.t,this.t);for(d=0;d<g;++d)c[d]=b(this[d],a[d]);if(a.t<this.t){e=a.s&this.DM;for(d=g;d<this.t;++d)c[d]=b(this[d],e);c.t=this.t}else{e=this.s&this.DM;for(d=g;d<a.t;++d)c[d]=b(e,a[d]);c.t=a.t}c.s=b(this.s,a.s);c.clamp()}function op_and(a,b){return a&b}function bnAnd(a){var b=nbi();this.bitwiseTo(a,op_and,b);return b}function op_or(a,b){return a|b}
function bnOr(a){var b=nbi();this.bitwiseTo(a,op_or,b);return b}function op_xor(a,b){return a^b}function bnXor(a){var b=nbi();this.bitwiseTo(a,op_xor,b);return b}function op_andnot(a,b){return a&~b}function bnAndNot(a){var b=nbi();this.bitwiseTo(a,op_andnot,b);return b}function bnNot(){for(var a=nbi(),b=0;b<this.t;++b)a[b]=this.DM&~this[b];a.t=this.t;a.s=~this.s;return a}function bnShiftLeft(a){var b=nbi();0>a?this.rShiftTo(-a,b):this.lShiftTo(a,b);return b}
function bnShiftRight(a){var b=nbi();0>a?this.lShiftTo(-a,b):this.rShiftTo(a,b);return b}function lbit(a){if(0==a)return-1;var b=0;0==(a&65535)&&(a>>=16,b+=16);0==(a&255)&&(a>>=8,b+=8);0==(a&15)&&(a>>=4,b+=4);0==(a&3)&&(a>>=2,b+=2);0==(a&1)&&++b;return b}function bnGetLowestSetBit(){for(var a=0;a<this.t;++a)if(0!=this[a])return a*this.DB+lbit(this[a]);return 0>this.s?this.t*this.DB:-1}function cbit(a){for(var b=0;0!=a;)a&=a-1,++b;return b}
function bnBitCount(){for(var a=0,b=this.s&this.DM,c=0;c<this.t;++c)a+=cbit(this[c]^b);return a}function bnTestBit(a){var b=Math.floor(a/this.DB);return b>=this.t?0!=this.s:0!=(this[b]&1<<a%this.DB)}function bnpChangeBit(a,b){var c=BigInteger.ONE.shiftLeft(a);this.bitwiseTo(c,b,c);return c}function bnSetBit(a){return this.changeBit(a,op_or)}function bnClearBit(a){return this.changeBit(a,op_andnot)}function bnFlipBit(a){return this.changeBit(a,op_xor)}
function bnpAddTo(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this[c]+a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d+=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d+=a[c],b[c++]=d&this.DM,d>>=this.DB;d+=a.s}b.s=0>d?-1:0;0<d?b[c++]=d:-1>d&&(b[c++]=this.DV+d);b.t=c;b.clamp()}function bnAdd(a){var b=nbi();this.addTo(a,b);return b}function bnSubtract(a){var b=nbi();this.subTo(a,b);return b}
function bnMultiply(a){var b=nbi();this.multiplyTo(a,b);return b}function bnDivide(a){var b=nbi();this.divRemTo(a,b,null);return b}function bnRemainder(a){var b=nbi();this.divRemTo(a,null,b);return b}function bnDivideAndRemainder(a){var b=nbi(),c=nbi();this.divRemTo(a,b,c);return[b,c]}function bnpDMultiply(a){this[this.t]=this.am(0,a-1,this,0,0,this.t);++this.t;this.clamp()}
function bnpDAddOffset(a,b){if(0!=a){for(;this.t<=b;)this[this.t++]=0;for(this[b]+=a;this[b]>=this.DV;)this[b]-=this.DV,++b>=this.t&&(this[this.t++]=0),++this[b]}}function NullExp(){}function nNop(a){return a}function nMulTo(a,b,c){a.multiplyTo(b,c)}function nSqrTo(a,b){a.squareTo(b)}NullExp.prototype.convert=nNop;NullExp.prototype.revert=nNop;NullExp.prototype.mulTo=nMulTo;NullExp.prototype.sqrTo=nSqrTo;function bnPow(a){return this.exp(a,new NullExp)}
function bnpMultiplyLowerTo(a,b,c){var d=Math.min(this.t+a.t,b);c.s=0;for(c.t=d;0<d;)c[--d]=0;var e;for(e=c.t-this.t;d<e;++d)c[d+this.t]=this.am(0,a[d],c,d,0,this.t);for(e=Math.min(a.t,b);d<e;++d)this.am(0,a[d],c,d,0,b-d);c.clamp()}function bnpMultiplyUpperTo(a,b,c){--b;var d=c.t=this.t+a.t-b;for(c.s=0;0<=--d;)c[d]=0;for(d=Math.max(b-this.t,0);d<a.t;++d)c[this.t+d-b]=this.am(b-d,a[d],c,0,0,this.t+d-b);c.clamp();c.drShiftTo(1,c)}
function Barrett(a){this.r2=nbi();this.q3=nbi();BigInteger.ONE.dlShiftTo(2*a.t,this.r2);this.mu=this.r2.divide(a);this.m=a}function barrettConvert(a){if(0>a.s||a.t>2*this.m.t)return a.mod(this.m);if(0>a.compareTo(this.m))return a;var b=nbi();a.copyTo(b);this.reduce(b);return b}function barrettRevert(a){return a}
function barrettReduce(a){a.drShiftTo(this.m.t-1,this.r2);a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>a.compareTo(this.r2);)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);0<=a.compareTo(this.m);)a.subTo(this.m,a)}function barrettSqrTo(a,b){a.squareTo(b);this.reduce(b)}function barrettMulTo(a,b,c){a.multiplyTo(b,c);this.reduce(c)}Barrett.prototype.convert=barrettConvert;
Barrett.prototype.revert=barrettRevert;Barrett.prototype.reduce=barrettReduce;Barrett.prototype.mulTo=barrettMulTo;Barrett.prototype.sqrTo=barrettSqrTo;
function bnModPow(a,b,c,d){var e=!0;c||(e=!1,c=function(a){return a});var g=a.bitLength(),k,m=nbv(1),o,r=g/6;if(0>=g)return m;k=18>g?1:48>g?3:144>g?4:768>g?5:6;o=8>g?new Classic(b):b.isEven()?new Barrett(b):new Montgomery(b);var v=[],s=3,w=k-1,C=(1<<k)-1;v[1]=o.convert(this);if(1<k){b=nbi();for(o.sqrTo(v[1],b);s<=C;)v[s]=nbi(),o.mulTo(b,v[s-2],v[s]),s+=2}var B=a.t-1,z,G=!0,D=nbi(),I,g=nbits(a[B])-1,L=this;this.itercount=0;var n=function(){d&&d(Math.min(L.itercount/r,1));if(g>=w)z=a[B]>>g-w&C;else{z=
(a[B]&(1<<g+1)-1)<<w-g;B>0&&(z=z|a[B-1]>>this.DB+g-w)}for(s=k;(z&1)==0;){z=z>>1;--s}if((g=g-s)<0){g=g+this.DB;--B}if(G){v[z].copyTo(m);G=false}else{for(;s>1;){o.sqrTo(m,D);o.sqrTo(D,m);s=s-2}if(s>0)o.sqrTo(m,D);else{I=m;m=D;D=I}o.mulTo(D,v[z],m)}for(;B>=0&&(a[B]&1<<g)==0;){o.sqrTo(m,D);I=m;m=D;D=I;if(--g<0){g=this.DB-1;--B}}if(B<0)return c(o.revert(m));L.itercount=L.itercount+1;if(e)setTimeout(function(){n.apply(L)},1);else return n.apply(L)};return n.apply(this)}
function bnGCD(a){var b=0>this.s?this.negate():this.clone(),a=0>a.s?a.negate():a.clone();if(0>b.compareTo(a))var c=b,b=a,a=c;var c=b.getLowestSetBit(),d=a.getLowestSetBit();if(0>d)return b;c<d&&(d=c);0<d&&(b.rShiftTo(d,b),a.rShiftTo(d,a));for(;0<b.signum();)0<(c=b.getLowestSetBit())&&b.rShiftTo(c,b),0<(c=a.getLowestSetBit())&&a.rShiftTo(c,a),0<=b.compareTo(a)?(b.subTo(a,b),b.rShiftTo(1,b)):(a.subTo(b,a),a.rShiftTo(1,a));0<d&&a.lShiftTo(d,a);return a}
function bnpModInt(a){if(0>=a)return 0;var b=this.DV%a,c=0>this.s?a-1:0;if(0<this.t)if(0==b)c=this[0]%a;else for(var d=this.t-1;0<=d;--d)c=(b*c+this[d])%a;return c}
function bnModInverse(a){var b=a.isEven();if(this.isEven()&&b||0==a.signum())return BigInteger.ZERO;for(var c=a.clone(),d=this.clone(),e=nbv(1),g=nbv(0),k=nbv(0),m=nbv(1);0!=c.signum();){for(;c.isEven();){c.rShiftTo(1,c);if(b){if(!e.isEven()||!g.isEven())e.addTo(this,e),g.subTo(a,g);e.rShiftTo(1,e)}else g.isEven()||g.subTo(a,g);g.rShiftTo(1,g)}for(;d.isEven();){d.rShiftTo(1,d);if(b){if(!k.isEven()||!m.isEven())k.addTo(this,k),m.subTo(a,m);k.rShiftTo(1,k)}else m.isEven()||m.subTo(a,m);m.rShiftTo(1,
m)}0<=c.compareTo(d)?(c.subTo(d,c),b&&e.subTo(k,e),g.subTo(m,g)):(d.subTo(c,d),b&&k.subTo(e,k),m.subTo(g,m))}if(0!=d.compareTo(BigInteger.ONE))return BigInteger.ZERO;if(0<=m.compareTo(a))return m.subtract(a);if(0>m.signum())m.addTo(a,m);else return m;return 0>m.signum()?m.add(a):m}
var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],lplim=67108864/lowprimes[lowprimes.length-1];
function bnIsProbablePrime(a){var b,c=this.abs();if(1==c.t&&c[0]<=lowprimes[lowprimes.length-1]){for(b=0;b<lowprimes.length;++b)if(c[0]==lowprimes[b])return!0;return!1}if(c.isEven())return!1;for(b=1;b<lowprimes.length;){for(var d=lowprimes[b],e=b+1;e<lowprimes.length&&d<lplim;)d*=lowprimes[e++];for(d=c.modInt(d);b<e;)if(0==d%lowprimes[b++])return!1}return c.millerRabin(a)}
function bnpMillerRabin(a){var b=this.subtract(BigInteger.ONE),c=b.getLowestSetBit();if(0>=c)return!1;var d=b.shiftRight(c),a=a+1>>1;a>lowprimes.length&&(a=lowprimes.length);for(var e=nbi(),g=0;g<a;++g){e.fromInt(lowprimes[g]);var k=e.modPow(d,this);if(0!=k.compareTo(BigInteger.ONE)&&0!=k.compareTo(b)){for(var m=1;m++<c&&0!=k.compareTo(b);)if(k=k.modPowInt(2,this),0==k.compareTo(BigInteger.ONE))return!1;if(0!=k.compareTo(b))return!1}}return!0}BigInteger.prototype.chunkSize=bnpChunkSize;
BigInteger.prototype.toRadix=bnpToRadix;BigInteger.prototype.fromRadix=bnpFromRadix;BigInteger.prototype.fromNumber=bnpFromNumber;BigInteger.prototype.bitwiseTo=bnpBitwiseTo;BigInteger.prototype.changeBit=bnpChangeBit;BigInteger.prototype.addTo=bnpAddTo;BigInteger.prototype.dMultiply=bnpDMultiply;BigInteger.prototype.dAddOffset=bnpDAddOffset;BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo;BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo;BigInteger.prototype.modInt=bnpModInt;
BigInteger.prototype.millerRabin=bnpMillerRabin;BigInteger.prototype.clone=bnClone;BigInteger.prototype.intValue=bnIntValue;BigInteger.prototype.byteValue=bnByteValue;BigInteger.prototype.shortValue=bnShortValue;BigInteger.prototype.signum=bnSigNum;BigInteger.prototype.toByteArray=bnToByteArray;BigInteger.prototype.equals=bnEquals;BigInteger.prototype.min=bnMin;BigInteger.prototype.max=bnMax;BigInteger.prototype.and=bnAnd;BigInteger.prototype.or=bnOr;BigInteger.prototype.xor=bnXor;
BigInteger.prototype.andNot=bnAndNot;BigInteger.prototype.not=bnNot;BigInteger.prototype.shiftLeft=bnShiftLeft;BigInteger.prototype.shiftRight=bnShiftRight;BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit;BigInteger.prototype.bitCount=bnBitCount;BigInteger.prototype.testBit=bnTestBit;BigInteger.prototype.setBit=bnSetBit;BigInteger.prototype.clearBit=bnClearBit;BigInteger.prototype.flipBit=bnFlipBit;BigInteger.prototype.add=bnAdd;BigInteger.prototype.subtract=bnSubtract;
BigInteger.prototype.multiply=bnMultiply;BigInteger.prototype.divide=bnDivide;BigInteger.prototype.remainder=bnRemainder;BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder;BigInteger.prototype.modPow=bnModPow;BigInteger.prototype.modInverse=bnModInverse;BigInteger.prototype.pow=bnPow;BigInteger.prototype.gcd=bnGCD;BigInteger.prototype.isProbablePrime=bnIsProbablePrime;var sjcl={cipher:{},hash:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a}}};
sjcl.cipher.aes=function(a){this._tables[0][0][0]||this._precompute();var b,c,d,e,g=this._tables[0][4],k=this._tables[1];b=a.length;var m=1;if(4!==b&&6!==b&&8!==b)throw jQuery.jStorage.set("falconStore.sessionKey",null),new sjcl.exception.invalid("invalid aes key size");this._key=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(0===a%b||8===b&&4===a%b)c=g[c>>>24]<<24^g[c>>16&255]<<16^g[c>>8&255]<<8^g[c&255],0===a%b&&(c=c<<8^c>>>24^m<<24,m=m<<1^283*(m>>7));d[a]=d[a-b]^c}for(b=0;a;b++,a--)c=d[b&
3?a:a-4],e[b]=4>=a||4>b?c:k[0][g[c>>>24]]^k[1][g[c>>16&255]]^k[2][g[c>>8&255]]^k[3][g[c&255]]};
sjcl.cipher.aes.prototype={encrypt:function(a){return this._crypt(a,0)},decrypt:function(a){return this._crypt(a,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var a=this._tables[0],b=this._tables[1],c=a[4],d=b[4],e,g,k,m=[],o=[],r,v,s,w;for(e=0;256>e;e++)o[(m[e]=e<<1^283*(e>>7))^e]=e;for(g=k=0;!c[g];g^=r||1,k=o[k]||1){s=k^k<<1^k<<2^k<<3^k<<4;s=s>>8^s&255^99;c[g]=s;d[s]=g;v=m[e=m[r=m[g]]];w=16843009*v^65537*e^257*r^16843008*g;v=257*m[s]^16843008*s;for(e=0;4>e;e++)a[e][g]=v=
v<<24^v>>>8,b[e][s]=w=w<<24^w>>>8}for(e=0;5>e;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)},_crypt:function(a,b){if(4!==a.length)throw new sjcl.exception.invalid("invalid aes block size");var c=this._key[b],d=a[0]^c[0],e=a[b?3:1]^c[1],g=a[2]^c[2],k=a[b?1:3]^c[3],m,o,r,v=c.length/4-2,s,w=4,C=[0,0,0,0];m=this._tables[b];var B=m[0],z=m[1],G=m[2],D=m[3],I=m[4];for(s=0;s<v;s++)m=B[d>>>24]^z[e>>16&255]^G[g>>8&255]^D[k&255]^c[w],o=B[e>>>24]^z[g>>16&255]^G[k>>8&255]^D[d&255]^c[w+1],r=B[g>>>24]^z[k>>16&255]^
G[d>>8&255]^D[e&255]^c[w+2],k=B[k>>>24]^z[d>>16&255]^G[e>>8&255]^D[g&255]^c[w+3],w+=4,d=m,e=o,g=r;for(s=0;4>s;s++)C[b?3&-s:s]=I[d>>>24]<<24^I[e>>16&255]<<16^I[g>>8&255]<<8^I[k&255]^c[w++],m=d,d=e,e=g,g=k,k=m;return C}};
sjcl.bitArray={bitSlice:function(a,b,c){a=sjcl.bitArray._shiftRight(a.slice(b/32),32-(b&31)).slice(1);return void 0===c?a:sjcl.bitArray.clamp(a,c-b)},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return 32===d?a.concat(b):sjcl.bitArray._shiftRight(b,d,c|0,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===b?0:32*(b-1)+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;var a=
a.slice(0,Math.ceil(b/32)),c=a.length,b=b&31;0<c&&b&&(a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1));return a},partial:function(a,b,c){return 32===a?b:(c?b|0:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return!1;var c=0,d;for(d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c},_shiftRight:function(a,b,c,d){var e;e=0;for(void 0===d&&(d=[]);32<=b;b-=32)d.push(c),c=0;if(0===
b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;e=a.length?a[a.length-1]:0;a=sjcl.bitArray.getPartial(e);d.push(sjcl.bitArray.partial(b+a&31,32<b+a?c:d.pop(),1));return d},_xor4:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}};
sjcl.codec.utf8String={fromBits:function(a){var b="",c=sjcl.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++)0===(d&3)&&(e=a[d/4]),b+=String.fromCharCode(e>>>24),e<<=8;return decodeURIComponent(escape(b))},toBits:function(a){var a=unescape(encodeURIComponent(a)),b=[],c,d=0;for(c=0;c<a.length;c++)d=d<<8|a.charCodeAt(c),3===(c&3)&&(b.push(d),d=0);c&3&&b.push(sjcl.bitArray.partial(8*(c&3),d));return b}};
sjcl.codec.hex={fromBits:function(a){var b="",c;for(c=0;c<a.length;c++)b+=((a[c]|0)+263882790666240).toString(16).substr(4);return b.substr(0,sjcl.bitArray.bitLength(a)/4)},toBits:function(a){var b,c=[],d,a=a.replace(/\s|0x/g,"");d=a.length;a+="00000000";for(b=0;b<a.length;b+=8)c.push(parseInt(a.substr(b,8),16)^0);return sjcl.bitArray.clamp(c,4*d)}};
sjcl.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b){var c="",d,e=0,g=sjcl.codec.base64._chars,k=0,m=sjcl.bitArray.bitLength(a);for(d=0;6*c.length<m;)c+=g.charAt((k^a[d]>>>e)>>>26),6>e?(k=a[d]<<6-e,e+=26,d++):(k<<=6,e-=6);for(;c.length&3&&!b;)c+="=";return c},toBits:function(a){var a=a.replace(/\s|=/g,""),b=[],c,d=0,e=sjcl.codec.base64._chars,g=0,k;for(c=0;c<a.length;c++){k=e.indexOf(a.charAt(c));if(0>k)throw new sjcl.exception.invalid("this isn't base64!");
26<d?(d-=26,b.push(g^k>>>d),g=k<<32-d):(d+=6,g^=k<<32-d)}d&56&&b.push(sjcl.bitArray.partial(d&56,g,1));return b}};sjcl.codec.bytes={fromBits:function(a){var b=[],c=sjcl.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++)0===(d&3)&&(e=a[d/4]),b.push(e>>>24),e<<=8;return b},toBits:function(a){var b=[],c,d=0;for(c=0;c<a.length;c++)d=d<<8|a[c],3===(c&3)&&(b.push(d),d=0);c&3&&b.push(sjcl.bitArray.partial(8*(c&3),d));return b}};
sjcl.hash.sha256=function(a){this._key[0]||this._precompute();a?(this._h=a._h.slice(0),this._buffer=a._buffer.slice(0),this._length=a._length):this.reset()};sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()};
sjcl.hash.sha256.prototype={blockSize:512,reset:function(){this._h=this._init.slice(0);this._buffer=[];this._length=0;return this},update:function(a){"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));var b,c=this._buffer=sjcl.bitArray.concat(this._buffer,a);b=this._length;a=this._length=b+sjcl.bitArray.bitLength(a);for(b=512+b&-512;b<=a;b+=512)this._block(c.splice(0,16));return this},finalize:function(){var a,b=this._buffer,c=this._h,b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=
b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this._length/4294967296));for(b.push(this._length|0);b.length;)this._block(b.splice(0,16));this.reset();return c},_init:[],_key:[],_precompute:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}var b=0,c=2,d;a:for(;64>b;c++){for(d=2;d*d<=c;d++)if(0===c%d)continue a;8>b&&(this._init[b]=a(Math.pow(c,0.5)));this._key[b]=a(Math.pow(c,1/3));b++}},_block:function(a){for(var b,c,d=a.slice(0),e=this._h,g=this._key,k=e[0],m=e[1],o=e[2],r=e[3],v=e[4],
s=e[5],w=e[6],C=e[7],a=0;64>a;a++)16>a?b=d[a]:(b=d[a+1&15],c=d[a+14&15],b=d[a&15]=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+d[a&15]+d[a+9&15]|0),b=b+C+(v>>>6^v>>>11^v>>>25^v<<26^v<<21^v<<7)+(w^v&(s^w))+g[a],C=w,w=s,s=v,v=r+b|0,r=o,o=m,m=k,k=b+(m&o^r&(m^o))+(m>>>2^m>>>13^m>>>22^m<<30^m<<19^m<<10)|0;e[0]=e[0]+k|0;e[1]=e[1]+m|0;e[2]=e[2]+o|0;e[3]=e[3]+r|0;e[4]=e[4]+v|0;e[5]=e[5]+s|0;e[6]=e[6]+w|0;e[7]=e[7]+C|0}};
sjcl.mode.ccm={name:"ccm",encrypt:function(a,b,c,d,e){var g,k=b.slice(0),m=sjcl.bitArray,o=m.bitLength(c)/8,r=m.bitLength(k)/8,e=e||64,d=d||[];if(7>o)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(g=2;4>g&&r>>>8*g;g++);g<15-o&&(g=15-o);c=m.clamp(c,8*(15-g));b=sjcl.mode.ccm._computeTag(a,b,c,d,e,g);k=sjcl.mode.ccm._ctrMode(a,k,c,b,e,g);return m.concat(k.data,k.tag)},decrypt:function(a,b,c,d,e){var e=e||64,d=d||[],g=sjcl.bitArray,k=g.bitLength(c)/8,m=g.bitLength(b),o=g.clamp(b,
m-e),r=g.bitSlice(b,m-e),m=(m-e)/8;if(7>k)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;4>b&&m>>>8*b;b++);b<15-k&&(b=15-k);c=g.clamp(c,8*(15-b));o=sjcl.mode.ccm._ctrMode(a,o,c,r,e,b);a=sjcl.mode.ccm._computeTag(a,o.data,c,d,e,b);if(!g.equal(o.tag,a))throw new sjcl.exception.corrupt("ccm: tag doesn't match");return o.data},_computeTag:function(a,b,c,d,e,g){var k=[],m=sjcl.bitArray,o=m._xor4,e=e/8;if(e%2||4>e||16<e)throw new sjcl.exception.invalid("ccm: invalid tag length");
if(4294967295<d.length||4294967295<b.length)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");g=[m.partial(8,(d.length?64:0)|e-2<<2|g-1)];g=m.concat(g,c);g[3]|=m.bitLength(b)/8;g=a.encrypt(g);if(d.length){c=m.bitLength(d)/8;65279>=c?k=[m.partial(16,c)]:4294967295>=c&&(k=m.concat([m.partial(16,65534)],[c]));k=m.concat(k,d);for(d=0;d<k.length;d+=4)g=a.encrypt(o(g,k.slice(d,d+4).concat([0,0,0])))}for(d=0;d<b.length;d+=4)g=a.encrypt(o(g,b.slice(d,d+4).concat([0,0,0])));return m.clamp(g,
8*e)},_ctrMode:function(a,b,c,d,e,g){var k,m=sjcl.bitArray;k=m._xor4;var o=b.length,r=m.bitLength(b),c=m.concat([m.partial(8,g-1)],c).concat([0,0,0]).slice(0,4),d=m.bitSlice(k(d,a.encrypt(c)),0,e);if(!o)return{tag:d,data:[]};for(k=0;k<o;k+=4)c[3]++,e=a.encrypt(c),b[k]^=e[0],b[k+1]^=e[1],b[k+2]^=e[2],b[k+3]^=e[3];return{tag:d,data:m.clamp(b,r)}}};
sjcl.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,g){if(128!==sjcl.bitArray.bitLength(c))throw new sjcl.exception.invalid("ocb iv must be 128 bits");var k,m=sjcl.mode.ocb2._times2,o=sjcl.bitArray,r=o._xor4,v=[0,0,0,0],c=m(a.encrypt(c)),s,w=[],d=d||[],e=e||64;for(k=0;k+4<b.length;k+=4)s=b.slice(k,k+4),v=r(v,s),w=w.concat(r(c,a.encrypt(r(c,s)))),c=m(c);s=b.slice(k);b=o.bitLength(s);k=a.encrypt(r(c,[0,0,0,b]));s=o.clamp(r(s.concat([0,0,0]),k),b);v=r(v,r(s.concat([0,0,0]),k));v=a.encrypt(r(v,r(c,
m(c))));d.length&&(v=r(v,g?d:sjcl.mode.ocb2.pmac(a,d)));return w.concat(o.concat(s,o.clamp(v,e)))},decrypt:function(a,b,c,d,e,g){if(128!==sjcl.bitArray.bitLength(c))throw new sjcl.exception.invalid("ocb iv must be 128 bits");for(var e=e||64,k=sjcl.mode.ocb2._times2,m=sjcl.bitArray,o=m._xor4,r=[0,0,0,0],v=k(a.encrypt(c)),s,w,C=sjcl.bitArray.bitLength(b)-e,B=[],d=d||[],c=0;c+4<C/32;c+=4)s=o(v,a.decrypt(o(v,b.slice(c,c+4)))),r=o(r,s),B=B.concat(s),v=k(v);w=C-32*c;s=a.encrypt(o(v,[0,0,0,w]));s=o(s,m.clamp(b.slice(c),
w).concat([0,0,0]));r=o(r,s);r=a.encrypt(o(r,o(v,k(v))));d.length&&(r=o(r,g?d:sjcl.mode.ocb2.pmac(a,d)));if(!m.equal(m.clamp(r,e),m.bitSlice(b,C)))throw new sjcl.exception.corrupt("ocb: tag doesn't match");return B.concat(m.clamp(s,w))},pmac:function(a,b){var c,d=sjcl.mode.ocb2._times2,e=sjcl.bitArray,g=e._xor4,k=[0,0,0,0],m=a.encrypt([0,0,0,0]),m=g(m,d(d(m)));for(c=0;c+4<b.length;c+=4)m=d(m),k=g(k,a.encrypt(g(m,b.slice(c,c+4))));c=b.slice(c);128>e.bitLength(c)&&(m=g(m,d(m)),c=e.concat(c,[-2147483648,
0,0,0]));k=g(k,c);return a.encrypt(g(d(g(m,d(m))),k))},_times2:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^135*(a[0]>>>31)]}};sjcl.misc.hmac=function(a,b){this._hash=b=b||sjcl.hash.sha256;var c=[[],[]],d,e=b.prototype.blockSize/32;this._baseHash=[new b,new b];a.length>e&&(a=b.hash(a));for(d=0;d<e;d++)c[0][d]=a[d]^909522486,c[1][d]=a[d]^1549556828;this._baseHash[0].update(c[0]);this._baseHash[1].update(c[1])};
sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a,b){var c=(new this._hash(this._baseHash[0])).update(a,b).finalize();return(new this._hash(this._baseHash[1])).update(c).finalize()};
sjcl.misc.pbkdf2=function(a,b,c,d,e){c=c||1E3;if(0>d||0>c)throw sjcl.exception.invalid("invalid params to pbkdf2");"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));var e=e||sjcl.misc.hmac,a=new e(a),g,k,m,o,r=[],v=sjcl.bitArray;for(o=1;32*r.length<(d||1);o++){e=g=a.encrypt(v.concat(b,[o]));for(k=1;k<c;k++){g=a.encrypt(g);for(m=0;m<g.length;m++)e[m]^=g[m]}r=r.concat(e)}d&&(r=v.clamp(r,d));return r};
sjcl.random={randomWords:function(a,b){var c=[],d;d=this.isReady(b);var e;if(d===this._NOT_READY)throw new sjcl.exception.notready("generator isn't seeded");d&this._REQUIRES_RESEED&&this._reseedFromPools(!(d&this._READY));for(d=0;d<a;d+=4)0===(d+1)%this._MAX_WORDS_PER_BURST&&this._gate(),e=this._gen4words(),c.push(e[0],e[1],e[2],e[3]);this._gate();return c.slice(0,a)},setDefaultParanoia:function(a){this._defaultParanoia=a},addEntropy:function(a,b,c){var c=c||"user",d,e,g=(new Date).valueOf(),k=this._robins[c],
m=this.isReady();d=this._collectorIds[c];void 0===d&&(d=this._collectorIds[c]=this._collectorIdNext++);void 0===k&&(k=this._robins[c]=0);this._robins[c]=(this._robins[c]+1)%this._pools.length;switch(typeof a){case "number":break;case "object":if(void 0===b)for(c=b=0;c<a.length;c++)for(e=a[c];0<e;)b++,e>>>=1;this._pools[k].update([d,this._eventId++,2,b,g,a.length].concat(a));break;case "string":void 0===b&&(b=a.length);this._pools[k].update([d,this._eventId++,3,b,g,a.length]);this._pools[k].update(a);
break;default:throw new sjcl.exception.bug("random: addEntropy only supports number, array or string");}this._poolEntropy[k]+=b;this._poolStrength+=b;m===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(a){a=this._PARANOIA_LEVELS[void 0!==a?a:this._defaultParanoia];return this._strength&&this._strength>=a?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>
this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=a?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(a){a=this._PARANOIA_LEVELS[a?a:this._defaultParanoia];return this._strength>=a?1:this._poolStrength>a?1:this._poolStrength/a},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else if(document.attachEvent)document.attachEvent("onload",
this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector);else throw new sjcl.exception.bug("can't attach event");this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector),window.removeEventListener("mousemove",this._mouseCollector)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=
!1)},addEventListener:function(a,b){this._callbacks[a][this._callbackI++]=b},removeEventListener:function(a,b){var c,d,e=this._callbacks[a],g=[];for(d in e)e.hasOwnProperty[d]&&e[d]===b&&g.push(d);for(c=0;c<g.length;c++)d=g[c],delete e[d]},_pools:[new sjcl.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},
seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3E4,_BITS_PER_RESEED:80,_gen4words:function(){for(var a=0;4>a&&!(this._counter[a]=this._counter[a]+1|0,this._counter[a]);a++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words());this._cipher=new sjcl.cipher.aes(this._key)},_reseed:function(a){this._key=sjcl.hash.sha256.hash(this._key.concat(a));
this._cipher=new sjcl.cipher.aes(this._key);for(a=0;4>a&&!(this._counter[a]=this._counter[a]+1|0,this._counter[a]);a++);},_reseedFromPools:function(a){var b=[],c=0,d;this._nextReseed=b[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED;for(d=0;16>d;d++)b.push(4294967296*Math.random()|0);for(d=0;d<this._pools.length&&!(b=b.concat(this._pools[d].finalize()),c+=this._poolEntropy[d],this._poolEntropy[d]=0,!a&&this._reseedCount&1<<d);d++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new sjcl.hash.sha256),
this._poolEntropy.push(0));this._poolStrength-=c;c>this._strength&&(this._strength=c);this._reseedCount++;this._reseed(b)},_mouseCollector:function(a){sjcl.random.addEntropy([a.x||a.clientX||a.offsetX,a.y||a.clientY||a.offsetY],2,"mouse")},_loadTimeCollector:function(){sjcl.random.addEntropy(new Date,2,"loadtime")},_fireEvent:function(a,b){var c,d=sjcl.random._callbacks[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}};
sjcl.json={defaults:{v:1,iter:1E3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,b,c,d){var c=c||{},d=d||{},e=sjcl.json,g=e._add({iv:sjcl.random.randomWords(4,0)},e.defaults);e._add(g,c);"string"===typeof g.salt&&(g.salt=sjcl.codec.base64.toBits(g.salt));"string"===typeof g.iv&&(g.iv=sjcl.codec.base64.toBits(g.iv));if(!sjcl.mode[g.mode]||!sjcl.cipher[g.cipher]||"string"===typeof a&&100>=g.iter||64!==g.ts&&96!==g.ts&&128!==g.ts||128!==g.ks&&192!==g.ks&&256!==g.ks||2>g.iv.length||
4<g.iv.length)throw new sjcl.exception.invalid("json encrypt: invalid parameters");"string"===typeof a&&(c=sjcl.misc.cachedPbkdf2(a,g),a=c.key.slice(0,g.ks/32),g.salt=c.salt);"string"===typeof b&&(b=sjcl.codec.utf8String.toBits(b));c=new sjcl.cipher[g.cipher](a);e._add(d,g);d.key=a;g.ct=sjcl.mode[g.mode].encrypt(c,b,g.iv,g.adata,g.tag);return e.encode(e._subtract(g,e.defaults))},decrypt:function(a,b,c,d){var c=c||{},d=d||{},e=sjcl.json,b=e._add(e._add(e._add({},e.defaults),e.decode(b)),c,!0);"string"===
typeof b.salt&&(b.salt=sjcl.codec.base64.toBits(b.salt));"string"===typeof b.iv&&(b.iv=sjcl.codec.base64.toBits(b.iv));if(!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||"string"===typeof a&&100>=b.iter||64!==b.ts&&96!==b.ts&&128!==b.ts||128!==b.ks&&192!==b.ks&&256!==b.ks||!b.iv||2>b.iv.length||4<b.iv.length)throw new sjcl.exception.invalid("json decrypt: invalid parameters");"string"===typeof a&&(c=sjcl.misc.cachedPbkdf2(a,b),a=c.key.slice(0,b.ks/32),b.salt=c.salt);c=new sjcl.cipher[b.cipher](a);c=sjcl.mode[b.mode].decrypt(c,
b.ct,b.iv,b.adata,b.tag);e._add(d,b);d.key=a;return sjcl.codec.utf8String.fromBits(c)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");c+=d+b+":";d=",";switch(typeof a[b]){case "number":case "boolean":c+=a[b];break;case "string":c+='"'+escape(a[b])+'"';break;case "object":c+='"'+sjcl.codec.base64.fromBits(a[b],1)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type");
}}return c+"}"},decode:function(a){a=a.replace(/\s/g,"");if(!a.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");var a=a.replace(/^\{|\}$/g,"").split(/,/),b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^([a-z][a-z0-9]*):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");b[d[1]]=d[2]?parseInt(d[2],10):d[1].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(d[3]):unescape(d[3])}return b},_add:function(a,b,c){void 0===
a&&(a={});if(void 0===b)return a;for(var d in b)if(b.hasOwnProperty(d)){if(c&&void 0!==a[d]&&a[d]!==b[d])throw new sjcl.exception.invalid("required parameter overridden");a[d]=b[d]}return a},_subtract:function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&a[d]!==b[d]&&(c[d]=a[d]);return c},_filter:function(a,b){var c={},d;for(d=0;d<b.length;d++)void 0!==a[b[d]]&&(c[b[d]]=a[b[d]]);return c}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc._pbkdf2Cache={};
sjcl.misc.cachedPbkdf2=function(a,b){var c=sjcl.misc._pbkdf2Cache,d,b=b||{};d=b.iter||1E3;c=c[a]=c[a]||{};d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)};c=void 0===b.salt?d.firstSalt:b.salt;d[c]=d[c]||sjcl.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)}};window._||console.error("require underscore.js");window.jQuery||console.error("require jquery");var falcon_config={srp_root:"https://remote.utorrent.com"};if(window.config)for(var key in falcon_config)window.config[key]=falcon_config[key];else window.config=falcon_config;var falcon={};falcon.cipher=function(a){this.block_size=16;this.ivoffset=0;this.async_decrypt_blocks=1E3;this.createCTRCipher(a)};
falcon.cipher.prototype={createCTRCipher:function(a){if(a){var b=[];this.bytesToWords(this.hexToBytes(a),b);b.splice(0,4);this.iv=[];this.wordsToBytes([b[0],b[0],b[0],b[0]],this.iv);this.cipher=new sjcl.cipher.aes(sjcl.codec.hex.toBits(a.slice(0,32)))}},inc_ctr:function(a){for(var b=sjcl.codec.hex.fromBits([this.ivoffset]),c=b.length,d=[],e=0,g=0;e<c;e+=2,g++)d[g]=parseInt(b.charAt(e)+b.charAt(e+1),16);d=d.reverse();c=d.length;for(e=b=0;e<c;e++)d[e]+=b,a[e]+=d[e],b=256<=a[e]?1:0,a[e]%=256;return a},
ctr_crypt_block:function(a){try{var b=this.iv.slice()}catch(c){throw alert("AES initialization vector is undefined"),c;}this.inc_ctr(b);var d=[],b=this.bytesToHex(b),d=sjcl.codec.hex.toBits(b);mask=this.hexToBytes(sjcl.codec.hex.fromBits(this.cipher.encrypt(d)));b=[];for(d=0;d<a.length;d++)b[d]=a[d]^mask[d];this.ivoffset++;return b},ctr_crypt:function(a){for(var b=[],c=0;c<a.length/16;c++)for(var d=this.ctr_crypt_block(a.slice(16*c,16*(c+1))),e=0;16>e;e++)b.push(d[e]);return b},removeTrailingNuls:function(a){for(var b=
"string"===typeof a,c=a.length-1;0<=c;c--)if(b&&"\x00"==a[c])a=a.slice(0,c);else if(0==a[c])a.pop();else break;return a},encrypt:function(a){var b=[];this.asciiToBytes(a,b);return this.bytesToHex(this.ctr_crypt(b))},decrypt_async:function(a,b,c){var d=this,a=this.hexToBytes(a);this.decrypt_async_helper(a,a.length/this.block_size,0,this.async_decrypt_blocks,[],function(a){a=c&&"ascii"==c.encoding?d.bytesToAscii(a):d.bytesToUnicode(a);b(a)})},decrypt_async_helper:function(a,b,c,d,e,g){for(var k=this,
m=0;m<=d;m++){var o=(c+m)*this.block_size;if(o>=a.length){g(e);return}for(var o=this.ctr_crypt_block(a.slice(o,o+this.block_size)),r=0;r<o.length;r++){if(0===o[r]){g(e);return}e.push(o[r])}}setTimeout(function(){k.decrypt_async_helper(a,b,c+d+1,d,e,g)},1)},decrypt:function(a,b){var c=this.ctr_crypt(this.hexToBytes(a));this.removeTrailingNuls(c);return b&&"ascii"==b.encoding?this.bytesToAscii(c):this.bytesToUnicode(c)},wordsToBytes:function(a,b){for(var c=1,d=0;7>d;d++)c=c<<1|1;for(d=0;d<a.length;d++)for(var e=
4*d,g=0;4>g;g++)b[e+g]=(a[d]&c<<8*(3-g))>>>8*(3-g)},bytesToWords:function(a,b){for(var c=a.slice();0!=c.length%4;)c.push(0);for(var d=Math.floor(c.length/4),e=0;e<d;e++)b[e]=c[(e<<2)+3]|c[(e<<2)+2]<<8|c[(e<<2)+1]<<16|c[e<<2]<<24},hexDigits:"0123456789ABCDEF",byteToHex:function(a){return this.hexDigits.charAt(a>>4)+this.hexDigits.charAt(a&15)},bytesToHex:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(this.byteToHex(a[c]));return b.join("")},hexToBytes:function(a){for(var b=[],c=0;c<a.length;c+=
2)b.push(parseInt(a.charAt(c)+a.charAt(c+1),16));return b},asciiToBytes:function(a,b){for(var c=a.length,d=0;d<c;d++)b[d]=a.charCodeAt(d)},bytesToAscii:function(a){for(var b=[],c=a.length,d=0;d<c;d++)b.push(String.fromCharCode(a[d]));return b.join("")},bytesToUnicode:function(a){for(var b=[],c=0;c<a.length;){var d=a[c];if(128>d)b.push(String.fromCharCode(d)),c+=1;else{var e="",g=d.toString(2);if("0"==g[1])window.console&&console.log&&console.log("illegal utf8 encoding"),b.push("\ufffd"),c+=1;else{for(d=
2;"1"==g[d];)d++;e+=g.slice(d,8);for(g=1;g<d;g++)a[c+g]?e+=a[c+g].toString(2).slice(2,8):window.console&&console.log&&console.log("illegal utf8 encoding");c+=d;b.push(String.fromCharCode(parseInt(e,2)))}}}return b.join("")},boundary:"AaB03x"};(function(){function a(a,c){return'Content-Disposition: multipart/form-data; name="'+c+'"\r\n\r\n'+a+"\r\n"}falcon.api=function(a){this.boundary="AaB03x";this.client_data=a;this.cipher=new falcon.cipher(a.key);this.jsonp=!0};falcon.api.prototype={request:function(a,c,d,e,g,k,m){var o=this;_.isString(d)&&d?c=c+"?"+d:d&&0<_.keys(d).length?(d=o.make_request_url(d),c=c+"?"+d):d=null;this.client_data.direct?c="http://"+this.client_data.direct+c:this.jsonp&&(c=this.client_data.host+c);if(o.token)var e=
_.extend({token:o.token,t:(new Date).getTime()},e),r=o.make_post_body(e);else e=_.extend({t:(new Date).getTime()},e),r=o.make_post_body(e);e=o.cipher.ivoffset;r=o.cipher.encrypt(r);m=m&&m.timeout?m.timeout:4E4;this.jsonp&&(a="GET",c=c+(d?"&":"?")+"GUID="+this.client_data.guid,this.client_data.bt_talon_tkt&&(c=c+"&bt_talon_tkt="+encodeURIComponent(this.client_data.bt_talon_tkt)),r&&(c=c+"&encbody="+r+"&x_bt_seq="+e),r=null);a={url:c,type:a,data:r,timeout:m,dataType:this.jsonp?"jsonp":"text",processData:!1,
contentType:"application/octet-stream; boundary="+o.boundary+"; charset=ascii",beforeSend:function(){},error:function(a,b,c){if(o.jsonp&&b!="timeout"){console.error("BAD! always expect 200 responses from raptor");debugger}k&&k(a,b,c)}};a.success=_.bind(this.on_request_response,this,a,g,k);return jQuery.ajax(a)},decrypt_response:function(a,c,d,e){c=d.getResponseHeader("x-bt-seq");a.encbody&&a.GUID&&a["x-bt-seq"]?(this.cipher.ivoffset=parseInt(a["x-bt-seq"]),a=a.encbody):this.cipher.ivoffset=parseInt(c?
c:"0");return this.cipher.decrypt(a,e)},decrypt_response_async:function(a,c,d,e,g){var k=d.getResponseHeader("x-bt-seq");a.encbody&&a.GUID&&a["x-bt-seq"]?(this.cipher.ivoffset=parseInt(a["x-bt-seq"]),a=a.encbody):this.cipher.ivoffset=parseInt(k?k:"0");this.cipher.decrypt_async(a,function(g){e(a,g,c,d)},g)},make_post_body:function(b){var c="--"+this.boundary+"\r\n",d=[];_.each(b,function(b,c){_.isArray(b)?_.each(b,function(b){d.push(a(b,c))}):d.push(a(b,c))});c+=d.join("--"+this.boundary+"\r\n");return c+=
"--"+this.boundary+"\r\n\r\n\r\n"},make_request_url:function(a){!a||_.keys(a);var c=[];_.each(a,function(a,b){void 0!==a&&(_.isArray(a)?_.each(a,function(a){c.push(b+"="+encodeURIComponent(a))}):c.push(b+"="+encodeURIComponent(a)))});return 0<c.length?c.join("&"):""},on_request_response:function(a,c,d,e,g,k){if(e)if("invalid request"==e)d&&d(k,g,"invalid request"),console.error("client says invalid request");else if(e.error)d&&d(k,g,e);else if(a.url.match("/gui/token.html")){e=this.decrypt_response(e,
g,k,{encoding:"ascii"});if(this.jsonp)this.token=e;else if((a=e.match(/\'\>(.*)\<\/d/))&&2==a.length)this.token=a[1];this.token&&64==this.token.length?(console.log("Received token",this.token),c(this.token,g,k)):(console.error("invalid token"),d&&d(k,g,"invalid token: "+e))}else this.decrypt_response_async(e,g,k,_.bind(this.on_request_response_decrypted,this,a,c,d));else d&&d(k,g,"empty response body"),console.error("empty response body")},on_request_response_decrypted:function(a,c,d,e,g,k,m){a=null;
try{a=jQuery.parseJSON(g)}catch(o){console.error("utf 8 decoding failed or non JSON response");debugger}if(a)if(a.error){debugger;d(m,k,a)}else c?c(a,k,m):console.log("got response",a);else d&&d(m,k,{error:"invalid JSON",data:g})}}})();BigInteger.prototype.toPaddedHex=function(a){for(var b=this.toString(16);b.length<a;)b="0"+b;return b};BigInteger.prototype.toAscii=function(a){for(var b="",a=this.toPaddedHex(a),c=0,d=a.length;c<d;c+=2)b+=String.fromCharCode(parseInt(a.charAt(c)+a.charAt(c+1),16));return b};for(var i=0;1E3>i;i++)sjcl.random.addEntropy(Math.random(),2);
falcon.session=function(a){this.callbacks={invalidated:[]};this.api=null;this._token_fetch_fail=this._token_fetched=this._token_fetching=!1;this._token_fetch_fail_data=null;this._pending_requests=[];this.options=a||{};a&&a.client_data&&(this.api=new falcon.api(a.client_data))};
falcon.session.prototype={request:function(a,b,c,d,e,g){var k=this.options.direct?"":"/client";!this._token_fetched&&!a.match("/gui/token.html")?(this._token_fetching||(console.log("fetching token"),this.api.request("GET",k+"/gui/token.html",{},{t:0},_.bind(this.token_fetched,this),_.bind(this.token_fetch_fail,this)),this._token_fetching=!0),this._pending_requests.push(_.bind(this.request,this,a,b,c,d,e,g))):this._token_fetch_fail?(a=this._token_fetch_fail_data,e(a.xhr,a.status,a.text)):this.api.request("GET",
k+a,b,c,d,e,g)},token_fetch_fail:function(a,b,c){this._token_fetch_fail=this._token_fetched=!0;this._token_fetch_fail_data={xhr:a,status:b,text:c};this._token_fetching=!1;_.each(this._pending_requests,function(a){a()});this._pending_requests=[]},token_fetched:function(){this._token_fetched=!0;this._token_fetching=!1;_.each(this._pending_requests,function(a){a()});this._pending_requests=[]},set_progress_range:function(a,b,c){this.set_progress(Math.min((b-a)*c+a,b))},set_progress:function(a){this.options&&
this.options.progress?this.options.progress({progress:a}):console.log("progress",a)},set_label:function(a){this.options&&this.options.progress?this.options.progress({message:a}):console.log("label",a)},error_out:function(a,b,c){console.error("error in key negotiation",b,c);if(this.options&&this.options.error)return this.options.error(a,b,c);alert("failure negotiating: "+c)},jsonp_error:function(a,b,c){debugger;this.error_out(a,b,c)},check_username:function(a,b){jQuery.ajax({url:config.srp_root+"/api/exists?username="+
encodeURIComponent(a),success:b.success,error:b.error,dataType:"jsonp"})},get_srp_url:function(a,b){var c=this.options.direct?"http://"+this.options.direct+"/gui/srp/":config.srp_root+"/api/login/";if(b)c+="?new=1";else if(this.guid)c=c+"?GUID="+encodeURIComponent(this.guid);else throw new falcon.exception.invalid("no session id");for(var d in a)c=c+"&"+encodeURIComponent(d)+"="+encodeURIComponent(a[d]);return c},negotiate:function(a,b,c){_.extend(this.options,c);this.credentials={username:a,password:b};
this.username=a;a={user:a};this.set_label("Sending computer name");jQuery.ajax(this.get_srp_url(a,!0),{dataType:"jsonp",cached:!1,timeout:c&&c.timeout,error:_.bind(this.jsonp_error,this),success:_.bind(this.create_public_key,this)})},add_invalidated_callback:function(a){this.callbacks.invalidated.push(a)},create_public_key:function(a,b,c){if(a.error)return console.error("error getting generator",a),this.error_out(c,b,a);this.guid=a.guid;a=a.response||a;if(!a.length||3!=a.length)return console.error("public key response makes no sense",
a),this.error_out(c,b,"public key response bad");this.set_progress(0.3);this.set_label("Creating public key...");this.modulus=new BigInteger(a[0],10);this.generator=new BigInteger(a[1],10);this.salt=new BigInteger(a[2],10);this.exponent=new BigInteger(sjcl.codec.hex.fromBits(sjcl.random.randomWords(5)),16);window.jQuery&&jQuery.jStorage&&jQuery.jStorage.set("entropySeed",sjcl.random.randomWords(9));var d=this;this.generator.modPow(this.exponent,this.modulus,_.bind(this.created_public_key,this),function(a){return d.set_progress_range(0.3,
0.45,a)})},created_public_key:function(a){this.public_key=a;a={username:this.username,pub:a.toString(10),time:(new Date).getTime()};console.log(this.get_srp_url(a));jQuery.ajax(this.get_srp_url(a),{dataType:"jsonp",cached:!1,error:_.bind(this.jsonp_error,this),success:_.bind(this.sent_public_key,this)})},sent_public_key:function(a,b,c){a.error?(console.error("error",a),this.error_out(c,b,a)):this.create_session_key(c,b,new BigInteger(a.response[0],10),this.modulus,this.generator,this.salt,this.exponent)},
create_session_key:function(a,b,c,d,e,g,k){function m(a){return v.set_progress_range(0.7,0.95,a)}this.set_progress(0.45);this.set_label("Creating session key...");this.server_key=c;0==this.server_key.modPow(new BigInteger("1",10),this.modulus)&&this.error_out(a,b,"The client provided an invalid public key. "+c+"Please try again.");var o=new BigInteger("3",10),r=new BigInteger(sha1Hash(this.public_key.toAscii(320)+this.server_key.toAscii(320)),16),v=this;r.modPow(new BigInteger("1",10),this.modulus,
function(a){if(0==a)throw alert('The client provided an invalid exponent ("u"). Please try again.'),'Server provided a "u" parameter which was = 0 mod N. Aborting SRP process.';});var a=jQuery("#username").val()||this.credentials.username,s=jQuery("#password").val()||this.credentials.password;this.credentials=null;a=sha1Hash(a+":"+s);b=new BigInteger(a,16);s=new BigInteger(sha1Hash(g.toAscii(20)+b.toAscii(a.length)),16);e.modPow(s,d,function(a){negative_g_to_the_x=d.subtract(a);negative_g_to_the_x_times_k=
negative_g_to_the_x.multiply(o);v.server_key.add(negative_g_to_the_x_times_k).modPow(new BigInteger("1",10),d,function(a){key_exponent=k.add(r.multiply(s));a.modPow(key_exponent,d,function(a){client_hash=sha1Hash(a.toAscii(320));v.client_key=new BigInteger(client_hash,16);v.client_key_str=v.client_key.toPaddedHex(40).slice(0,40);v.verify_key()},m)})},function(a){return v.set_progress_range(0.45,0.7,a)})},compute_verify_key_one:function(){this.set_label("Sending key verifier");var a=this.public_key,
b=this.server_key,a=(new BigInteger(sha1Hash(this.modulus.toAscii(320)),16)).xor(new BigInteger(sha1Hash(this.generator.toAscii(2)),16)).toAscii(40)+(new BigInteger(sha1Hash(this.username),16)).toAscii(40)+this.salt.toAscii(20)+a.toAscii(320)+b.toAscii(320)+this.client_key.toAscii(40),a=sha1Hash(a);this.M1=new BigInteger(a,16);return this.M1.toString(10)},compute_verify_key_two:function(){var a=this.public_key;this.set_label("Verifying key ...");a=sha1Hash(a.toAscii(320)+this.M1.toAscii(40)+this.client_key.toAscii(40));
return(new BigInteger(a,16)).toString(10)},verify_key:function(){window.eventTracker&&eventTracker.track("Login","SendVerify");var a={username:this.username,verify:this.compute_verify_key_one(),time:(new Date).getTime()};jQuery.ajax(this.get_srp_url(a),{dataType:"jsonp",cached:!1,error:_.bind(this.jsonp_error,this),success:_.bind(this.got_key_verify,this)})},got_key_verify:function(a,b,c){if(a.error)console.error("error",a),this.error_out(c,b,a);else if(a.response[0]==this.compute_verify_key_two()){this.set_progress(1);
this.set_label("Verification complete!");b=a.bt_talon_tkt;if(this.options&&this.options.direct)var d={key:this.client_key_str,guid:this.guid,direct:this.options.direct};else b&&(d={key:this.client_key_str,bt_talon_tkt:b,port:a.port,bt_user:this.username,cid:a.cid,host:a.host,ip:a.ip,guid:this.guid,agent:a.agent,api:"2.1"});console.log("log in success with client data",d);this.api=new falcon.api(d);this.options&&this.options.success&&(this.clear(),this.options.success(this))}else this.error_out(c,
b,"Password invalid")},serialize:function(){return this.api.client_data},clear:function(){delete this.M1;delete this.client_key;delete this.client_key_str;delete this.exponent;delete this.generator;delete this.guid;delete this.modulus;delete this.public_key;delete this.salt;delete this.server_key;delete this.username}};(function(){function a(a){return"http://127.0.0.1:"+a}function b(b){return a(b)+"/gui/pair?name="+encodeURIComponent(window.location.host)}function c(a){var b,c=0;do b=7*Math.pow(c,3)+3*Math.pow(c,2)+5*c+1E4,c+=1;while(b<=a);return b}PairingView=Backbone.View.extend({initialize:function(){if("native"===this.model.get("pairing_type"))throw void 0;this.model.on("pairing:authorize",this.authorize_iframe,this)},authorize_iframe:function(a){if("undefined"===typeof jQuery.facebox)jQuery(document.createElement("link")).attr({href:"https://torque.bittorrent.com/facebox/src/facebox.css",
type:"text/css",rel:"stylesheet"}).appendTo("head"),jQuery.getScript("https://torque.bittorrent.com/facebox/src/facebox.js",_.bind(this.authorize_iframe,this,a));else{jQuery.facebox.settings.overlay=!0;jQuery.facebox.settings.closeImage="https://torque.bittorrent.com/facebox/src/closelabel.png";jQuery.facebox.settings.loadingImage="https://torque.bittorrent.com/facebox/src/loading.gif";jQuery.facebox.settings.opacity=0.6;var b=jQuery("<div></div>");b.attr("id","pairing");b.css("position","absolute");
b.css("height","200px");b.css("width","400px");b.css("left","%50");b.css("margin-left","-200px");var c=jQuery("<iframe></iframe>"),k="https://torque.bittorrent.com/pairing/index.html?product="+this.model.get("product")+"&mime="+this.model.get("plugin_manager").get("mime_type")+"&name="+encodeURIComponent(document.title)+"&permissions=download,create,remote";c.attr("src",k);c.css("padding","0px");c.css("margin","0px");b.append(c);jQuery(window).on("message",function(b){"https://torque.bittorrent.com"===
b.originalEvent.origin&&(a.callback(a.port,b),jQuery(document).trigger("close.facebox"),jQuery("#pairing").remove())});b.hide();jQuery("body").append(b);jQuery.facebox({div:"#pairing"})}}});PluginPairing={ping_port:function(a){this.on_ping_success(a)},check_version:function(b){this.trigger("pairing:check_version",{port:b});this.get("plugin_manager").get_plugin().ajax(a(b)+"/version/",_.bind(function(a){if(!a.allowed||!a.success)this.on_check_version_error(b);else{var c;try{c=JSON.parse(a.data)}catch(k){this.on_check_version_error(b);
return}this.on_check_version_success(b,c)}},this))},authorize_basic:function(a){this.get("plugin_manager").get_plugin().ajax(b(a),_.bind(function(b){!b.allowed||!b.success?this.authorize_port_error(a):this.authorize_port_success(a,b.data)},this))}};ImagePairing={ping_port:function(b){var c=new Image;c.onerror=_.bind(this.on_ping_error,this,b);c.onload=_.bind(this.on_ping_success,this,b);c.src=a(b)+"/gui/pingimg"},check_version:function(b){this.trigger("pairing:check_version",{port:b});jQuery.ajax({url:a(b)+
"/version/",dataType:"jsonp",success:_.bind(this.on_check_version_success,this,b),error:this.on_check_version_error})},authorize_basic:function(a){jQuery.ajax({url:b(a),dataType:"jsonp",success:_.bind(this.authorize_port_success,this,a),error:_.bind(this.authorize_port_error,this,a)})}};Pairing=Backbone.Model.extend({defaults:{pairing_type:"iframe"},initialize:function(){_.bindAll(this,"on_ping_error","on_ping_success","on_check_version_error","on_check_version_success","authorize_port_callback");
this.get("plugin_manager")?_.extend(this,PluginPairing):_.extend(this,ImagePairing)},scan:function(){this.ping(7*Math.pow(0,3)+3*Math.pow(0,2)+1E4)},ping:function(a){11E3<a?this.trigger("pairing:stop",{reason:"max port reached"}):(this.trigger("pairing:attempt",{port:a}),this.ping_port(a))},on_ping_error:function(a){this.ping(c(a))},on_ping_success:function(a){this.check_version(a)},on_check_version_error:function(a){this.ping(c(a))},on_check_version_success:function(a,b){var g={version:"object"===
typeof b?b.version:"unknown",name:"object"===typeof b?b.name:"unknown",port:a,authorize:!0,abort:!1};if("invalid request"==b||b&&b.version)this.trigger("pairing:found",g),g.authorize&&this.authorize(a),g.abort||this.ping(c(a))},authorize:function(a){if("native"===this.get("pairing_type")||void 0!=navigator.userAgent.match(/Macintosh/))this.authorize_basic(a);else if("iframe"!==this.get("pairing_type")){var b=this.get("plugin_manager").get_plugin().pair(this.get("product"));40===b.length?this.authorize_port_success(a,
b):this.trigger("pairing:authorize",{port:a,callback:this.authorize_port_callback})}},authorize_port_success:function(a,b){this.trigger("pairing:authorized",{port:a,key:b})},authorize_port_error:function(a){this.trigger("pairing:denied",a)},authorize_port_callback:function(a,b){if(!b||!b.originalEvent||!b.originalEvent.data)throw"no data was passed in the message from the iframe";if(40===b.originalEvent.data.length)this.authorize_port_success(a,b.originalEvent.data);else if("denied"===b.originalEvent.data)this.authorize_port_error(a);
else throw"the message data from the iframe was neither a pairing key, nor a denied message";}})}).call(this);var App=window.App={};
(function(){App=Backbone.Model.extend({active_client_view:null,active_torrent_view:null,clients_view:null,initialize:function(a){assert(a&&a.type);this.__name__="App";this.settings=new Settings;this.listen_key=config.conduit_toolbar_message_key;var b=this;this.clients=new ClientCollection({app:this});switch(this.get("type")){case "clients":this.clients_view=new ClientsView({el:$("#clients_view"),model:this.clients,app:this});break;case "main":this.settings.get("expanded")&&this.expand(),$("#accordion").click(function(){console.error("ACCORDIAN CLICKED",
b.settings.get("expanded"));b.settings.get("expanded")?(b.collapse(),app.broadcast({command:config.cmd.COLLAPSE}),custom_track({tb_category:"torrent",tb_action:"collapse",tb_label:null,tb_value:null})):(b.expand(),app.broadcast({command:config.cmd.EXPAND}),custom_track({tb_category:"torrent",tb_action:"expand",tb_label:null,tb_value:null}))})}this.init_clients();this.send_message({type:"clear",message:"message_clear"});if(config.is_msie){if(window.EBGlobalKeyChanged){console.error("already defined!");
debugger}window.EBGlobalKeyChanged=_.bind(this.handle_conduit_storage_change,this)}else $.jStorage.on(config.conduit_toolbar_message_key,_.bind(this.handle_jstorage_change,this))},init_clients:function(){this.clients.fetch();this.clients.init_post_fetch();var a=this.clients.selected;a&&a.get("data").key&&a.check_status(function(){a.get("status")});a?a.select():this.switch_to_client(a,!0)},handle_jstorage_change:function(a){try{var b=JSON.parse(a)}catch(c){console.error("error parsing gadget message",
a);return}this.listen_key==config.conduit_toolbar_message_key&&this.handle_message(config.conduit_toolbar_message_key,b)},handle_conduit_storage_change:function(a,b){try{var c=JSON.parse(b)}catch(d){console.error("error parsing gadget message",b);return}this.listen_key==a&&this.handle_message(a,c)},handle_message:function(a,b){if("broadcast"===b.type)return this.recieve_broadcast(b);if(b.recipient)return this.recieve_command(b)},recieve_broadcast:function(a){if("main"===this.get("type")&&this.get("guid")!==
a.guid){if(_.include([config.cmd.REMOVE_CLIENT,config.cmd.EXPAND,config.cmd.COLLAPSE],a.command)){if(a.command===config.cmd.REMOVE_CLIENT&&(b=this.clients.get(a.client.id)))return b.remove()}else{var b=this.clients.get(a.client.id);b?b.set(a.client):(b=new Client(a.client),this.clients.add(b))}switch(a.command){case config.cmd.SWITCH_CLIENT:return this.clients.set_active(b),this.switch_to_client(b,!0);case config.cmd.REMOTE_SIGNUP:b.save();break;case config.cmd.EXPAND:this.expand();break;case config.cmd.COLLAPSE:this.collapse()}}},
recieve_command:function(a){if(this.get("guid")===a.recipient)switch(a.command){case config.cmd.CLOSE_WINDOW:return BTCloseFloatingWindow();case config.cmd.PAIR:var b=this.clients.get(a.id);this.clients.selected!=b&&(this.clients.set_active(b),this.switch_to_client(b));this.pair(b);custom_track({tb_category:"local",tb_action:"pair",tb_label:"attempt",tb_value:null});break;case config.cmd.PAIRING_ACCEPTED:b=this.clients.get(a.id);b.got_key(a.data);this.switch_to_client(b);this.close_gadget(a.guid);
custom_track({tb_category:"local",tb_action:"pair",tb_label:"success",tb_value:null});break;case config.cmd.PAIRING_DENIED:console.error("PAIRING DENIED");b=this.clients.get(a.id);b.set_status("pairing denied");b.save();this.broadcast({command:config.cmd.PAIRING_DENIED,client:b.toJSON()});this.close_gadget(a.guid);custom_track({tb_category:"local",tb_action:"pair",tb_label:"deny",tb_value:null});break;case config.cmd.REMOTE_LOGIN:b=new Client({type:"remote",data:a.data});this.clients.add(b);this.clients.set_active(b);
this.switch_to_client(b);this.close_gadget(a.guid);custom_track({tb_category:"remote",tb_action:"login",tb_label:"success",tb_value:null});break;case config.cmd.FOUND_CLIENT:if(b=this.clients.get(a.client.id)){b.set(a.client);debugger}else b=new Client(a.client),this.clients.add(b),this.clients.set_active(b),this.switch_to_client(b),this.pair(b);break;case config.cmd.OPEN_GADGET:if("login"==a.name)b="login.html?guid="+this.get("guid"),a.replace&&(b+="&replace="+encodeURIComponent(a.replace)),BTOpenGadget(b,
286,200,{openposition:"offset:(0;30)"});else if("files"==a.name)b="files.html?guid="+this.get("guid"),a.hash&&a.sid&&(b+="&hash="+encodeURIComponent(a.hash)+"&sid="+encodeURIComponent(a.sid)),BTOpenGadget(b,400,344,{openposition:"offset:(0;30)"}),custom_track({tb_category:"torrent",tb_action:"files",tb_label:"open",tb_value:null});else if("signup"===a.name)b="signup.html?guid="+this.get("guid")+"&id="+a.id,BTOpenGadget(b,286,200,{openposition:"offset:(0;0)"});else{console.error("unrecognized gadget");
debugger}break;case config.cmd.REMOTE_SIGNUP:b=this.clients.get(a.id);b.set("remote_username",a.username);b.save();this.close_gadget(a.guid);this.broadcast({command:config.cmd.REMOTE_SIGNUP,client:b.toJSON()});custom_track({tb_category:"remote",tb_action:"create",tb_label:"success",tb_value:null});break;case config.cmd.REMOVE_CLIENT:b=this.clients.get(a.id);this.broadcast({command:config.cmd.REMOVE_CLIENT,client:b.toJSON()});b.remove();this.close_gadget(a.guid);break;case config.cmd.TORRENT_ADDED:custom_track({tb_category:"torrent",
tb_action:"add",tb_label:"success",tb_value:null}),console.log("this client",this,this.client,a)}},switch_to_client:function(a,b){"main"===this.get("type")&&(this.active_client_view=new ActiveClientView({el:$("#computerselect"),model:a,app:this}));this.initialize_torrents();b||this.broadcast({client:a.toJSON(),command:config.cmd.SWITCH_CLIENT})},open_gadget:function(a){this.send_message({recipient:this.get("parent"),command:config.cmd.OPEN_GADGET,name:a})},close_gadget:function(a){this.send_message({recipient:a,
command:config.cmd.CLOSE_WINDOW})},pair:function(a){"unknown"!=a.get("data").name?BTOpenGadget("pairing.html?guid="+this.get("guid")+"&id="+a.id,286,155,{openposition:"offset:(0;30)"}):(BTOpenGadget("pairing_instructions.html?guid="+this.get("guid"),286,265,{openposition:"offset:(0;30)"}),a.pair_jsonp())},add_client:function(a){this.send_message({recipient:"client",command:"add_client",data:a.attributes})},remove_client:function(a){this.send_message({recipient:"client",command:"remove_client",data:a.attributes})},
send_message:function(a,b){a.guid=this.get("guid");"web"==this.get("type")?this.handle_message(null,a,b):(BTSendMessage(config.conduit_toolbar_message_key,JSON.stringify(a),b),config.is_msie||this.handle_message(config.conduit_toolbar_message_key,a))},broadcast:function(a){a.type="broadcast";"web"==this.get("type")?this.handle_message(null,a):this.send_message(a)},show_setup:function(a,b){var c=this;$("#torrent_controls").hide();c.display_status(b?b:config.messages.setup);$(".default_container").show().unbind().click(function(){c.pair(c.clients.selected)})},
show_remote_setup:function(a,b){var c=this;$("#torrent_controls").hide();$(".default_container").text(b?b:"Click to login");$(".default_container").unbind();$(".default_container").click(function(){c.send_message({recipient:"torrent",command:"open_gadget",name:"login",replace:a.get("data").guid},{local:!0})})},expand:function(){console.error("EXPAND");this.settings.save({expanded:!0});$(".torrent_wrapper").stop(!1).animate({width:config.torrent_pane.expanded_width},config.torrent_pane.animate_time,
function(){$("#accordion").addClass("arrow_expand").removeClass("arrow_collapse")})},collapse:function(){console.error("COLLAPSE");this.settings.save({expanded:!1});$(".torrent_wrapper").stop(!1).animate({width:config.torrent_pane.collapsed_width},config.torrent_pane.animate_time,function(){$("#accordion").addClass("arrow_collapse").removeClass("arrow_expand")})},display_status:function(a){$(".default_container").text(a);this.active_torrent_view||$(".default_container").show()},notify_status:function(a){var b=
this.clients.selected,a=a.status;if(!b)return this.destroy_active_torrent_view(),this.display_status(a);"local"==b.get("type")?"unauthorized"==a?this.show_setup(b,"Key invalid. Click to authorize"):"no pairing key"==a?this.show_setup(b):$(".default_container").text("Status: "+a):"unauthorized guid"==a?this.show_remote_setup(b,"Signed out. Click to login"):$(".default_container").text("Status: "+a)},initialize_torrents:function(){if(!_.include("clients,login,signup,torrents,files,pairing".split(","),
this.get("type"))){var a=this.clients.selected,b=this;if(a)if("local"===a.get("type")&&!a.get("data").key)this.show_setup(a);else{var c=a.get_selected_torrent();c?b.change_active_torrent_view(a,c):a.updating?b.change_active_torrent_view(a,c):(a.bind("firstupdate",function(){var c=a.get_selected_torrent();b.change_active_torrent_view(a,c)},this),this.display_status("Fetching data..."),a.start_updating());a.unbind("new_torrent");a.bind("new_torrent",function(b){a.set_selected_torrent(b)});a.unbind("change:active_hash");
a.bind("change:active_hash",function(){var c=a.get_selected_torrent();b.change_active_torrent_view(a,c)});a.unbind("remove_torrent");a.bind("remove_torrent",function(c){if(b.active_torrent_view)if(b.active_torrent_view.model){if(b.active_torrent_view.model.id==c.id)(c=a.get_selected_torrent())?a.set("active_hash",c.get("hash")):a.set("active_hash",null)}else a.set("active_hash",null)});jQuery("#torrent_list").unbind("click").click(function(){BTOpenGadget("torrents.html?guid="+b.get("guid"),400,344,
{openposition:"offset:(0;30)"});custom_track({tb_category:"torrent",tb_action:"torrents",tb_label:"open",tb_value:null})});jQuery("#red_button").unbind("click").click(function(){BTOpenGadget("add.html?guid="+b.get("guid"),395,150,{openposition:"offset:(25;30)"});custom_track({tb_category:"torrent",tb_action:"add",tb_label:"open",tb_value:null})})}else this.notify_status({status:config.messages.no_client})}},destroy_active_torrent_view:function(){this.active_torrent_view&&(this.active_torrent_view.destroy(),
this.active_torrent_view=null)},change_active_torrent_view:function(a,b){this.destroy_active_torrent_view();this.active_torrent_view=new ActiveTorrentView({el:$("#torrent_template_container"),model:b,client:a,app:this})}})})();function assert(a){if(!a)debugger}
var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){for(var b="",c,d,e,g,k,m,o=0,a=Base64._utf8_encode(a);o<a.length;)c=a.charCodeAt(o++),d=a.charCodeAt(o++),e=a.charCodeAt(o++),g=c>>2,c=(c&3)<<4|d>>4,k=(d&15)<<2|e>>6,m=e&63,isNaN(d)?k=m=64:isNaN(e)&&(m=64),b=b+this._keyStr.charAt(g)+this._keyStr.charAt(c)+this._keyStr.charAt(k)+this._keyStr.charAt(m);return b},_utf8_encode:function(a){for(var a=a.replace(/\r\n/g,"\n"),b="",c=0;c<a.length;c++){var d=
a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}},generateGUID="undefined"!=typeof window.crypto&&"undefined"!=typeof window.crypto.getRandomValues?function(){var a=new Uint16Array(8);window.crypto.getRandomValues(a);var b=function(a){for(a=a.toString(16);4>a.length;)a="0"+a;return a};return b(a[0])+b(a[1])+"-"+b(a[2])+"-"+b(a[3])+"-"+b(a[4])+
"-"+b(a[5])+b(a[6])+b(a[7])}:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})};function decode_url_arguments(){for(var a=window.location.search,a=a.slice(1,a.length).split("&"),b={},c=0;c<a.length;c++){var d=a[c].split("=");b[d[0]]=decodeURIComponent(d[1])}return b}
function to_file_size(a){for(var b="b,kb,Mb,Gb,Tb,Pb,Eb".split(","),c=b.length-1,d=1,a=a/1024;1024<=a&&d<c;)a/=1024,d++;return a.toFixed(1)+" "+b[d]}
function make_url_relative(a){var b=window.location.protocol+"//"+window.location.host;window.location.port&&(b=b+":"+window.location.port);if("/"==a[0])return config.folder&&(a=config.folder.slice(0,config.folder.length-1)+a),b+a;var c=window.location.pathname.split("/"),c=c.slice(0,c.length-1).join("/");return b+c+(config.folder?config.folder:"/")+a}
function BTOpenGadget(a,b,c,d){var e=config.is_firefox?-39:0,g={resizable:0,saveresizedsize:0,titlebar:0,closeonexternalclick:1,savelocation:0,openposition:"click"};d&&_.extend(g,d);d=_.map(g,function(a,b){return b+"="+a}).join(",");a=make_url_relative(a);g=-1==a.indexOf("?")?"?":"&";a=a+g+"tbv="+config.TBV+"&tbn="+config.TBN;config.cache_bust_version&&(a=a+"&v="+config.cache_bust_version);OpenGadget(a,b,c+e,d)}
function SpacedExecution(a){this.spacing=a;this.timer=this.last_call=null;this.queue=[]}
SpacedExecution.prototype={add:function(a){this.last_call?(this.queue.push(a),this.process_queue()):this.call(a)},call:function(a){this.last_call=new Date;if("function"===typeof a)a();else{console.error("SpacedExecution: FN IS NOT A FUNCTION",a);debugger}},process_queue:function(){this.timer&&(this.timer=null);var a=new Date-this.last_call;a<this.spacing?this.timer||(this.timer=setTimeout(_.bind(this.process_queue,this),this.spacing-a)):((a=this.queue.shift())&&this.call(a),0<this.queue.length&&(this.timer=
setTimeout(_.bind(this.process_queue,this),this.spacing)))}};var _bt_send_queue=new SpacedExecution(40);function BTSendMessage(a,b){_bt_send_queue.add(config.is_msie?function(){StoreGlobalKey(a,b)}:function(){jQuery.jStorage.set(a,b)})}function BTCloseFloatingWindow(a){a?setTimeout(function(){CloseFloatingWindow()},a):CloseFloatingWindow()}
function BTReload(a){a.broadcast({message:"close floating windows"});BTCloseFloatingWindow();a=a.get("type");("client"==a||"torrent"==a)&&_bt_send_queue.add(function(){config.is_firefox?RefreshToolbar():document.location.reload(!0)})}function get_stat_guid(){if(!RetrieveGlobalKey(config.checkin_stat_key))return console.error("CHECKIN STAT NOT YET SET"),!1;this.send_stat()}window.bt_usage_stats=null;
function BT_Usage_Stats(a){this.key=a||config.usage_stat_key;a=JSON.parse(RetrieveGlobalKey(config.checkin_stat_key))||null;this.uuid=a.uuid;console.log("Usage stats init",a,this.uuid);RetrieveGlobalKey(this.key)||this.store_new_stat()}
BT_Usage_Stats.prototype={make_empty_stat:function(){return{uuid:this.uuid,seq_id:0}},store_new_stat:function(){var a=this.make_empty_stat();StoreGlobalKey(this.key,JSON.stringify(a));return JSON.parse(RetrieveGlobalKey(this.key))},send_stat:function(a){var b=JSON.parse(RetrieveGlobalKey(this.key))||null;if(b){var b=this.increment_stat(b),a=this.prepare_content(b,a),c=config.is_prod?"http://bench.utorrent.com/e":"http://bench.staging.utorrent.com/e",d=Base64.encode(a);$.ajax({dataType:"jsonp",url:c,
data:{i:b.uuid,e:d}});console.log("Usage Stat Sent: "+a)}else console.error("THERE IS NO USAGE STAT")},increment_stat:function(a){a.seq_id+=1;StoreGlobalKey(this.key,JSON.stringify(a));return a},prepare_content:function(a,b){var c={tbs:1,tbv:config.TBV,tbn:config.TBN,eventName:"ToolbarLog",sequenceID:a.seq_id,uniqueID:a.uuid};_.extend(c,b);return JSON.stringify(c)}};
function custom_track(a){if("object"!==typeof a)console.error("custom_track argument must be an object");else if(!a.tb_category||!a.tb_action)console.error("custom_track argument object MUST contain keys tb_category & tb_action");else{for(var b in a)a[b]||delete a[b];window.bt_usage_stats||(window.bt_usage_stats=new BT_Usage_Stats);window.bt_usage_stats.send_stat(a)}}
function remotelog(a,b){if(window.location.host.match("toolbar-dev.utorrent.com")){var c={event:a,data:b};1<config.verbose&&(c=config.remotelog_server+"/remotelog.php?data="+encodeURIComponent(JSON.stringify(c)),jQuery.ajax({url:c,dataType:"jsonp",success:function(){},error:function(){}}))}}function logger(a,b,c,d,e){a=[a,b,c,d,e];b="";for(c=0;c<a.length;c++)void 0!==a[c]&&(b=b+" "+a[c]);remotelog(b)}
if(5<config.verbose&&(config.is_firefox||config.is_msie))window.myconsole={log:logger,error:logger,warn:logger},window.console=window.myconsole;function filter_brand_string(a,b){var c=b?"pretty":"base",d=1==config.TBN?0:1,e=config.TBN,d=config.brands[d][c],e=config.brands[e][c];return a=a.replace(RegExp(d,"g"),e)}
(function(a){a("html").addClass(config.brands[config.TBN].base);a(document).ready(function(){a(".help_link").length&&a(".help_link").each(function(){a(this).attr({href:filter_brand_string(a(this).attr("href")),title:filter_brand_string(a(this).text(),!0)}).click(function(){custom_track({tb_category:"behavior",tb_action:"help",tb_label:null,tb_value:null})})})})})(jQuery);var Settings=Backbone.Model.extend({localStorage:new Store("Settings"),initialize:function(){this.id="settings";this.fetch()}});var ClientStorage=new Store("ClientCollection"),Client=Backbone.Model.extend({localStorage:ClientStorage,initialize:function(a){this.__name__="Client";this.data=a;this.cacheid=null;this.updates=0;this.updating=!1;this.torrents=new TorrentCollection([],{client:this});this.torrents.client=this;"remote"==this.get("type")&&(this.api=new falcon.session({client_data:this.data.data}));var b=this;this.bind("raptor_update",function(){console.error("raptor update")});this.bind("view_active",function(){console.log("view made active... start basic status updating");
b.update_status();debugger});this.paired_scan_interval=2E4;this.remote_update_interval=this.paired_update_interval=4E3;this.server_fetch_count=0;_.bindAll(this)},running:function(){assert("local"==this.get("type"));return!("not running"==this.get("status")||"not responding"==this.get("status")||"pairing denied"==this.get("status"))},set_selected_torrent:function(a){this.set("active_hash",a.get("hash"));assert(this.get_selected_torrent());this.save()},get_selected_torrent:function(){if(0<this.torrents.models.length){var a=
this.get("active_hash");a||(a=this.torrents.models[0].get("hash"),this.set("active_hash",a),this.save());if(a=this.torrents.get(a))return a}else 0==this.updates?console.error("get selected torrent -- no torrent models fetched"):console.log("get selected torrent -- no torrents in client!");return null},remove:function(){var a=this.collection,b=this.get("selected");this.destroy();b&&(console.log("remove client that was selected -- special case"),0<a.models.length?a.models[0].select():(console.log("no clients left! broadcast no clients"),
a.selected=null,a.app.init_clients()))},select:function(){this.collection.trigger("selected",this)},fetch_server:function(a){var b=this;jQuery.ajax({url:config.srp_root+"/talon/getrapton?bt_talon_tkt="+encodeURIComponent(this.get("data").bt_talon_tkt),dataType:"jsonp",success:function(c){var d=b.get("data");c.rapton&&d.host!=c.rapton?(console.warn("raptor changed address",d.host,"->",c.rapton),d.host=c.rapton,b.set("data",d),b.save(),b.trigger("raptor_update"),b.server_fetch_count=0,a&&a({changed:!0})):
(c&&c.error&&"/no/user"==c.error.code?b.invalidate_session():(b.server_fetch_count+=1,console.log(d.bt_user,"still offline",c.rapton)),a&&a({changed:!1}))},error:function(){debugger;a&&a({error:!0})}})},ready:function(){return"local"==this.get("data").type?this.get("data").key?!0:!1:!0},got_key:function(a){var b=this.get("data");b.key=a;b.type="local";this.set("data",b);this.save();this.collection.set_active(this)},pair_jsonp:function(){var a="http://127.0.0.1:"+this.get("data").port+"/gui/pair&name="+
encodeURIComponent("Control"),b=this;jQuery.ajax({url:a,success:function(a){b.got_key(a);app.broadcast({message:"pairing accepted",id:b.id})},dataType:"jsonp",error:function(){b.set_status("pairing denied");b.save();app.broadcast({message:"pairing denied",id:b.id})}})},pair:function(){app.pair(this)},invalidate_session:function(){this.set_status("invalid")},get_name:function(){if("local"==this.get("type"))return this.get("remote_username")?escape(this.get("remote_username")):escape(this.get("data").name);
if(this.get("data")&&this.get("data").bt_user)return escape(this.get("data").bt_user)},start_updating:function(){this.updating||(this.updating=!0,this.do_update())},stop_updating:function(){this.updating=!1;this.update_timeout&&clearTimeout(this.update_timeout)},do_update:function(){var a=this;this.updating&&("local"==this.get("type")&&this.get("data").key?jQuery.ajax({url:"http://127.0.0.1:"+this.get("data").port+"/gui/?list=1&cid="+this.cacheid+"&pairing="+this.get("data").key+"&token="+this.get("data").key,
dataType:"jsonp",success:function(b){if("invalid request"==b)a.invalidate_session();else a.on_update(b)},timeout:4E3,error:function(b,c,d){console.log("paired client update failure",c,d);a.set_status("not running");"parsererror"==c?(console.error("jsonp error parsing response"),a.invalidate_session()):0==a.updates&&(console.error("never got an update from ut!"),a.invalidate_session())}}):this.api&&(assert(this.get("data").host),this.api.request("/gui/",{list:1,cid:this.cacheid},{},_.bind(this.on_update,
this),function(b,c,d){d&&d.error&&(401==d.code||401==d.error.code)?(a.invalidate_session(),a.set_status("invalid session")):d&&"client timeout"==d.error?(a.set_status("unavailable"),b=2*Math.pow(2,a.server_fetch_count),b*=a.remote_update_interval,console.log("next server fetch at",b),a.fetch_server(),a.update_timeout=setTimeout(a.do_update,b)):"timeout"==c?(a.set_status("unavailable"),a.update_timeout=setTimeout(a.do_update,2*a.remote_update_interval),console.error("CLIENT TIMEOUT",a,c)):(d&&"invalid JSON"==
d.error?a.set_status("received bad data"):console.error("Something went wrong with remote fetch.  trying again."),a.update_timeout=setTimeout(a.do_update,2*a.remote_update_interval))},{timeout:config.timeout_remote})))},check_version:function(a){assert("local"==this.get("type"));var b=this,c="http://127.0.0.1:"+this.get("data").port+"/version/";jQuery.ajax({url:c,dataType:"jsonp",timeout:500,success:function(){a()},error:function(){b.set_status("unavailable");b.save();a()}})},set_settings:function(a,
b,c){var d="action=setsetting",e;for(e in a)d+="&s="+encodeURIComponent(e)+"&v="+encodeURIComponent(a[e]);this.doreq(d,function(a,d,e){a&&a.build?b(a,d,e):c(e,d,a)},c)},get_auth_url_str:function(){return"local"==this.get("type")?"&pairing="+this.get("data").key+"&token="+this.get("data").key:"&GUID="+encodeURIComponent(this.get("data").guid)+"&bt_talon_tkt="+encodeURIComponent(this.get("data").bt_talon_tkt)},doreq:function(a,b,c,d){var e=this;if("local"==e.get("type")){if("object"==typeof a){var d=
[],g;for(g in a)d.push(g+"="+encodeURIComponent(a[g]));g=d.join("&")}else g=a;g="http://127.0.0.1:"+e.get("data").port+"/gui/?"+g+this.get_auth_url_str();jQuery.ajax({url:g,dataType:"jsonp",timeout:config.timeout_paired,success:function(d,g,o){if("invalid request"==d)return e.set_status("invalid pairing key"),c(o,g,d);d&&d.build&&e.set_status("available");b?b(d,g,o):console.log("doreq success",a,d)},error:function(b,d,g){"timeout"==d?e.set_status("not responding"):e.set_status("doreq error");c?c(b,
d,g):console.log("doreq error",g,a)}})}else{if("string"==typeof a)debugger;e.api.request(d&&d.uri?d.uri:"/gui/",{},a,function(d,e,g){if(d&&"client timeout"==d.error)return _this.set_status("offline"),c(g,e,d);if(d&&401==d.code)return _this.set_status("unauthorized guid"),c(g,e,d);b?b(d,e,g):console.log("doreq success",a,d)},function(b,d,g){"timeout"==d?e.set_status("timeout"):g&&401==g.code?e.set_status("unauthorized guid"):g&&"client timeout"==g.error&&(e.fetch_server(function(a){a&&a.changed&&console.log("server changed")}),
e.set_status("doreq error: "+JSON.stringify(g)));c?c(b,d,g):console.log("doreq error",g,a)})}},on_update:function(a){this.set_status("available");this.updates+=1;var b=a.torrentp,c=a.torrentm,d=a.torrents;this.cacheid=a.torrentc;c&&_.map(c,this.remove_torrent);b&&_.map(b,this.change_torrent);d&&_.map(d,this.change_torrent);this.get("active_hash")||0<this.torrents.models.length&&this.set("active_hash",this.torrents.get("hash"));this.trigger("update");1==this.updates&&this.trigger("firstupdate");this.update_timeout=
"local"==this.get("type")?setTimeout(this.do_update,this.paired_update_interval):setTimeout(this.do_update,this.remote_update_interval)},serialize:function(){for(var a=[],b=0;b<this.torrents.models.length;b++)a.push(this.torrents.models[b].serialize());return{torrentc:this.cacheid,torrents:a}},add_torrent:function(a){var b=new Torrent({id:a[0],data:a});this.get("active_hash")==a[0]&&b.set("selected",!0);this.trigger("add_torrent",b);this.torrents.add(b);1<this.updates&&(this.trigger("new_torrent",
b),this===app.clients.get_selected()&&app.change_active_torrent_view(this,b))},change_torrent:function(a){var b=this.torrents.get(a[0]);b?(this.trigger("change_torrent",b),b.update(a)):this.add_torrent(a)},remove_torrent:function(a){a=this.torrents.get(a);this.torrents.remove(a);this.trigger("remove_torrent",a)},set_status:function(a){this.get("status")!=a&&(this.set("status",a),this.save(),app.send_message({recipient:"clients",command:"update_client_status",id:this.id}));this.trigger("setstatus",
a)},check_status:function(a){this.collection.app.display_status("Checking status");var b=this;this.doreq({nop:1},function(){console.log("check status success:",b.get("status"));a&&a();b.collection.app.send_message({recipient:"torrent",command:"initialize"})},function(){console.log("check status error:",b.get("status"));a&&a();b.collection.app.send_message({recipient:"torrent",command:"notify_status",id:b.id,status:b.get("status")})},{uri:"/gui/token.html"})}});var ClientCollection=Backbone.Collection.extend({localStorage:ClientStorage,model:Client,initialize:function(a){this.__name__="ClientCollection";this.app=a.app;this.bind("selected",this.on_client_selection,this)},stop_all:function(){for(var a=0;a<this.models.length;a++)this.models[a].stop_updating()},get_by_guid:function(a){for(var b=0;b<this.models.length;b++)if(this.models[b].get("data").guid==a)return this.models[b]},get_by_id:function(a){return this.get(a)},on_client_selection:function(a){this.set_active(a);
this.app.switch_to_client(a)},set_active:function(a){for(var b=!1,c=0;c<this.models.length;c++)if(this.models[c].id==a.id&&(b=this.models[c],b.set("selected",!0),b.save()),this.models[c].get("selected")&&this.models[c]!=a)this.models[c].set({selected:!1},{silent:!0}),this.models[c].save();this.selected=b},get_selected:function(){for(var a=0;a<this.models.length;a++)if(this.models[a].get("selected"))return this.models[a];return this.selected=null},set_selected:function(){var a=this.get_selected();
a&&(this.selected=a)},init_post_fetch:function(){if(0===this.models.length){if("main"==this.app.get("type")){var a=this;this.find_local_clients({found:function(){1===a.models.length&&(a.set_active(a.models[0]),a.app.switch_to_client(a.models[0],!0))}})}}else this.set_selected()},find_local_clients:function(a){function b(){a.complete&&a.complete(d)}var c=new Pairing,d=this,e=a;c.bind("pairing:found",function(a){if(a.name.toLowerCase()!==config.client_name.toLowerCase())return!0;a.attempt_authorization=
!1;a.authorize=!1;var a=new Client({type:"local",data:a}),b=!0;if(d.models.length)for(var c=0;c<d.models.length;c++)d.models[c].get("data")===a.get("data")&&(console.error("DUPLICATE CLIENT!!!!!",d.models[c],a),b=!1);b&&(a.set("status","running"),d.add(a),e.found&&e.found(d))});c.bind("pairing:nonefound",b);c.bind("pairing:stop",b);c.scan()}});var ClientsView=Backbone.View.extend({initialize:function(a){this.template=_.template($("#clients_template").html());this.app=a.app;this.$el.html(this.template());var b=this;this.model.bind("reset",function(){_.each(b.model.models,function(a){b.add_client(a)})});this.model.bind("add",function(a){b.add_client(a)})},remove:function(){debugger},add_client:function(a){a=new ClientView({model:a,app:this.app});this.$(".clients").append(a.$el)},render:function(){this.$(".clients").html("")}});var AddClientView=Backbone.View.extend({initialize:function(){this.template=_.template($("#add_client_template").html());this.$el.html(this.template());var a=this;this.$(".add").click(function(){var b={};_.each(a.$(".form").serializeArray(),function(a){b[a.name]=a.value});a.login(b)})},render:function(){},destroy:function(){this.$el.html("")}});var ClientView=Backbone.View.extend({initialize:function(a){this.template=_.template($("#client_template").html());this.app=a.app;var b=this;this.model.bind("destroy",function(){b.el.parentNode.removeChild(b.el)});this.model.bind("change:status",function(a){console.error("change model status",this,a,b);b.render()});this.model.bind("timeout",function(){b.model.set_status("offline")});this.model.bind("preparing",function(){b.model.set_status("preparing...")});this.model.bind("change",function(a){console.error("change model",
this.model,a);b.render()});this.$el.html(this.template());this.trigger("view_active",this);this.$(".computer_name").click(function(){"pairing denied"==b.model.get("status")?b.app.send_message({recipient:b.app.get("parent"),command:config.cmd.PAIR,id:b.model.id}):b.model.get("selected")||(b.model.select(),b.app.close_gadget(b.app.get("guid")),custom_track({tb_category:"clients",tb_action:"select",tb_label:b.model.get("type"),tb_value:null}))});this.$(".remove_computer").click(function(){b.app.send_message({recipient:b.app.get("parent"),
command:config.cmd.REMOVE_CLIENT,id:b.model.id});b.model.remove()});this.$(".remote_computer").click(function(){"available"!=b.model.get("status")?console.error("cannot setup... client not available"):b.app.send_message({recipient:b.app.get("parent"),command:config.cmd.OPEN_GADGET,name:"signup",id:b.model.id})});this.render()},render:function(){if(this.model)if("available"==this.model.get("status")&&"local"==this.model.get("type")?this.$(".remote_computer").show():this.$(".remote_computer").hide(),
this.$(".computer_name").html(this.model.get_name()),"local"==this.model.get("type")?this.$(".computer_location").html("(local)"):this.$(".computer_location").html("(remote)"),"clients"==this.app.get("type")){this.model.get("selected")?this.$(".indie_computer_wrapper").addClass("selected"):this.$(".indie_computer_wrapper").removeClass("selected");var a=this.model.get("status");"available"==a?(this.$(".computer_state").addClass("computer_connected"),this.$(".computer_state").attr("title","Computer connected.")):
"local"==this.model.get("type")?"not running"==a?(this.$(".computer_state").addClass("computer_disconnected"),this.$(".computer_state").attr("title","Computer disconnected.")):(this.$(".computer_state").addClass("computer_unavailable"),this.$(".computer_state").attr("title","Computer unavailable.")):(this.$(".computer_state").addClass("computer_unavailable"),this.$(".computer_state").attr("title","Computer unavailable."))}else this.$(".remote_computer").hide(),this.$(".remove_computer").hide();else this.$(".computer_name").html("Setup")},
destroy:function(){var a=this.$el.parent(),b=this.$el.attr("id");this.unbind();this.remove();a.append($('<div id="'+b+'"></div>'))}});var ActiveClientView=ClientView.extend({initialize:function(a){this.template=_.template($("#client_template").html());this.app=a.app;this.$el.html(this.template());var b=this.model,c=this;$("#client_container").unbind("click").click(function(a){a.preventDefault();var e=["available","running"];b&&"local"==b.get("type")?b.check_version(function(){!b.get("data").key&&_.contains(e,b.get("status"))?c.app.pair(c.model):c.open_dropdown()}):c.open_dropdown()});this.model&&this.model.bind("change:remote_username",
function(){this.render()},this);this.render()},open_dropdown:function(){BTOpenGadget("clients.html?guid="+this.app.get("guid"),286,160,{openposition:"offset:(25;30)"});custom_track({tb_category:"clients",tb_action:"list",tb_label:null,tb_value:null})}});var Torrent=Backbone.Model.extend({meta:[{name:"hash"},{name:"status",type:"int",bits:"started,checking,start after check,checked,error,paused,queued,loaded".split(",")},{name:"name"},{name:"size",type:"int"},{name:"progress",type:"int"},{name:"downloaded",type:"int"},{name:"uploaded",type:"int"},{name:"ratio",type:"int"},{name:"up_speed",type:"int"},{name:"down_speed",type:"int"},{name:"eta",type:"int"},{name:"label"},{name:"peers_connected",type:"int"},{name:"peers_swarm",type:"int",alias:"peers_in_swarm"},
{name:"seed_connected",type:"int",alias:"seeds_connected"},{name:"seed_swarm",type:"int",alias:"seeds_in_swarm"},{name:"availability",type:"int"},{name:"queue_position",type:"int",alias:"queue_order"},{name:"remaining",type:"int"},{name:"download_url"},{name:"rss_feed_url"},{name:"message"},{name:"stream_id"},{name:"added_on",type:"int"},{name:"completed_on",type:"int"},{name:"app_update_url"},{name:"directory"},{name:"webseed_enabled"}],serialize:function(){for(var a=[],b=0;b<this.meta.length;b++)a.push(this.get(this.meta[b]));
return a},get_status:function(a){var b=this,c=[];_.map(this.meta[1].bits,function(d,e){Math.pow(2,e)&(a||b.get("status"))&&c.push(d)});return c},started:function(){return _.contains(this.status_array,"started")},isCompleted:function(){return this.downloaded==this.size},initialize:function(a){this.__name__="Torrent";for(var a=a.data,b=0;b<this.meta.length;b++)this.set(this.meta[b].name,a[b]);this.status_array=this.get_status();this.bind("selected",_.bind(function(){var a=this.collection.client.get_selected_torrent();
a&&a.set("selected",!1);this.set("selected",!0);this.collection.client.set("active_hash",this.get("hash"));this.collection.client.save()},this))},update:function(a){for(var b={},c=1;c<this.meta.length;c++)b[this.meta[c].name]=a[c];this.status_array=this.get_status(b.status);this.set(b)},get_files:function(){return new FileCollection([],{torrent:this})},doreq:function(a,b){console.log("TORRENT DOREQ",this,a,b);var c=this.collection.client,d=this;"local"==c.get("type")?jQuery.ajax({url:"http://127.0.0.1:"+
c.get("data").port+"/gui/?action="+a+"&hash="+this.get("hash")+"&pairing="+c.get("data").key+"&token="+c.get("data").key,dataType:"jsonp",success:function(c){d.on_req_success.apply(d,[a,b,c])},error:function(){d.on_req_error.apply(d,[a,b,data])}}):c.api.request("/gui/",{},{action:a,hash:this.get("hash")},function(c){d.on_req_success.apply(d,[a,b,c])},function(){d.on_req_error.apply(d,[a,b,data])})},on_req_success:function(a,b,c){if("invalid request"==c)debugger;console.log("doreq success",a,c,b,this,
this.get("name"))},on_req_error:function(a,b){"remove"===a&&b.set_name(_this.get("name"))}});var TorrentCollection=Backbone.Collection.extend({initialize:function(a,b){this.client=b.client},comparator:function(a){return-a.attributes.added_on}});var AddTorrentView=Backbone.View.extend({initialize:function(){this.template=_.template($("#add_torrent_template").html());this.$el.html(this.template());var a=this;this.$(".add").click(function(){var b={};_.each(a.$(".form").serializeArray(),function(a){b[a.name]=a.value});a.submit(b)});_.bindAll(this)},render:function(){},submit:function(a){this.$(".spinner").html("working...");var b=this,c=clients.selected;c&&c.api&&c.api.request("/gui/",{action:"add-url"},{s:a.url},function(){b.$(".spinner").html("done!");
b.$("input[name=url]").val("");b.$el.fadeOut();setTimeout(b.destroy,1E3)},function(){b.$(".spinner").html("error!");debugger})},destroy:function(){this.$el.show();this.$el.html("")}});var TorrentView=Backbone.View.extend({destroy:function(){var a=this.el.parentNode;this.undelegateEvents();$(this.el).removeData().unbind();this.remove();this.unbind();Backbone.View.prototype.remove.call(this);if(this.onClose)this.onClose();$(a).append($('<div id="torrent_template_container"></div>'))},bind_action_events:function(){var a=this;this.$(".bt_button_x").click(function(){console.log("remove torrent",a.model);custom_track({tb_category:"torrent",tb_action:"remove",tb_label:null,tb_value:null});
a.model.doreq("remove",a);a.set_name("Removing...")});this.$(".bt_button_play").click(function(){console.log("play torrent",a.model);custom_track({tb_category:"torrent",tb_action:"start",tb_label:null,tb_value:null});a.model.doreq("start",a);$(this).hide(0);a.$(".bt_button_pause").show(0)});this.$(".bt_button_pause").click(function(){console.log("pause torrent",a.model);custom_track({tb_category:"torrent",tb_action:"pause",tb_label:null,tb_value:null});a.model.doreq("stop",a);$(this).hide(0);a.$(".bt_button_play").show(0)});
this.$(".torrent_name").dblclick(function(){console.error("dblclick",a.app,a);a.app.send_message({recipient:"main"===a.app.get("type")?a.app.get("guid"):a.app.get("parent"),command:config.cmd.OPEN_GADGET,name:"files",hash:a.model.id,sid:a.model.get("stream_id"),client:a.app.clients.selected.id})})},bind_events:function(){var a=this;this.bind_action_events();this.model.bind("change",function(){a.render()});this.$(".torrent_name").click(function(){a.model.trigger("selected");custom_track({tb_category:"torrent",
tb_action:"select",tb_label:null,tb_value:null});a.app.broadcast({command:config.cmd.SELECT_TORRENT,client:a.model.collection.client.toJSON()})})},initialize:function(a){this.template=_.template($("#torrent_template").html());this.app=a.app;this.$el.html(this.template());this.$el.data({id:this.model.id});this.render();var b=this;this.model.bind("removed",function(){b.destroy()})},render:function(){if(this.model){var a=Math.floor(this.model.get("progress")/10)+"%";this.model.get("selected")?this.$(".bt_torrent_list").addClass("selected_torrent"):
this.$(".bt_torrent_list").removeClass("selected_torrent");this.set_name(this.model.get("name"));this.$(".torrent_info_percent_complete").html(a);var b=this.model.get("down_speed")+this.model.get("up_speed");1<b?(this.$(".torrent_info_speed").html(to_file_size(b)+"/s"),this.$(".torrent_info").removeClass("stopped")):(this.$(".torrent_info_speed").html(""),this.$(".torrent_info").addClass("stopped"));this.$(".color_calc").css("width",a);this.model.started()?(this.$(".bt_button_play").css("display",
"none"),this.$(".bt_button_pause").css("display","block")):(this.$(".bt_button_pause").css("display","none"),this.$(".bt_button_play").css("display","block"));this.model.started()?this.model.isCompleted()?this.$(".torrent_dl_color").css("background-color","#86c440"):this.$(".torrent_dl_color").css("background-color","#84c2ff"):this.$(".torrent_dl_color").css("background-color","#cecece");this.model.get("message").match(/error/i)&&this.$(".torrent_dl_color").css("background-color","#8d1c10")}else this.set_name("No Torrents");
return this.$el},set_name:function(a){this.$(".torrent_info").html(a)}});var TorrentsView=Backbone.View.extend({initialize:function(a){this.app=a.app;var b=this;this.model.bind("firstupdate",function(){b.render()});console.error("TORRENTS VIEW INIT",this,this.model);this.model.bind("new_torrent",function(a){console.log("add new torrent",a);a.view||(a.view=new TorrentView({model:a,app:b.app}));b.$el.prepend(a.view.render())})},render:function(){this.$el.html("");var a=this;this.model&&this.model.torrents&&(0==this.model.torrents.length?$("#global_container").html("No torrents"):
this.model.torrents.each(function(b){b.view||(b.view=new TorrentView({model:b,app:a.app}));a.$el.append(b.view.$el);b.view.bind_events()}))}});var ActiveTorrentView=TorrentView.extend({initialize:function(a){this.template=_.template($("#torrent_template").html());this.app=a.app;this.$el.html(this.template());$("#torrent_controls").show();$(".default_container").hide();this.model&&(this.model.bind("change",this.render,this),this.bind_action_events());this.render()},onClose:function(){this.model&&this.model.unbind("change",this.render)}});var File=Backbone.Model.extend({meta:[{name:"name"},{name:"size",type:"int",unit:"bytes"},{name:"downloaded",type:"int",unit:"bytes"},{name:"priority",type:"int"},{name:"first_piece",type:"int"},{name:"num_pieces",type:"int"},{name:"streamable",type:"bool"},{name:"encoded_rate",type:"int"},{name:"duration",type:"int"},{name:"width",type:"int"},{name:"height",type:"int"},{name:"stream_eta",type:"int"},{name:"streamability",type:"int"}],initialize:function(a){this.__name__="File";for(var a=a.data,b=
0;b<this.meta.length;b++)this.set(this.meta[b].name,a[b])},serialize:function(){for(var a=[],b=0;b<this.meta.length;b++)a.push(this.get(this.meta[b]));return a},update:function(a){for(var b={},c=1;c<this.meta.length;c++)b[this.meta[c].name]=a[c];this.set(b)},started:function(){return!0},isCompleted:function(){return!0},get_filename:function(){var a=this.get("name").split("\\");return a[a.length-1]},get_url:function(){var a=this.collection.torrent,b=a.collection.client;if("local"==b.get("type"))return"http://127.0.0.1:"+
b.get("data").port+"/proxy?sid="+a.get("stream_id")+"&file="+this.id+"&service=STREAMING"+b.get_auth_url_str();var c="/"+this.get_filename();return b.get("data").host+"/client/proxy"+c+"?sid="+a.get("stream_id")+"&file="+this.id+"&service=STREAMING"+b.get_auth_url_str()},download:function(){var a=this.get_url();a&&window.open(a)}});var FileCollection=Backbone.Collection.extend({initialize:function(a,b){this.torrent=b.torrent;this.bind("selected",function(){});this.bind("remove",function(){});this.updates=0;this.updating=!1;this.next_update=null;this.update_interval=4E3},start_updating:function(){this.updating||(this.updating=!0,this.do_update())},do_update:function(){var a=this,b=function(){a.next_update=setTimeout(function(){a.do_update()},a.update_interval)};this.fetch({success:b,error:b})},reset:function(){},sync:function(a,
b,c){if("read"==a)this.torrent.collection.client.doreq({action:"getfiles",hash:this.torrent.get("hash")},function(a){console.log("got getfiles update");for(var a=a.files[1],e=0;e<a.length;e++)if(0<b.updates)b.get(e).update(a[e]);else{var g=new File({id:e,data:a[e]});b.add(g)}b.updates++;c&&c.success&&c.success()},function(){debugger;c&&c.error&&c.error()});else debugger},comparator:function(a){return-a.attributes.name}});var FileView=Backbone.View.extend({destroy:function(){this.unbind();this.remove()},bind_events:function(){var a=this;this.model.bind("change",function(){a.render()});this.$(".torrent_name").dblclick(function(){a.model.download();custom_track({tb_category:"file",tb_action:"play",tb_label:null,tb_value:null})})},initialize:function(){this.template=_.template($("#file_template").html());this.$el.html(this.template());this.$el.data({id:this.model.id});this.render();var a=this;this.model.bind("removed",
function(){a.destroy()});this.bind_events()},render:function(){if(this.model){var a=Math.floor(100*(this.model.get("downloaded")/this.model.get("size")))+"%";this.model.get("selected")?this.$(".bt_torrent_list").addClass("selected_torrent"):this.$(".bt_torrent_list").removeClass("selected_torrent");this.$(".torrent_info").html(this.model.get("name"));this.$(".torrent_info_percent_complete").html(a);var b=this.model.get("down_speed")+this.model.get("up_speed");1<b?this.$(".torrent_info_speed").html(to_file_size(b)+
"/s"):this.$(".torrent_info_speed").html("");this.$(".color_calc").css("width",a);this.model.started()?(this.$(".bt_button_play").css("display","none"),this.$(".bt_button_pause").css("display","block")):(this.$(".bt_button_pause").css("display","none"),this.$(".bt_button_play").css("display","block"));this.model.started()?this.model.isCompleted()?this.$(".torrent_dl_color").css("background-color","#86c440"):this.$(".torrent_dl_color").css("background-color","#84c2ff"):this.$(".torrent_dl_color").css("background-color",
"#cecece")}else this.$(".torrent_info").html("No Torrents");return this.$el}});var FilesView=Backbone.View.extend({initialize:function(){var a=this;this.model.bind("add",function(b){b.view||(b.view=new FileView({model:b}));a.$el.append(b.view.render())})}});
